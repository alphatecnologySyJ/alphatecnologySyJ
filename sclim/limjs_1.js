/*
 LIM 5.6.4
 Libro Interactivo Multimeda
 Fran Macias , http://educalim.org
 CC 3.0  BY 
  ---
 (Adriana & Guille)
*/

function clasificar(x){var y={textos:"",caixas:"",txcaixas:"",modo:""};this.crear=function(){function e(e,t,r){v++,e.style.zIndex=v,t=parseInt(e.id),r=e.id.substring(e.id.length-1);for(var n,i=0;i<l;i++){if(n=i+1,LIM.esdrop(e,u[i],e,!0,!1)){d[t]=r==n?1:0;break}d[t]=0}}y=LIM.prc(y,x);var t=x.properties.trnsimf||[],r=x.properties.imfondo||[],n=x.properties.textos,i=x.properties.caixas,o=x.properties.modo||"0",a=-1<x.properties.txcaixas.indexOf(",")?x.properties.txcaixas.split(","):x.properties.txcaixas,s=n.length,l=a.length;0==l&&(l=r.length);var c=LIM.crearbase(x),p=LIM.paxina(),d=Array(s),u=Array(l),m=0,f="dst",h="",f=0,v=1100;null==x.donde&&LIM.comunes(c,x.txcabe,x.txpe,x.properties.ison,x.properties.autoson,x.properties.txliga,x.properties.paxliga),LIM.addEventSimple(LIM.esactividad(c,!0),"click",function(){-1<d.toString().indexOf(0)?LIM.poneravaliacion(c,x.properties.mensamal,!1,x.properties.funava,x.num):LIM.poneravaliacion(c,x.properties.mensaben,!0,x.properties.funava,x.num)}),h="1"==o?"clclas-ca":"clclas-ca clclas-borde",2<l&&(h+=" clclas-camin"),o=LIM.creardom("div",c,"","clclas-u1",-1,-1);for(var g=LIM.creardom("div",c,"","clclas-u2",-1,-1),m=0;m<l;m++){var b=LIM.creardom("div",g,m+"caixa"+p,h,-1,-1);a[m]&&(b.innerHTML=a[m]),r[m]&&(b.style.backgroundImage="url("+r[m]+")",t[m]&&LIM.transparencia(b,t[m])),u[m]=b,1==m&&(f=-1),f++}for(12<s&&(dime=50),m=0,f="etq",h="",t=LIM.desordena(s),dHeight=51*s+20,m=r=0;m<s;m++)h=(r=t[m])+f+p+i[r],a=LIM.creardom("div",o,h,"clclas-etq",-1,-1),50<n[r].length&&(a.style.fontSize="12px"),a.innerHTML=n[r],LIM.drag(a,c,e),d[r]=0}}function clasificarimx(L){var I={textos:[],caixas:[],txcaixas:[],imaxes:[],imaxeAltText:[],profondo:[],imfondo:[],mensaben:"",mensamal:""},I=LIM.qhtml(L.donde,I);this.crear=function(){function e(e,t,r){g++,e.style.zIndex=g,t=parseInt(e.id),r=e.id.substring(e.id.length-1);for(var n,i=0;i<u;i++){if(n=i+1,LIM.esdrop(e,v[i],e,!1,!1,!0)){h[t]=r==n?1:0;break}h[t]=0}}var t=(L=LIM.prc(I,L)).properties.textos||[],r=L.properties.caixas||[],n=L.properties.txcaixas||[],i=L.properties.trnsimf||[],o=L.properties.imfondo||[],a=L.properties.imaxes,s=L.properties.imaxeAltText||[],l=L.properties.cfondo||"",c=L.properties.cadro||"",p=L.properties.modo||"0",d=a.length,u=n.length;0==u&&(u=o.length);var m=LIM.crearbase(L),f=LIM.paxina(),h=Array(d),v=Array(u),g=1100,b=null;null==L.donde&&LIM.comunes(m,L.txcabe,L.txpe,L.properties.ison,L.properties.autoson,L.properties.txliga,L.properties.paxliga),LIM.addEventSimple(LIM.esactividad(m,!0),"click",function(){-1<h.toString().indexOf(0)?LIM.poneravaliacion(m,L.properties.mensamal,!1,L.properties.funava,L.num):LIM.poneravaliacion(m,L.properties.mensaben,!0,L.properties.funava,L.num)}),b="1"==p?"clclaimx-cx":"clclaimx-cx clclaimx-borde",3==u&&(b+=" clclaimx-c3"),3<u&&(b+=" clclaimx-c4"),p=LIM.creardom("div",m,"","clclaimx-u1",-1,-1);for(var x=LIM.creardom("div",m,"","clclaimx-u2",-1,-1),y=0;y<u;y++){var M=LIM.creardom("div",x,y+"caixa"+f,b,-1,-1);n[y]&&(M.innerHTML=n[y]),o[y]&&(M.style.backgroundImage="url("+o[y]+")",i[y]&&LIM.transparencia(M,i[y])),v[y]=M,1==y&&0,0}for(y=0,o="",n=LIM.desordena(d),y=i=0;y<d;y++)o=(i=n[y])+"metq"+f+r[i],o=LIM.creardom("div",p,o,"clclaimx-cad",-1,-1),""!=l&&(o.style.backgroundColor="#"+l),"1"==c&&(o.style.borderWidth="1px"),(b=LIM.crearimaxe({pai:o,name:y+"imx"+f,cssclass:"clclaimx-ix",alttext:s[i]})).setAttribute("src",a[i]),LIM.drag(o,m,e,"clclaimx-cad"),h[i]=0,""!=L.properties.textos&&""!=t[i]&&((o=LIM.creardom("div",o,y+"txt"+f,"bandat",0,104)).style.width="150px",o.style.height="34px",o.innerHTML=t[i])}}function completar(f){var h={};this.crear=function(){h=LIM.prc(h,f);for(var i=f.properties.modo||"1",e=[],t=[],r=[],o=f.properties.textos.length,n=0;n<o;n++)arretq=f.properties.textos[n].split("||"),e[n]=arretq[0],t[n]=arretq[1],r[n]=arretq[2];var a,s,l=LIM.crearbase(f),c=LIM.paxina(),p=Array(o),d=Array(o),n=0;for(null==f.donde&&LIM.comunes(l,f.txcabe,f.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){for(var e,t,r=!0,n=0;n<o;n++)e=p[n],valtx="1"==i?(t=e.value,d[n]):(t=LIM.ttrim(e.value.toLowerCase()),d[n].toLowerCase()),valtx==t?e.style.backgroundColor="#F2F5A9":r=!(e.style.backgroundColor="#E6E6E6");r?LIM.poneravaliacion(l,f.properties.mensaben,!0,f.properties.funava,f.num):LIM.poneravaliacion(l,f.properties.mensamal,!1,f.properties.funava,f.num)}),n=a=n=0;n<o;n++)t[n].length>a&&(a=t[n].length);a*=14,"3"==i&&(s=t.slice(),LIM.revolve(s));var u=LIM.creardom("div",l,"","clcomp-cadro");for(n=0;n<o;n++){var m=LIM.creardom("div",u,"","clcomp-base");e[n]&&((a=LIM.creardom("span",m,"","clcomp-txt")).innerHTML=e[n]),""!=t[n]&&(a="3"==i?LIM.crearselect(m,n+"dstum"+c,"clcomp-in",-5,0,s):LIM.crearinput({pai:m,name:n+"dstum"+c,cssclass:"clcomp-in",pholder:h.pholder}),d[n]=t[n],p[n]=a),""!=r[n]&&null!=r[n]&&((a=LIM.creardom("span",m,"","clcomp-txt")).innerHTML=r[n])}"2"==i&&((m=LIM.creardom("div",l,"","clcomp-axu")).innerHTML=t.toString().split(",").join(" | "))}}function cuadros(v){var g={},g=LIM.qhtml(v.donde,g);this.crear=function(){function e(e,t,r){for(var n=null,i=[],o=0,a=0;a<t.length;a++)for(var s=0;s<t[a].length;s++)n=document.createElement("DIV"),e.appendChild(n),n.style.backgroundColor="transparent",i[o]=n,0<t[a][s]&&r?(n.style.backgroundColor=l[t[a][s]-1],n.className="clsime-cadro clsime-cor"):n.className="clsime-cadro",r||(n.onclick=function(){"transparent"!=this.style.backgroundColor?(this.style.backgroundColor="transparent",this.className="clsime-cadro"):(this.style.backgroundColor=c,this.className="clsime-cadro clsime-cor")}),o++;return i}Element.prototype.hasClassName=function(e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(this.className)},Element.prototype.addClassName=function(e){this.hasClassName(e)||(this.className=[this.className,e].join(" "))},Element.prototype.removeClassName=function(e){this.hasClassName(e)&&(this.className=this.className.replace(new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)","g")," "))},Element.prototype.toggleClassName=function(e){this[this.hasClassName(e)?"removeClassName":"addClassName"](e)};var l="#ff0000 #00ff00 #0000ff #ff8000 #ffff00 #c8a2c8 #ffffff #000000".split(" "),c=l[0],t=null;g=LIM.prc(g,v);var r=v.properties.valor||"0",n=v.properties.forma||"0",i=v.properties.cadros||[];if("0"==(v.properties.modo||"0")){var o=1;"1"==r&&(o=10);for(var a=r="",s=a=0;s<7;s++){r="";for(var p=0;p<8;p++)7<(a=Math.floor(Math.random()*(+o+1)))&&(a=0),r+=a=a.toString();i[s]=r}}var d=LIM.crearbase(v);LIM.paxina(),s="",LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){for(var e,t=!0,r="",n=0;n<f.length;n++)e=(e=(e=h[n].style.backgroundColor).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"",r+=e=NaN==Number(e)?0:l.indexOf(e)+1;for(r=r.match(/.{1,8}/g),n=0;n<u;n++)r[n]!=m[n]&&(t=!1);t?LIM.poneravaliacion(d,v.properties.mensaben,!0,v.properties.funava,v.num):LIM.poneravaliacion(d,v.properties.mensamal,!1,v.properties.funava,v.num)});var u=i.length,m=[];if(0==n)for(s=0;s<u;s++)m.push(i[s]);else if("1"==n)for(s=0;s<u;s++)m[s]=function(e){e=e.split("");for(var t=0;t<e.length;t++)0!=e[t]?e[t]=0:e[t]=1;return e.join("")}(i[s]);else if("2"==n)for(s=0;s<u;s++)m[s]=i[s].split("").reverse().join("");else if("3"==n)for(s=0;s<u;s++)m[s]="0"+i[s].substr(0,7);(n=document.createElement("DIV")).className="clsime-base",d.appendChild(n);var f=e(n,i,!0);(n=document.createElement("DIV")).className="clsime-base",d.appendChild(n);var h=e(n,i),i=null;for((n=document.createElement("DIV")).className="clsime-colores",d.appendChild(n),o=0;o<l.length;o++)(i=document.createElement("DIV")).className="clsime-color",i.style.backgroundColor=l[o],n.appendChild(i),i.onclick=function(){c=this.style.backgroundColor,this.addClassName("clsime-sel"),t.removeClassName("clsime-sel"),t=this},0==o&&(t=i).addClassName("clsime-sel");(i=document.createElement("DIV")).className="clsime-del",n.appendChild(i),i.onclick=function(){for(var e=0;e<h.length;e++)h[e].style.backgroundColor="transparent",h[e].className="clsime-cadro"},i.innerHTML="X"}}function dictado(u){var m={},m=LIM.qhtml(u.donde,m);this.crear=function(){var e,t=(u=LIM.prc(m,u)).properties.texto,r=u.properties.son||"",i=u.properties.modo||"0",n=u.properties.forma||"0",o=t.replace(/ +(?= )/g,""),a=o.split(/<br>| /),s=LIM.crearbase(u),l=LIM.creardom("div",s,"","cldic-base");LIM.paxina(),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){var e=c.value.replace(/(?:\r\n|\r|\n)/g,"<br>").replace(/ +(?= )/g,""),t=e.split(/<br>| /),r="";if("1"==i)for(var n=0;n<t.length;n++)r=t[n]!=a[n]?r+("<span>"+t[n])+"</span> ":r+(t[n]+" ");o==e?LIM.poneravaliacion(s,u.properties.mensaben,!0,u.properties.funava,u.num):(LIM.poneravaliacion(s,u.properties.mensamal,!1,u.properties.funava,u.num),"1"==i&&(d.innerHTML=r,p.style.display="block"))}),"1"==n&&(LIM.creardom("div",l,"","cldic-or").innerHTML=t),""!=r&&(t=LIM.creardom("div",l,"","cldic-bts"),(e=LIM.creardom("audio",t,"","cldic-au")).controls=!0,e.src=r,(r=document.createElement("button")).className="cldic-bot",r.title=LIM.td("Pausa"),t.appendChild(r),r.innerHTML="-3",LIM.addEventSimple(r,"click",function(){e.pause(),e.currentTime-=3,e.pause()}));var c=document.createElement("TEXTAREA");c.className="cldic-txt",l.appendChild(c);var p=LIM.creardom("div",l,"","cldic-dvc"),l=LIM.creardom("button",p,"","cldic-btc",-1,-1),d=LIM.creardom("div",p,"","cldic-cor",-1,-1);l.innerHTML="x",l.setAttribute("aria-label",LIM.td("Cerrar")),l.setAttribute("title",LIM.td("Cerrar")),LIM.addEventSimple(l,"click",function(){this.parentNode.style.display="none"})}}function esquema(i){var o={texto:""},o=LIM.qhtml(i.donde,o);this.crear=function(){function u(e,t){function r(e,t){e.Nodes||(e.Nodes=[]);var r=e.Nodes.length;e.Nodes[r]={},t.Action||(t.Action=""),e.Nodes[r].Action=t.Action,e.Nodes[r].Content=t.texto,e.Nodes[r].Pai=t.pai}var n=JSON.parse(e),i=n.esquema[0].texto,o="";0<i.indexOf("]")&&(o=i.substring(i.lastIndexOf("[")+1,i.lastIndexOf("]")),i=i.split("["+stacti+"]").join("")),i={Content:i,Action:o,Nodes:[]},o=[-1,-1,-1,-1,-1,-1,-1,-1];for(var a=1;a<n.esquema.length;a++)switch(n.esquema[a].nivel){case"1":r(i,n.esquema[a]),o[1]++,o[2]=-1,o[3]=-1;break;case"2":r(i.Nodes[o[1]],n.esquema[a]),o[2]++,o[3]=-1;break;case"3":r(i.Nodes[o[1]].Nodes[o[2]],n.esquema[a]),o[3]++;break;case"4":r(i.Nodes[o[1]].Nodes[o[2]].Nodes[o[3]],n.esquema[a]),o[4]++;break;case"5":r(i.Nodes[o[1]].Nodes[o[2]].Nodes[o[3]].Nodes[o[4]],n.esquema[a]),o[5]++;break;case"6":r(i.Nodes[o[1]].Nodes[o[2]].Nodes[o[3]].Nodes[o[4]].Nodes[o[5]],n.esquema[a]),o[6]++}!function(e){(function e(t,r,n,i,o){null==r&&(r=0);null==n&&(n=null);null==i&&(i=null);null==o&&(o=[]);t.Level=r;t.ParentNode=n;t.LeftNode=i;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(n=0;n<t.Nodes.length;n++)i=null,0==n&&null!=o[r]&&(i=o[r]),0<n&&(i=t.Nodes[n-1]),n==t.Nodes.length-1&&(o[r]=t.Nodes[n]),e(t.Nodes[n],r+1,t,i,o)})(e.RootNode),("Vertical"==e.Layout?function e(t,r){var n=r.height||100,i=r.width||100,o=5;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var a=0;a<t.Nodes.length;a++)e(t.Nodes[a],r);!t.Collapsed&&t.Nodes&&0<t.Nodes.length?(o=t.Nodes[0].Top+(t.Nodes[t.Nodes.length-1].Top+t.Nodes[t.Nodes.length-1].Height-t.Nodes[0].Top)/2-n/2,t.LeftNode&&t.LeftNode.Top+t.LeftNode.Height+20>o&&(a=t.LeftNode.Top+t.LeftNode.Height+20,d(t.Nodes,a-o),o=a)):t.LeftNode&&(o=t.LeftNode.Top+t.LeftNode.Height+20);t.Top=o;t.Left=5+30*t.Level+i*t.Level;t.Height=n;t.Width=i;g.style.height=2*(t.Top+t.Height)+"px";i=t.Left+i;t.ChildrenConnectorPoint={X:i,Y:o+n/2,Layout:"Vertical"};i=t.Left;t.ParentConnectorPoint={X:i,Y:o+n/2,Layout:"Vertical"}}:function e(t,r){var n=r.height||30,i=r.width||100,o=5;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var a=0;a<t.Nodes.length;a++)e(t.Nodes[a],r);!t.Collapsed&&t.Nodes&&0<t.Nodes.length?(o=t.Nodes[0].Left+(t.Nodes[t.Nodes.length-1].Left+t.Nodes[t.Nodes.length-1].Width-t.Nodes[0].Left)/2-i/2,t.LeftNode&&t.LeftNode.Left+t.LeftNode.Width+30>o&&(a=t.LeftNode.Left+t.LeftNode.Width+30,p(t.Nodes,a-o),o=a)):t.LeftNode&&(o=t.LeftNode.Left+t.LeftNode.Width+30);t.Left=o;t.Top=5+50*t.Level+n*t.Level;t.Height=n;t.Width=i;g.style.height=3*(t.Top+t.Height)+"px";n=t.Top+n;t.ChildrenConnectorPoint={X:o+i/2,Y:n,Layout:"Horizontal"};n=t.Top;t.ParentConnectorPoint={X:o+i/2,Y:n,Layout:"Horizontal"}})(e.RootNode,e),e.Container.innerHTML="",function e(t,r,n){{var i;""!=t.Action&&"o"!=t.Action?((i=document.createElement("a")).href='javascript:LIM.salto("'+t.Action+'")',i.title="link: "+t.Action):i=document.createElement("div")}i.style.top=t.Top+"px";i.style.left=t.Left+"px";i.style.width=t.Width+"px";i.style.height=t.Height+"px";{var o;t.Collapsed?i.className=" clesq-nodeco":"o"==t.Action?(i.className="clesq-node clesq-oc",i.innerHTML="?",i.cnt=t.Content,i.Pai=t.Pai,f.push(t.Content),h.push(t.Pai)):(i.className="clesq-node",""!=t.Action&&((o=document.createElement("div")).className="clesq-lnk",i.appendChild(o)))}t.Class&&(i.className=t.Class);t.Content&&(o=document.createElement("div"),o.className="clesq-nodec",i.appendChild(o),"o"!=t.Action&&(o.innerHTML+=t.Content));t.ToolTip&&i.setAttribute("title",t.ToolTip);i.Node=t;n.OnNodeClick&&(i.onclick=n.OnNodeClick);n.OnNodeDoubleClick&&(i.ondblclick=n.OnNodeDoubleClick);r.appendChild(i);i.style.zIndex="200";if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(i=0;i<t.Nodes.length;i++)e(t.Nodes[i],r,n)}(e.RootNode,e.Container,e),function e(t,r){if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var n=0;n<t.Nodes.length;n++){var i,o,a,s;"Vertical"==t.ChildrenConnectorPoint.Layout?(i=r,o=t.ChildrenConnectorPoint,a=t.Nodes[n].ParentConnectorPoint,s=o.X+(a.X-o.X)/2,c(i,o.X,o.Y,s,o.Y,1),c(i,s,(o.Y<a.Y?o:a).Y,s,(o.Y>a.Y?o:a).Y,1),c(i,s,a.Y,a.X,a.Y,1)):(i=r,o=t.ChildrenConnectorPoint,a=t.Nodes[n].ParentConnectorPoint,s=o.Y+(a.Y-o.Y)/2,c(i,o.X,o.Y,o.X,s,1),c(i,(o.X<a.X?o:a).X,s,(o.X>a.X?o:a).X,s,1),c(i,a.X,s,a.X,a.Y,1)),e(t.Nodes[n],r)}}(e.RootNode,e.Container);var t=f,r=h,n=e.Container,i=e.RootNode.Width;e=e.RootNode.Height;for(var o=LIM.desordena(t.length),a=0;a<t.length;a++){var s=document.createElement("div");s.innerHTML=t[o[a]],s.className="clesq-drag",s.style.width=i,s.style.height=e,s.cnt="0";var l=n.parentNode.parentNode;l.appendChild(s),s.npai=r[o[a]],LIM.drag(s,l,m)}}({Container:t,RootNode:i,Layout:s,width:l,height:v}),t.style.width="auto"}function c(e,t,r,n,i,o){var a=document.createElement("div");a.style.top=r+"px",a.style.left=t+"px",t==n?(a.style.width=o+"px",a.style.height=i-r+"px"):(a.style.width=n-t+"px",a.style.height=o+"px"),a.className="clesq-li",e.appendChild(a)}function p(e,t){for(var r=0;r<e.length;r++)e[r].Left+=t,e[r].ParentConnectorPoint&&(e[r].ParentConnectorPoint.X+=t),e[r].ChildrenConnectorPoint&&(e[r].ChildrenConnectorPoint.X+=t),e[r].Nodes&&p(e[r].Nodes,t)}function d(e,t){for(var r=0;r<e.length;r++)e[r].Top+=t,e[r].ParentConnectorPoint&&(e[r].ParentConnectorPoint.Y+=t),e[r].ChildrenConnectorPoint&&(e[r].ChildrenConnectorPoint.Y+=t),e[r].Nodes&&d(e[r].Nodes,t)}function m(e,t,r){e.cnt="0",e.style.visibility="hidden",t=document.elementFromPoint(t,r),e.style.visibility="visible",-1<t.className.indexOf("clesq-oc")&&(e.style.left=t.style.left,e.style.top=t.offsetTop+t.parentNode.offsetTop+"px",e.npai==t.Pai&&(e.cnt="1"))}var e=(i=LIM.prc(o,i)).properties.dim||["0","0"],t=Number(i.properties.forma)||0,r=i.properties.texto||"";0<r.indexOf("|")?(tmodo=2,r.split("|")):'"'==r.charAt(0)?r.slice(1,-1).split(" "):(r.split(""),tmodo=1);var n=LIM.crearbase(i);LIM.paxina();var f=[],h=[];null==i.donde&&LIM.comunes(n,i.txcabe,i.txpe,i.properties.ison,i.properties.autoson,i.properties.txliga,i.properties.paxliga),(-1<r.indexOf("[o]")||-1<r.indexOf("[?]"))&&LIM.addEventSimple(LIM.esactividad(n,!0),"click",function(){for(var e=!0,t=n.querySelectorAll(".clesq-drag"),r=0;r<t.length;r++)"1"!=t[r].cnt&&(e=!1);0==e?LIM.poneravaliacion(n,i.properties.mensamal,!1,i.properties.funava,i.num):LIM.poneravaliacion(n,i.properties.mensaben,!0,i.properties.funava,i.num)}),e=e.map(Number);var s="Vertical";1==t?(s="Horizontal",0==e[0]&&(e[0]=120)):0==e[0]&&(e[0]=140),0==e[1]&&(e[1]=60);var l=e[0],v=e[1];(t=document.createElement("div")).setAttribute("class","clesq-base"),n.appendChild(t),(e=document.createElement("div")).setAttribute("class","clesq-cmov"),t.appendChild(e);var g=document.createElement("div");g.setAttribute("class","clesq-cnodes"),t.appendChild(g),function(e,t,r){var n=[0,0,0,0,0,0,0,0],i=e.split("|"),o=0;if(-1<e.indexOf("[?]"))for(e=0;e<i.length;e++)0<i[e].search("[?]")&&(i[e]=i[e].replace("[?]",r[o]+"[o]"),o++);var a,s,l,c,p="",d="";for(r=-1,e=o=0;e<i.length;e++)-1<(d=function(e){for(var t=0;t<e.length;t++)if("*"!=e[t]&&"\t"!=e[t])return t;return e.length}(i[e]))&&(d!=o&&(r=o,o=d),a=i[e],s=d,l=e,c=r,c="",a=a.slice(s),n[s]=l,0<a.indexOf("]")&&(c=a.substring(a.lastIndexOf("[")+1,a.lastIndexOf("]")),a=a.split("["+c+"]").join("")),a.replace(/\s+$/,""),a='{"texto":"'+(a=a.replace(/"/g,'\\"'))+'","num":"'+l+'","nivel":"'+s+'","pai":"'+n[s-1]+'","Action":"'+c+'","liga":""}',JSON.stringify(a),p+=(d={datjs:a}.datjs)+",");u(i='{"esquema":['+p.substring(0,p.length-1)+"]}",t)}(r,g,[])}}function etiquetas(L){var I={},I=LIM.qhtml(L.donde,I);this.crear=function(){function e(e,t,r){h++,e.style.zIndex=h,t=parseInt(e.id);for(var n=u[t]=0;n<p;n++)if(r=m[n],LIM.estasobre(e,r,!1)){u[t]=e.valor==r.valor?1:0;break}}I=LIM.prc(I,L);for(var r=L.properties.modo||"1",t=L.properties.imaxe||"",n=[],i=[],o=[],a=[],s=[],l=L.properties.etiquetas.length,c=0;c<l;c++)n=L.properties.etiquetas[c].split("||"),i[c]=n[0],o[c]=n[1],a[c]=n[2];"7"==r&&(s=i);var p=i.length,d=LIM.crearbase(L),n=LIM.paxina(),u=Array(p),m=Array(p),f=Array(p),c=0,h=1100;null==L.donde&&LIM.comunes(d,L.txcabe,L.txpe,L.properties.ison,L.properties.autoson,L.properties.txliga,L.properties.paxliga),-1<"2379".indexOf(r)&&LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){var e=-1==u.toString().indexOf("0");if("9"==r){for(e=0;e<p;e++){var t=m[e];u[e]=f[e]==t.value?1:0}e=-1==u.toString().indexOf("0")}else if("2"==r){for(e=0;e<p;e++)t=m[e],f[e]==LIM.ttrim(t.value.toLowerCase())?u[e]=1:u[e]=0;e=-1==u.toString().indexOf("0")}"7"==r&&(e=!1,i.toString()==u.toString()&&(e=!0)),e?LIM.poneravaliacion(d,L.properties.mensaben,!0,L.properties.funava,L.num):LIM.poneravaliacion(d,L.properties.mensamal,!1,L.properties.funava,L.num)}),""!=t&&((c=LIM.crearimaxe({pai:d,name:"imaxclasifica"+n,"":"",posx:0,posy:26,alttext:L.properties.alttext})).src=t,c.style.position="relative",c.addEventListener("load",function(){this.parentNode.parentNode.style.minWidth=(this.offsetWidth+50).toString()+"px"})),t=LIM.desordena(p),l=0;var v,g,b=LIM.creardom("div",d,"","cletq-marco");"9"==r?(v=i.slice(),LIM.revolve(v)):"5"==r&&((g=LIM.creardom("div",d,"","cletq-ver")).innerHTML="");var x="6"==r?"cletq-lab":"cletq-punto";for(c=0;c<p;c++){l="9"==r||"3"==r?t[c]:c;var y="7"==r?LIM.crearlink({pai:d,name:c+"etqpnt"+n,text:"",url:"javascript:;",cssclass:"cletq-punto",posx:o[c],posy:20+Number(a[c]),alttext:LIM.td("Seleccionar")}):LIM.creardom("div",d,c+"etqpnt"+n,x,o[c],20+Number(a[c]));switch("7"!=r&&(y.innerHTML=c+1),u[l]=0,r){case"1":g=LIM.creardom("div",b,"","cletq-base");var M=LIM.creardom("span",g,"","cletq-num");M.innerHTML=c+1,(y=LIM.creardom("span",g,"","cletq-txt")).innerHTML=i[l];break;case"2":g=LIM.creardom("div",b,"","cletq-base"),(M=LIM.creardom("span",g,"","cletq-num")).innerHTML=c+1,y=LIM.crearinput({pai:g,name:c+"input"+n,cssclass:"cletq-txt",posx:0,posy:-2,dimw:174,dimh:24,pholder:I.pholder}),m[c]=y,f[c]=i[c].toLowerCase();break;case"3":(m[l]=y).valor=i[c],y=LIM.creardom("div",b,l+"baseetq"+n,"cletq-drag"),M=LIM.creardom("div",y,"","cletq-tri"),g=LIM.creardom("div",y,"","cletq-dragtxt"),y.style.cursor="pointer",LIM.drag(y,d,e),g.innerHTML=i[l],f[l]=i[l],y.valor=i[l];break;case"5":y.valor="<p>"+(c+1)+"- "+i[c]+"</p>",y.son=s[c],y.onmouseover=function(){g.innerHTML=this.valor},y.onmouseout=function(){g.innerHTML=""},y.onclick=function(){LIM.sonar(this.son)},y.style.cursor="pointer";break;case"6":y.innerHTML=i[c];break;case"7":y.valor=i[c],y.num=c,y.setAttribute("class","cletq-punto cletq-sel0"),y.onclick=function(){var e=this.num;"0"==u[e]?(u[e]="1",this.setAttribute("class","cletq-punto cletq-sel1"),this.innerHTML="x"):(u[e]="0",this.setAttribute("class","cletq-punto cletq-sel0"),this.innerHTML="")},y.style.cursor="pointer";break;case"8":y.valor=i[c],y.onclick=function(){LIM.salto(this.valor)},y.style.cursor="pointer";break;case"9":f[l]=i[c],g=LIM.creardom("div",b,"","cletq-base"),(M=LIM.creardom("span",g,"","cletq-num")).innerHTML=c+1,y=LIM.crearselect(g,l+"baseetq"+n,"cletq-list",-1,0,v),m[l]=y}}}}function etiquetastxt(M){var L={},L=LIM.qhtml(M.donde,L);this.crear=function(){function e(e,t,r){b++,e.style.zIndex=b,t=parseInt(e.id);for(var n=0;n<m;n++){if(r=v[n],LIM.estasobre(e,r,!0)){h[t]=g[n]==e.id[0]?1:0;break}h[t]=0}}L=LIM.prc(L,M);for(var t=M.properties.modo||"0",r=M.properties.tam||"14",n=M.properties.imaxe||"",i=M.properties.posx||0,o=M.properties.posy||0,a=[],s=[],l=[],c=[],p=M.properties.etiquetas.length,d=0;d<p;d++)a=M.properties.etiquetas[d].split("||"),s[d]=a[0],l[d]=a[1],c[d]=a[2];var u,m=s.length,f=LIM.crearbase(M),a=LIM.paxina(),h=Array(m),v=Array(m),g=Array(m),p=r+"px",d=0,b=1100,x="#ff00ff #000000 #0000ff #fff000 #00ff00 #777777".split(" ");for(null==M.donde&&LIM.comunes(f,M.txcabe,M.txpe,M.properties.ison,M.properties.autoson,M.properties.txliga,M.properties.paxliga),"0"!=t&&LIM.addEventSimple(LIM.esactividad(f,!0),"click",function(){if("1"==t)for(var e=0;e<m;e++)g[e]==LIM.ttrim(v[e].value.toLowerCase())?h[e]=1:h[e]=0;-1<h.toString().indexOf(0)?LIM.poneravaliacion(f,M.properties.mensamal,!1,M.properties.funava,M.num):LIM.poneravaliacion(f,M.properties.mensaben,!0,M.properties.funava,M.num)}),""!=n&&((d=LIM.crearimaxe({pai:f,name:"imaxclasifica"+a,"":"",posx:Number(i),posy:Number(o)+26,alttext:M.properties.alttext})).addEventListener("load",function(){var e=this.width+50;this.parentNode.parentNode.style.minWidth=e.toString()+"px","2"==t&&(u.style.marginLeft=e+"px")}),d.src=n,d.style.position="relative"),n=LIM.desordena(m),d=o=i=0;d<m;d++)o=Math.max(o,s[d].length);for(o*=r-parseInt(r/2.6),"2"==t&&(u=LIM.creardom("div",f,"","cletq2-marco")),d=0;d<m;d++){var y,i="0"==t?d:n[d];switch("4"!=t&&((y=LIM.creardom("div",f,d+"punto"+a,"cletq2-txt",l[d],20+Number(c[d]))).style.fontSize=p),h[i]=0,t){case"0":y.innerHTML=s[d];break;case"1":r=LIM.crearinput({pai:f,name:d+"input"+a,cssclass:"cletq2-in",posx:l[d],posy:20+Number(c[d]),dimw:o+10,pholder:M.properties.pholder}),v[d]=r,g[d]=s[d].toLowerCase(),r.style.fontSize=p;break;case"2":y.innerHTML="&nbsp;",y.style.width=o+"px",v[i]=y,(r=LIM.creardom("div",u,i+"baseetq"+a,"cletq2-drag",592,10+40*d)).style.fontSize=p,r.style.width=o+"px",LIM.drag(r,f,e),r.innerHTML=s[i],g[i]=d;break;case"4":y.style.width="10px",y.style.height="14px",(v[i]=y).style.backgroundColor=x[d],(r=LIM.creardom("div",f,d+"baseetq"+a,"cletiqueta",592,60*d)).style.position="absolute",r.innerHTML=s[d],g[i]=d,function(e,t,r,n,i,o){var a=r.offsetLeft+r.offsetWidth;r=r.offsetTop+r.offsetHeight/2;var s=n.offsetTop+n.offsetHeight/2,l=n.offsetLeft-a,c=l/parseInt(2*Math.random()+2);n=a+c-i,l-=c,(a=LIM.creardom("div",e,t+"1l","",a,r)).style.position="absolute",a.style.width=c+"px",a.style.height=i+"px",a.style.backgroundColor=o,a.name="lina",r=s<r?((a=LIM.creardom("div",e,t+"2l","",n,s)).style.height=r-s+"px",s):((a=LIM.creardom("div",e,t+"2l","",n,r)).style.height=s-r+"px",r+s-r),a.style.width=i+"px",a.style.position="absolute",a.style.backgroundColor=o,a.name="lina",(a=LIM.creardom("div",e,t+"2l","",n,r)).style.width=i+l+"px",a.style.height=i+"px",a.style.position="absolute",a.style.backgroundColor=o,a.name="lina"}(f,d+"baseetq"+a,y,r,2,x[d])}}}}function externa(i){var o={},o=LIM.qhtml(i.donde,o);this.crear=function(){var e,t=(i=LIM.prc(o,i)).properties.externa||"",r=i.properties.dimx||"0",n=LIM.crearbase(i),n=LIM.creardom("div",n,"","clext-base");n=LIM.creardom("div",n,"",""),0<t.indexOf("iframe")?n.innerHTML=t:(e="clext-frm",0==r&&(e+=" clext-dim"),n.innerHTML='<iframe src="'+t+'" class="'+e+'" width="'+i.properties.dimx+'" height="'+i.properties.dimy+'" >'+t+"</iframe>")}}function formulas(m){var f={};this.crear=function(){var e=(m=LIM.prc(f,m)).properties.etiquetas||[""],t=m.properties.texto||"",r=e.length;if(0<r){t=[];for(var n=[],i=[],o=0;o<r;o++)arretq=e[o].split("||"),t[o]=arretq[0]||"",n[o]=arretq[1]||"",i[o]=arretq[2]||"";o=i[0].length}var a=LIM.crearbase(m);LIM.paxina(),null==m.donde&&LIM.comunes(a,m.txcabe,m.txpe,m.properties.ison,m.properties.autoson,m.properties.txliga,m.properties.paxliga),LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){for(var e=!0,t=s.length,r=0;r<t;r++)s[r]!=l[r].value&&(e=!1,l[r].value="");e?LIM.poneravaliacion(a,m.properties.mensaben,!0,m.properties.funava,m.num):LIM.poneravaliacion(a,m.properties.mensamal,!1,m.properties.funava,m.num)});var s=[],l=[];(e=document.createElement("div")).setAttribute("class","clfor-b"),a.appendChild(e);for(var c=0;c<r;c++){var p=document.createElement("div");p.setAttribute("class","clfor-l"),e.appendChild(p);for(var d,u=0;u<o;u++)"1"==i[c][u]?((d=document.createElement("div")).setAttribute("class","clfor-c"),null!=t[c][u]&&(d.innerHTML=t[c][u])):((d=document.createElement("INPUT")).setAttribute("type","text"),d.setAttribute("maxlength","1"),d.setAttribute("class","clfor-c clfor-in"),s.push(t[c][u]),l.push(d)),"s"==n[c][u]&&d.setAttribute("class",d.className+" clfor-sup"),"i"==n[c][u]&&d.setAttribute("class",d.className+" clfor-ind"),p.appendChild(d)}}}function fraccion(I){var N={texto:"",imaxe:"",altimaxe:"",palabras:"",letras:""};this.crear=function(){function e(e,t,r){for(var n=1;n<r;n+=2)e=74*n,t=n-1,(L=LIM.creardom("div",f,"","clfrac-cx",e,64)).innerHTML=a[t],LIM.creardom("div",f,"","clfrac-se",e,135),t=n,(L=LIM.creardom("div",f,"","clfrac-cx",e,144)).innerHTML=a[t];for(n=1;n<r/3;n++)e=74*n+74,u?(L=LIM.creardom("div",f,"","clfrac-cx",e,103)).innerHTML=l:"="==l&&(d=LIM.creardom("input",f,"","clfrac-cx clfrac-cm",e,103))}function t(e,t,r,n,i){v=t*e+t,(L=LIM.creardom("div",r,"","clfrac-cx",v,103)).innerHTML="=",v=t*(e+1)+t,LIM.creardom("div",r,"","clfrac-se",v,135),L=LIM.creardom("input",r,"","clfrac-cx clfrac-re",v,64),n&&(L.value=n),d=LIM.creardom("input",r,"","clfrac-cx clfrac-re",v,144),i&&(d.value=i)}function r(e){var t=Math.pow(10,e)-1;return e=10*(e-1),document.getElementById("demo"),Math.floor(Math.random()*(t-e)+e)+1}var n,a=(I=LIM.prc(N,I)).properties.numeros||[""],s=I.properties.resp||[""],i=I.properties.imaxe||"",o=I.properties.altimaxe||"",l=I.properties.forma||"+",c=I.properties.valor||"";"1"==(I.properties.alea||"")&&(n=Number(a[0]),x=Number(a[1]),a[0]=r(n),a[1]=r(x),a[2]=r(n),"1"==c?(a[3]=a[1],"-"==l&&a[0]==a[2]&&(a[0]+=1)):a[3]=r(x)),n=a.length;var p=LIM.crearbase(I);LIM.paxina();var d,u=!1,m="=";"r"!=l&&"p"!=l&&"="!=l&&(u=!0),null==I.donde&&LIM.comunes(p,I.txcabe,I.txpe,I.properties.ison,I.properties.autoson,I.properties.txliga,I.properties.paxliga),LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){var e=!1;if(u){var t=L.value,r=d.value;if(s[0])if("s"==s[0]){var n=h;for(o=g;0!==o;)var i=o,o=n%o,n=i;n=h/(o=n),o=g/o,n==t&&o==r&&(e=!0)}else Number(s[0])==t&&Number(s[1])==r&&(e=!0);else t/r==h/g&&(e=!0)}"="==l&&d.value==m&&(e=!0),"p"==l&&p.querySelectorAll(".clfrac-sel").length==b&&(e=!0),"r"==l&&(t=L.value,r=d.value,t==Number(a[0])&&r==Number(a[1])&&(e=!0)),e?LIM.poneravaliacion(p,I.properties.mensaben,!0,I.properties.ffinal,I.num):LIM.poneravaliacion(p,I.properties.mensamal,!1,I.properties.ffinal,I.num)}),(c=document.createElement("div")).setAttribute("class","clfrac-cim"),i&&((x=document.createElement("img")).setAttribute("src",i),x.setAttribute("class","clfrac-imx"),x.setAttribute("alt",o),c.appendChild(x)),p.appendChild(c);var f=LIM.creardom("div",p,"",""),o=n/2+1;switch(l){case"+":var h=Number(a[0])*Number(a[3])+Number(a[1])*Number(a[2]),g=Number(a[1])*Number(a[3]);e(74,0,n),t(o,74,f);break;case"-":h=Number(a[0])*Number(a[3])-Number(a[1])*Number(a[2]),g=Number(a[1])*Number(a[3]),e(74,0,n),t(o,74,f);break;case"x":h=Number(a[0])*Number(a[2]),g=Number(a[1])*Number(a[3]),e(74,0,n),t(o,74,f);break;case"/":h=Number(a[0])*Number(a[3]),g=Number(a[1])*Number(a[2]),e(74,0,n),t(o,74,f);break;case"=":h=Number(a[0])/Number(a[1]),(g=Number(a[2])/Number(a[3]))<h&&(m=">"),h<g&&(m="<"),h==g&&(m="="),e(74,0,n);break;case"r":if(""==i){"1"==a[1]&&(a[1]="2"),i=Number(a[0]),n=Number(a[1]);var b=i,x=n;if(n<i){for(var y=parseInt(i/n),M=0;M<y;M++){var L=LIM.creardom("div",c,"","clfrac-en");L.innerHTML="u"}LIM.creardom("p",c,"","clfrac-l"),b=i%n}for(M=0;M<b;M++)L=LIM.creardom("div",c,"","clfrac-pt clfrac-sel");for(M=0;M<x-b;M++)L=LIM.creardom("div",c,"","clfrac-pt")}t(o-2,74,f);break;case"p":if("1"==a[1]&&(a[1]="2"),""==i){if(i=Number(a[0]),(x=n=Number(a[1]))<(b=i)){for(y=parseInt(i/n),M=0;M<y;M++)(L=LIM.creardom("div",c,"","clfrac-en")).innerHTML="u";LIM.creardom("p",c,"","clfrac-l"),b=i%n}for(M=0;M<x;M++)(L=LIM.creardom("div",c,"","clfrac-pt")).addEventListener("click",function(){this.classList.toggle("clfrac-sel")})}e(74,0,2)}f.className="clfrac-base"}}function frases(f){this.crear=function(){var n,e=f.properties.imaxes||[],t=f.properties.textos||[],i=f.properties.respuestas||[],r=f.properties.sons||[],o=f.properties.modo||0,e=LIM.addrecu(e),r=LIM.addrecu(r);1==o&&(t=i),0<e.length?n=e.length:0<i.length&&(n=i.length);var a=e.length,s=LIM.crearbase(f),l=LIM.paxina();null==f.donde&&LIM.comunes(s,f.properties.txcabe,f.properties.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),1!=o&&LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){for(var e,t=!0,r=0;r<n;r++)d[r].value==i[r]?e="1px":t=!(e="5px"),d[r].style="border-width:"+e;t?LIM.poneravaliacion(s,f.properties.mensaben,!0,f.properties.funava,f.num):LIM.poneravaliacion(s,f.properties.mensamal,!1,f.properties.funava,f.num)}),(a=Array(a)).fill(0)||a.join("0").split("").map(parseFloat);for(var c,p,d=[],u=LIM.creardom("div",s,l+"frsb","clfrase-base"),m=0;m<n;m++)LIM.nozero(e[m])?(c=LIM.creardom("button",u,m+"frst"+l,"clfrase-im")).style="background-image: url("+e[m]+");":(c=LIM.creardom("button",u,m+"frst"+l,"clfrase-txt")).innerHTML=t[m],1==o?((p=LIM.creardom("button",u,m+"frsin"+l,"clfrase-ver")).innerHTML=t[m],p.setAttribute("readonly","readonly")):p=LIM.crearinput({pai:u,name:m+"frsin"+l,cssclass:"clfrase-input",pholder:f.properties.pholder}),d[m]=p,a[0]=0,LIM.nozero(r[m])&&(c.style.cursor="pointer",t[m]||(c.innerHTML="&#9654"),LIM.addEventSimple(c,"click",function(){var e=parseInt(this.id);r[e]&&LIM.sonar(r[e])}))}}function galeriaimx(h){var v={textos:[],imaxgr:[],imaxes:[],imaxeAltText:[],sons:[],mensaben:"",mensamal:""},g=new Audio;g.preload="auto",v=LIM.qhtml(h.donde,v),this.crear=function(){function e(){var e=parseInt(this.id);document.getElementById("vista362892").style.display="block",document.getElementById("btvx").focus(),document.getElementById("vistatexto").innerHTML=o[e]||"";var t=LIM.tcontido(s[e]),r=document.getElementById("vistaimaxe");"s"==t?LIM.crearswf(r,"",s[e],"clgal-imgrande",0,0,360,300,""):"v"==t?(t=LIM.crearvid(r,"",s[e],"clgal-imgrande",0,0,360,300,"")).style.border="solid 1px #cccccc":r.innerHTML="i"==t?'<img src="'+s[e]+'" class="clgal-imgrande" title="">':s[e],LIM.nozero(l[e])&&(g.src=l[e],g.play())}h=LIM.prc(v,h);var t=LIM.crearbase(h);if(h.properties.etiquetas)for(var r=h.properties.etiquetas.length,n=Array(r),i=[],o=[],a=[],s=[],l=[],c=0;c<r;c++)i=h.properties.etiquetas[c].split("||"),a[c]=i[0],s[c]=i[1],l[c]=i[2],o[c]=i[3];else r=h.properties.imaxes.length,o=h.properties.textos||[],a=h.properties.imaxes||[],s=h.properties.imaxgr||[],l=h.properties.sons||[];c=0;var p="gal"+(i=h.paxina),d=null,i=LIM.paxina();null==h.donde&&LIM.comunes(t,h.txcabe,h.txpe,h.properties.ison,h.properties.autoson,h.properties.txliga,h.properties.paxliga);var u=document.createElement("div");for(u.setAttribute("class","clgal-b"),t.appendChild(u),t="",c=0;c<r;c++){0;var m=LIM.creardom("button",u,c+p,"clgal-base",-1,-1);n[c]=m,d=LIM.creardom("div",m,"","clgal-cimax",-1,-1);var f=document.createElement("img");f.setAttribute("class","clgal-imaxe"),f.setAttribute("id",c+"gimx"+i),f.setAttribute("src",a[c]),t&&f.setAttribute("title",t),d.appendChild(f),null!=s[c]&&""!=s[c]||(s[c]=a[c]),LIM.addEventSimple(m,"click",e),LIM.nozero(o[c])&&(d=LIM.creardom("div",m,"","clgal-texto",0,0),(t=o[c].split("|")[0])&&(d.innerHTML=t),o[c].split("|")[1])}void 0!==document.getElementById("vista362892")&&((r=document.createElement("div")).setAttribute("class","clgal-big"),r.setAttribute("id","vista362892"),document.body.appendChild(r),LIM.creardom("div",r,"vistatexto","clgal-bigtx"),LIM.creardom("div",r,"vistaimaxe","clgal-bigim"),(r=LIM.creardom("button",r,"btvx","clgal-bigx")).innerHTML="X",r.setAttribute("title",LIM.td("Cerrar"))),LIM.addEventSimple(document.getElementById("btvx"),"click",function(){this.parentNode.style.display="none",document.getElementById("vistaimaxe").innerHTML="",g.pause(),g.currentTime=0})}}function galeriasons(f){var h={textos:[],imaxes:[],imaxeAltText:[],sons:[]},h=LIM.qhtml(f.donde,h);this.crear=function(){function t(e){p[parseInt(e.id)]&&(o.src=p[parseInt(e.id)],o.play())}f=LIM.prc(h,f);var e=LIM.crearbase(f),r=LIM.paxina(),n=0,i="gals"+r,o=null,a="";if(f.properties.etiquetas)for(var s=f.properties.etiquetas.length,a=[],l=[],c=[],p=[],n=0;n<s;n++)a=f.properties.etiquetas[n].split("||"),p[n]=a[0],c[n]=a[1],l[n]=a[2];else s=f.properties.sons.length,l=f.properties.textos||[],c=f.properties.imaxes||[],p=f.properties.sons||[];null==f.donde&&LIM.comunes(e,f.properties.txcabe,f.properties.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),(o=LIM.creardom("audio",e,"","clson-au")).src="",o.controls=!0,LIM.creardom("p",e,"","");var d=document.createElement("div");d.setAttribute("class","clgal-b"),e.appendChild(d);var u,m="";for(n=0;n<s;n++)a="",e=LIM.creardom("button",d,n+i,"clson-base0"),f.properties.modo<3?c[n]&&(u=LIM.creardom("div",e,"","clgal-cimax",-1,-1),gobjix=document.createElement("img"),gobjix.setAttribute("class","clgal-imaxe"),gobjix.setAttribute("id",n+"simx"+r),gobjix.setAttribute("src",c[n]),m&&gobjix.setAttribute("title",m),u.appendChild(gobjix)):(e.className="clson-base1",f.properties.imaxes[n]&&(u=LIM.creardom("div",e,"","clgal-cim",-1,-1),gobjix=document.createElement("img"),gobjix.setAttribute("class","clgal-imaxe"),gobjix.setAttribute("id",n+"simx"+r),gobjix.setAttribute("src",c[n]),m&&gobjix.setAttribute("title",m),u.appendChild(gobjix))),l[n]&&(u=LIM.creardom("div",e,"","clgal-texto",-1,-1),(m=l[n].split("|")[0])&&(u.innerHTML=m),null!=l[n].split("|")[1]&&(a=l[n].split("|")[1])),""!=a?LIM.addEventSimple(e,"click",function(){t(this);var e=parseInt(this.id);LIM.salto(l[e].split("|")[1])}):LIM.addEventSimple(e,"click",function(){t(this)})}}function identificarimx(L){var I={imaxes:[],alttext:[],textos:[],sons:[],color:""},I=LIM.qhtml(L.donde,I);this.crear=function(){function e(e){e=parseInt(this.id),LIM.sonar(h[e])}function t(e,t,r){for(t=parseInt(e.id),r=m[t]=0;r<u;r++){var n=o[r];m[t]=0,LIM.esdrop(e,n,e,!0,!0)&&("3"==i?c[t]==f[r]&&(m[t]=1,r=u):e.innerHTML==f[r]&&(m[t]=1,r=u))}-1==m.toString().indexOf(0)&&LIM.poneravaliacion(d,L.properties.mensaben,!0,L.properties.funava,L.num)}var i=(L=LIM.prc(I,L)).properties.modo||"2",r=L.properties.pholder||"";if(L.properties.etiquetas)for(var n=L.properties.etiquetas.length,o=Array(n),a=[],s=[],l=[],c=[],p=0;p<n;p++)arretq=L.properties.etiquetas[p].split("||"),s[p]=arretq[0],c[p]=arretq[1],a[p]=arretq[2]||"",l[p]=arretq[3]||"";else a=L.properties.textos||[],c=L.properties.sons||[],s=L.properties.imaxes||[],l=L.properties.alttext||[];var d=LIM.crearbase(L),u=("3"!=i?a:c).length,n=LIM.paxina(),m=Array(u),o=Array(u),f=Array(u),h=Array(u),v=mh=p=0,g="";null==L.donde&&LIM.comunes(d,L.txcabe,L.txpe,L.properties.ison,L.properties.autoson,L.properties.txliga,L.properties.paxliga),LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){var e=!0;if("1"!=i)-1<m.toString().indexOf(0)&&(e=!1);else for(var t=0;t<o.length;t++)o[t].value.toLowerCase()!=f[t]&&(e=!1);return e?LIM.poneravaliacion(d,L.properties.mensaben,!0,L.properties.funava,L.num):LIM.poneravaliacion(d,L.properties.mensamal,!1,L.properties.funava,L.num),!0});var b=LIM.desordena(u),x="cliden-base";if("3"==i){for(p=0;p<u;p++){var y=LIM.creardom("div",d,p+"igal"+n,"cliden-destim",-1,-1);o[p]=y,c[p]&&(h[p]=c[p],LIM.addEventSimple(y,"click",e),y.style.cursor="pointer"),x="cliden-mov"}for(y=LIM.creardom("div",d,"",""),a=LIM.creardom("div",d,"","cliden-rmov"),p=0;p<u;p++){netq=b[p],y=LIM.creardom("div",a,netq+"igalm"+n,x,-1,-1),g=LIM.creardom("div",y,"","cliden-imaxe",-1,-1);var M=LIM.crearimaxe({pai:g,name:netq+"iimx"+n,cssclass:"cliden-ix",alttext:l});f[p]=c[p],s[netq]&&(M.setAttribute("src",s[netq]),m[p]=0,LIM.drag(y,d,t,"cliden-destim"))}}else{for(p=0;p<u;p++)netq=b[p],y=LIM.creardom("div",d,"","cliden-base",-1,-1),g=LIM.creardom("div",y,netq+"igal"+n,"cliden-imaxe",-1,-1),o[netq]=g,M=LIM.crearimaxe({pai:g,name:netq+"iimx"+n,cssclass:"cliden-ix",alttext:l}),s[netq]?M.setAttribute("src",s[netq]):g.innerHTML="<span>?</span>",c[netq]&&(h[netq]=c[netq],LIM.addEventSimple(g,"click",e),M.style.cursor="pointer"),"2"==i?(g=LIM.creardom("div",y,netq+"txt"+n,"cliden-dest",-1,-1)).innerHTML="":"1"==i&&(g=LIM.crearinput({pai:y,cssclass:"cliden-in",pholder:r}),f[netq]=a[netq].toLowerCase()),o[netq]=g;if("2"==i){for(y=LIM.creardom("div",d,"","cliden-betiq",-1,-1),p=0;p<u;p++)s=LIM.creardom("div",y,p+"ietiq"+n,"cliden-etiq",-1,-1),g=a[p]||"","i"==LIM.tcontido(g)?(g='<img class="cladx-im" src="'+a[p]+'" />',v=152,s.style.height=150..toString()+"px"):(g=a[p]).length<3&&(s.className+=" cliden-etiqb"),s.innerHTML=g,netq=b[p],f[p]=s.innerHTML,LIM.drag(s,d,t),m[p]=0,mh=s.offsetHeight,mh>v&&(v=mh);for(y.style.display="none",p=0;p<u;p++)o[p].style.height=v+"px";y.style.display="block"}}}}function imaxetexto(i){var o={texto:"",cfondo:"",ctexto:""},o=LIM.qhtml(i.donde,o);this.crear=function(){i=LIM.prc(o,i);var e=LIM.crearbase(i);document.createElement("div");var t=e.getElementsByTagName("font"),r="100",n="100";e.getElementsByClassName("cltexto-tx")[0]&&(r=e.getElementsByClassName("cltexto-tx")[0].offsetHeight),e.getElementsByTagName("img")[0]&&e.getElementsByTagName("img")[0].addEventListener("load",function(){n=e.getElementsByTagName("img")[0].offsetHeight,e.style.minHeight=n<r?r+"px":n+"px"},!1),e.style.height=n<r?r+"px":n+"px",t&&LIM.cambiafont(t)}}function letras(q){var O={};this.crear=function(){function e(e,t,r){N++,e.style.zIndex=(100+N).toString(),e=parseInt(e.id),v[e]&&"clletras-letra clletras-fx"!=v[e].className&&"clletras-letra clletras-drag"!=v[e].className&&(v[e].innerHTML=" "),v[e]=200,t=I.length,r=H.length;for(var n=w.querySelectorAll(".clletras-letra"),i=0;i<n.length;i++)"clletras-letra clletras-fx"!=n[i].className&&"clletras-letra clletras-drag"!=n[i].className&&(n[i].innerHTML="");for(n=0;n<r;n++)for(i=0;i<t;i++)objd=I[i],LIM.esdrop(H[n],objd,H[n],!0,!0)&&(parseInt(objd.id),v[e]=objd,"clletras-letra clletras-fx"!=objd.className&&"clletras-letra clletras-drag"!=objd.className&&(objd.innerHTML=H[n].innerHTML),1==t&&o())}function o(){for(var e="",t=w.querySelectorAll(".clletras-letra"),r=0;r<t.length;r++)e+=t[r].innerHTML;x==e?("1"==n&&I[0].setAttribute("class","clletras-letra clletras-fx"),LIM.poneravaliacion(d,q.properties.mensaben,!0,q.properties.funava,q.num)):LIM.poneravaliacion(d,q.properties.mensamal,!1,q.properties.funava,q.num)}var t,n=(q=LIM.prc(O,q)).properties.forma||"0",r=q.properties.modo||"0",i=q.properties.palabras||[""],a=q.properties.imaxes||[],s=q.properties.altimaxes||[""],l=q.properties.sons||[""],c=q.properties.texto||"",p=q.properties.letras||"",d=LIM.crearbase(q),u=LIM.paxina(),m=20,f=20,h="ltr"+u,v=[],g="",b="",x="",y=!1,M="",L=0,I=[],N=0;LIM.addEventSimple(LIM.esactividad(d,!0),"click",o);var w,E=100,m=LIM.creardom("div",d,"","clletras-b"),S=i.length,C=0;""!=c&&((w=LIM.creardom("div",m,"","clletras-txt")).innerHTML=c,f+=10),w=LIM.creardom("div",m,"","clletras-base");for(var k=0;k<S;k++){if(m=20,b="",-1<(g=i[k]).indexOf("_")){for(y=!0,c=g.split("_"),t=1;t<c.length;t++)M+=c[t][0],c[t]=c[t].substring(1);b=c.join(" "),g=g.replace(RegExp("_","g"),""),i[k]=g}else y=!1,M+=g;x+=g,(c=document.createElement("div")).setAttribute("class","clletras-cim"),a[k]&&("1"==n&&c.setAttribute("class","clletras-cimg"),(t=document.createElement("img")).setAttribute("src",a[k]),t.setAttribute("class","clletras-im"),t.setAttribute("alt",s[k]),c.appendChild(t)),w.appendChild(c);var A="0"!=n?10:190;l[k]&&(c.setAttribute("id",k.toString()+"s"+h),LIM.addEventSimple(c,"click",function(){var e=parseInt(this.id);LIM.sonar(l[e])}),c.style.cursor="pointer"),g=g.length;var T=document.createElement("div");for("0"==n?T.setAttribute("class","clletras-contletras"):T.setAttribute("class","clletras-contletrasg"),w.appendChild(T),c=0;c<g;c++)(t=document.createElement("div")).setAttribute("id",C+h),t.setAttribute("class","clletras-letra"),T.appendChild(t),0==c&&(m=t.offsetWidth+2),L=A+m*c,I.push(t),y&&(t.innerHTML=b[c]," "!=b[c]?t.setAttribute("class","clletras-letra clletras-fx"):t.innerHTML=""),C++;"0"==n&&(T.style.top=f+"px"),f+=60,E<(L=L+m+20)&&(E=L)}d.style.minWidth=E+"px",h="ltrd"+u,m=LIM.creardom("span",w,"","clletras-mar"),a=M,p&&(a+=p),g=a.length,s=LIM.desordena(g),p=[],i=[];for(var H=[],c=0;c<g;c++)"1"==r?((t=document.createElement("a")).setAttribute("class","clletras-boton"),t.setAttribute("href","javascript:void(0)"),t.setAttribute("title",a[s[c]]),m.appendChild(t)):t=LIM.creardom("div",m,c+h,"clletras-drag"),t.innerHTML=a[s[c]],v[s[c]]=null,H[c]=t,p[c]=t.getBoundingClientRect().left,i[c]=t.getBoundingClientRect().top,"1"==r?LIM.addEventSimple(t,"click",function(){I[0].innerHTML=this.innerHTML,o()}):LIM.drag(t,d,e);for(r=m.getBoundingClientRect().height,h=m.getBoundingClientRect().left,a=m.getBoundingClientRect().top,w.getBoundingClientRect(),w.getBoundingClientRect(),c=0;c<g;c++)H[c].style.position="absolute",H[c].style.left=p[c]-h+"px",H[c].style.top=i[c]-a+"px";m.style.height=r+"px"}}function liga(f){this.crear=function(){function e(e,t){for(a=0;a<p;a++){var r=LIM.crearlink({pai:m,url:"javascript:LIM.salto('"+i[a]+"')",posx:o[a],posy:s[a],text:n[a],cssclass:t,alttext:n[a]});e&&(r.style.backgroundImage="url("+l+")")}}var n=f.properties.liga,i=f.properties.ir,o=f.properties.posx,s=f.properties.posy,t=f.properties.imaxe||"",r=f.properties.altimaxe||"",l=f.properties.forma||"",c=f.properties.modo||"0",p=i.length,d=LIM.crearbase(f),u=LIM.paxina(),m=LIM.creardom("div",d,"","clliga-base");if("$"==n[0])LIM.poncondicion(u,i[0].replace(/ /g,""));else if("1"==c)for(a=0;a<p;a++)LIM.crearlink({pai:m,url:"javascript:LIM.salto('"+i[a]+"')",text:n[a],cssclass:"clliga-boton",alttext:n[a]});else f.properties.texto&&(LIM.creardom("div",d,"","clliga-text",10,5).innerHTML=f.properties.texto),""!=t&&((c=document.createElement("IMG")).src=t,c.className="clliga-im",c.title=r,m.appendChild(c)),l?((t=new Image).src=l,t.onload=function(){e(1,"clliga-bti")}):e(0,"clliga-bt clliga-sty")}}function listas(p){var d={},d=LIM.qhtml(p.donde,d);this.crear=function(){function e(){for(var e=s.getElementsByClassName("cllist-sel"),t=[],r=0;r<e.length;r++)t.push(e[r].innerHTML);LIM.compara(i,t)?LIM.poneravaliacion(s,p.properties.mensaben,!0,p.properties.funava,p.num):LIM.poneravaliacion(s,p.properties.mensamal,!1,p.properties.funava,p.num)}var t=(p=LIM.prc(d,p)).properties.texto||"",r=p.properties.aspecto||"cllist-s",n=null;if((a=p.properties.etiquetas||[])[0]){var i=a[0].split("|"),n=[""];a[1]&&(n=a[1].split("|"));var o=i.length,a=i.concat(n),s=LIM.crearbase(p);LIM.paxina(),LIM.addEventSimple(LIM.esactividad(s,!0),"click",e),""!=t&&(n=null,(n=12<t.length?LIM.creardom("div",s,"",r+" cllist-mdd"):LIM.creardom("div",s,"",r+" cllist-md")).innerHTML=t),t=LIM.desordena(a.length);for(var l=a.length,c=0;c<l;c++)(n=LIM.creardom("div",s,"",r+" cllist-gl")).innerHTML=a[t[c]],LIM.addEventSimple(n,"click",function(){this.classList.toggle("cllist-sel"),1==o&&e()})}}}function medidas(x){var y={};this.crear=function(){function e(e){var t=e.target;"clmed-c"!=t.className&&(t=e.target.parentNode),e=parseInt(t.id),(t=document.createElement("img")).className=c[e].toString()+" clmed-dr",t.src=d[e],t.title=u[e],t.valor=c[e],g.appendChild(t),LIM.drag(t,g.parentNode,r),h+=c[e],LIM.addEventSimple(t,"dblclick",n)}function r(e,t,r){t=Number(e.className.replace(/[^0-9.]/g,"")),LIM.estasobre(e,b)&&(h-=Number(t),e.parentNode.removeChild(e))}function n(e){e=e.target;var t=Number(e.className.replace(/[^0-9.]/g,""));h-=Number(t),e.parentNode.removeChild(e)}selecciona=LIM.prc(y,x);for(var t=x.properties.imaxe||"",i=x.properties.texto||"",o=x.properties.altimaxe||"",a=x.properties.etiquetas||[],s=Number((x.properties.valor||"5").replace(",",".")),l=[],c=[],p=[],d=[],u=[],m=a.length,f="",h=0,v=0;v<m;v++)f=(l=a[v].split("||"))[0]||"1",c[v]=Number(f.replace(",",".")),p[v]=l[1]||"",d[v]=l[2]||"",u[v]=l[3]||"";var g=LIM.crearbase(x),a=LIM.paxina();LIM.addEventSimple(LIM.esactividad(g,!0),"click",function(){s==h?LIM.poneravaliacion(g,x.properties.mensaben,!0,x.properties.funava,x.num):LIM.poneravaliacion(g,x.properties.mensamal,!1,x.properties.funava,x.num)}),""!=i&&((l=LIM.creardom("span",g,"","clmed-s")).innerHTML=i),""!=t?((v=document.createElement("img")).className="clmed-b clmed-bi",v.src=t,v.title=o):(v=document.createElement("div")).className="clmed-b",g.appendChild(v);for(var b=LIM.creardom("div",g,"","clmed-m"),v=0;v<m;v++)t=LIM.creardom("div",b,v.toString()+"med"+a.toString(),"clmed-c",0,0),(o=LIM.crearimaxe({pai:t,cssclass:"clmed-i",alttext:u[v]})).style.visibility="hidden",LIM.cargaimaxe(o,d[v],144,96,"",!0,!0),""!=p[v]&&((l=LIM.creardom("span",t,"","clmed-t")).innerHTML=p[v]),LIM.addEventSimple(t,"click",e);LIM.creardom("div",b,"","clmed-d")}}function memoria(u){this.crear=function(){function r(e){for(var t=0;t<25;t++)1==e&&1==c[t]&&(p[t].parentNode.className="clmem-cadro clmem-ben"),p[t].style.visibility="hidden"}var e=u.properties.imaxes||["",""],t=Number(u.properties.numero)||5,i=u.properties.forma||"0",n=u.properties.alea||"0",o=u.properties.altimaxe||"",a=e[0],s=LIM.crearbase(u),l=LIM.paxina();24<t&&(t=20),"1"==n&&(t=Math.floor(Math.random()*t+1)),(n=Array(t)).fill(e[0]),(t=Array(25-t)).fill(e[1]),imaxes=t.concat(n);var c=Array(25);c.fill(0);var p=Array(25);LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(e){e=!0;for(var t=0;t<25;t++)1==c[t]?"clmem-tapa clmem-sel"!=p[t].className&&(e=!1):0==c[t]&&"clmem-tapa clmem-sel"==p[t].className&&(e=!1);e?(r(1),LIM.poneravaliacion(s,u.properties.mensaben,!0,u.properties.funava,u.num)):LIM.poneravaliacion(s,u.properties.mensamal,!1,u.properties.funava,u.num)});function d(e,t,r,n){return r=t+"mem"+r,(e=document.createElement("div")).className="clmem-cadro",e.id=r,s.appendChild(e),self=this,LIM.crearimaxe({pai:e,cssclass:"clmem-im",alttext:""}).src=n,(n=document.createElement("div")).className="clmem-tapa",e.appendChild(n),"1"==i&&(n.innerHTML=t.toString()),LIM.addEventSimple(n,"click",function(){this.className="clmem-tapa clmem-sel"==this.className?"clmem-tapa":"clmem-tapa clmem-sel"}),n}e=LIM.creardom("div",s,"","clmem-cadro clmem-mod"),o=LIM.crearimaxe({pai:e,alttext:o});LIM.cargaimaxe(o,a,104,104,"",!0,!0),LIM.addEventSimple(o.parentNode,"mousedown",function(){r(0)}),LIM.addEventSimple(o.parentNode,"mouseleave",function(){for(var e=0;e<25;e++)p[e].style.visibility="visible",p[e].className="clmem-tapa"}),function(){for(var e,t=LIM.desordena(25),r=0;r<25;r++)e=t[r],imaxes[e]==a&&(c[r]=1),p[r]=new d(s,r+1,l,imaxes[e])}()}}function menu(s){var l={},l=LIM.qhtml(s.donde,l);this.crear=function(){var e=(s=LIM.prc(l,s)).properties.ctexto||"",t=s.properties.cfondo||"",r=LIM.crearbase(s);if(o=r.querySelector(".clmenu-base")){var n=document.createElement("DIV");n.className="clmenu-tabcontent",o.appendChild(n);var i=r.querySelector(".clmenu-tab"),o=i.querySelectorAll(".clmenu-bottab");i.querySelectorAll(".clmenu-contenttab");var a=o[0];for(a.classList.add("clmenu-selected"),n.innerHTML=o[0].parentNode.querySelector(".clmenu-contenttab").innerHTML,i=0;i<o.length;i++)""!=e&&(o[i].style.color="#"+e),""!=t&&(o[i].style.backgroundColor="#"+t),o[i].addEventListener("click",function(e){n.innerHTML=this.parentNode.querySelector(".clmenu-contenttab").innerHTML,a.classList.remove("clmenu-selected"),this.classList.add("clmenu-selected"),a=this})}(e=r.getElementsByTagName("font"))&&LIM.cambiafont(e)}}function moverimx(b){var x={},x=LIM.qhtml(b.donde,x);this.crear=function(){function e(e,t,r){if(f++,e.style.zIndex=f,t=parseInt(e.id),"2"==b.properties.modo)for(r=0;r<p;r++)LIM.estasobre(e,m[r],!0)?(u[t]=1,r=p,-1==u.toString().indexOf(0)&&LIM.poneravaliacion(d,b.properties.mensaben,!0,b.properties.funava,b.num)):u[t]=o[t]==g?1:0;else LIM.estasobre(e,m[t],!0)?-(u[t]=1)==u.toString().indexOf(0)&&LIM.poneravaliacion(d,b.properties.mensaben,!0,b.properties.funava,b.num):u[t]=0}x=LIM.prc(x,b);for(var t=b.properties.modo||"1",r=b.properties.imaxe||"",n=[],i=[],o=[],a=[],s=[],l=b.properties.etiquetas.length,c=0;c<l;c++)n=b.properties.etiquetas[c].split("||"),i[c]=n[0]||"",o[c]=n[1]||0,a[c]=n[2]||0,s[c]=n[3]||"",a[c]=Number(a[c])+20;var p=i.length,d=LIM.crearbase(b),n=LIM.paxina(),u=Array(p),m=Array(p);c=0;var f=1100;if(""!=r){null==b.donde&&LIM.comunes(d,b.txcabe,b.txpe,b.properties.ison,b.properties.autoson,b.properties.txliga,b.properties.paxliga),"3"!=t&&LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){return-1<u.toString().indexOf(0)?LIM.poneravaliacion(d,b.properties.mensamal,!1,b.properties.funava,b.num):LIM.poneravaliacion(d,b.properties.mensaben,!0,b.properties.funava,b.num),!0}),t=LIM.desordena(p);var h,v=void 0,g=630,l=LIM.creardom("div",d,"","clcol1");for((c=LIM.crearimaxe({pai:l,name:"imaxmove"+n,cssclass:"",posx:1,posy:1,alttext:b.properties.alttext})).src=r,c.style.top="20px",c.style.position="relative",r=LIM.creardom("div",d,"","clmovimx-marco"),c=0;c<p;c++)h=t[c],v=LIM.creardom("div",l,c+"punto"+n,"clmovimx-punto",Number(o[c]),Number(a[c])),m[c]=v,"1"!=b.properties.modo&&(v.style.opacity="0.0",v.style.filter="alpha(opacity=0)"),h=LIM.crearimaxe({pai:r,name:c+"imx"+n,cssclass:"",posy:50*h,alttext:s}),LIM.cargaimaxe(h,i[c],500,500,"",!1,!1),LIM.drag(h,d,e),u[c]=0,o[c]==g&&(u[c]=1)}}}function opbasica(C){var k={},k=LIM.qhtml(C.donde,k),A=this;A.numf=0,this.crear=function(){function e(e,t,r,i,o,a,s,l,c,p){t="",s=null,c&&"l"!=c&&(e=c+" "+e);var d=e.length+1,u="";for(A.numf=r,LIM.creardom("div",g,"","clopera-s",-1,-1),(r=document.createElement("div")).setAttribute("class","clopera-l"),g.appendChild(r),c&&(r.style.borderBottomWidth="8px"),n=1;n<d;n++)u=e.substr(-n,1),o?("."!=u&&("1"==v?s="$"==u?LIM.creardom("div",r,"","clopera-cn clopera-n",-1,-1):LIM.crearinput({pai:r,cssclass:"clopera-cn clopera-i",pholder:" "}):(s=LIM.crearinput({pai:r,cssclass:"clopera-cn clopera-i",pholder:" "}),p&&u&&(s.style.borderColor="red")),"$"==u&&(u=""),s.addEventListener("click",function(){this.value=""})),m?s.setAttribute("maxlength",2):s.setAttribute("maxlength",1)):s=LIM.creardom("div",r,"","clopera-cn clopera-n",-1,-1),"oo"!=u&&(t="."==u?1==a?I:"":(1==l&&(s.dd=!0,s.let=u+t,s.cssstyleName="txop dest","1"==A.modo&&(s.onclick=function(){A.innerHTML=""}),"2"==A.modo&&(s.onPress=function(){})),1==o?(" "==u&&(u=""),h.push(u+t),f.push(s)):s.innerHTML=u+t,"x"!=u&&"+"!=u&&"-"!=u||(s.onPress=function(){})," "==u&&(u=""),""))," "==u&&(u=""),L[N]=u+t,N++;g.style.minWidth=g.offsetWidth+"px",g.style.Height=g.offsetHeight+"px"}function r(e){e=parseInt(e);return String(e)}function i(e,t){for(var r="1",n=0;n<t;n++)r+="0";return r=Number(r),e==parseInt(e)?e/r:parseInt(e*r)/r}function o(e,t,r){var n=L.length,i=parseInt(e.id);for(e.style.top="380px",e.style.left=LIM.dom(i+"cadr").style.left,i=0;i<n;i++){var o=LIM.dom(i+"dst");if(LIM.ratosobre(e,o,t,r,!1)&&"txop dest"==o.cssstyleName){o.innerHTML=e.innerHTML;break}}}var m=!1,f=[],h=[];k=LIM.prc(k,C);var a=C.properties.forma||"+",s=C.properties.numeros||[""],l=C.properties.alea||"0",v=C.properties.estilo||"0",p=LIM.crearbase(C);LIM.paxina(),LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var e=!0,t=f.length,r=0;r<t;r++)f[r].value!=h[r]?(f[r].value&&(f[r].style.backgroundColor="#cccccc"),e=!1):f[r].style.backgroundColor="#ffffff";e?LIM.poneravaliacion(p,C.properties.mensaben,!0,C.properties.funava,C.num):LIM.poneravaliacion(p,C.properties.mensamal,!1,C.properties.funava,C.num)});var d=LIM.creardom("div",p,"","clopera-base",-1,-1),g=LIM.creardom("div",d,"","clopera-marco",-1,-1);"1"==l&&(resalea=function(e,t){var r=0,n=[],i=0,o=0,a=Number(e[0]);10<a&&(a=10);var s=Number(e[1]);10<s&&(s=10);var l,c,p,d,u=Math.pow(10,a)-1,m=Math.pow(10,a-1),u=(o=(r=Math.floor(Math.random()*(u-m+1))+m).toString()).length-1;switch(n[0]=o,m="",t){case"0":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;if(0==i&&(i=1),n[1]=i.toString(),e[2]){for(s=Number(e[2]),i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;0==i&&(i=1),n[2]=i.toString()}if(e[3]){for(s=Number(e[3]),i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;0==i&&(i=1),n[3]=i.toString()}m="+";break;case"1":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;1==s&&0==i&&(i=1),i<r?n[1]=i.toString():(n[0]=i.toString(),n[1]=o),m="-";break;case"2":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;n[1]=i.toString(),m="x";break;case"3":if(i=0,a!=s)for(u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(;0==i;)i=Math.floor(9*Math.random())+1;o<i?(n[1]=o.toString(),n[0]=i.toString()):n[1]=i.toString(),m="/";break;case"4":for(s=u;-1<s;s--)i+=Math.pow(10,s)*(c=Number(o.charAt(u-s)),p=9,d=0,Math.floor(Math.random()*(p-c-d+1))+d);0==i&&(--r<(i=1)&&(r=8)),o=r.toString(),n[0]=o,n[1]=i.toString(),m="+";break;case"5":for(s=u;-1<s;s--)posn=u-s,i+=Math.pow(10,s)*(0==(l=Number(o.charAt(u-s)))?0:Math.floor(Math.random()*l));0==i&&(9<(r+=i=1)&&(r=9)),o=r.toString(),n[0]=o,n[1]=i.toString(),m="-";break;case"7":if(s<=a){for(r=i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==r;)r=Math.floor(Math.random()*(u-m+1))+m;if(a!=s)for(u=Math.pow(10,a-s)-1,m=Math.pow(10,a-s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(o=(r*(i=Math.floor(9*Math.random())+1)).toString().length;s<o;)o=(r*--i).toString().length;n[0]=(r*i).toString(),n[1]=r.toString(),m="/"}break;case"8":if(i=0,a!=s)for(u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(;0==i;)i=Math.floor(9*Math.random())+1;o<i?(n[1]=o.toString(),n[0]=i.toString()):n[1]=i.toString(),m="d";break;case"9":if(s<=a){for(r=i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==r;)r=Math.floor(Math.random()*(u-m+1))+m;if(a!=s)for(u=Math.pow(10,a-s)-1,m=Math.pow(10,a-s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(o=(r*(i=Math.floor(9*Math.random())+1)).toString().length;s<o;)o=(r*--i).toString().length;n[0]=(r*i).toString(),n[1]=r.toString(),m="d"}break;case"6":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;n[1]=i.toString(),"0"==n[1].slice(-1)&&(n[1]=(i+1).toString()),m="x"}return(r={}).nume=n,r.opera=m,r}(s,a),s=resalea.nume,a=resalea.opera);for(var u=0,b=0,x="",y=1,b=s.length,M=380,L=[],I=".",N=0,l=0;l<b;l++)-1<(u=parseInt(Number(s[l])).toString()).indexOf(",")&&(s[l]=Number(u.replace(",",".")),I=",");switch(l="",a){case"x":l=s[0],b=s[1];var w=(Number(l)*Number(b)).toString().length,E=s;if(e(l,(M+=18*Number((l*b).toString().length))-42,1,0,A.tdocl,1,A.tdocl,A.tdocl,""),e(b,M-42,2,0,A.tdocl,1,A.tdocl,A.tdocl,"x"),1<b.length){for(c=0,sin="";c<l.length;)"."!=l.substr(c,1)&&(sin+=l.substr(c,1)),c++;for(c=0,sin2="";c<b.length;)"."!=b.substr(c,1)&&(sin2+=b.substr(c,1)),c++}else sin=l,sin2=b;if(tempnum=lnf=0,long=sin2.length,"0"==b.substr(0,1)){for(t=tnum=1;t<sin2.length;t++)"0"==sin2.substr(t,1)?tnum++:t=sin2.length;long-=tnum,1==long&&(long=0)}if(1==long)lnf++,u=Number(l)*Number(b),pasar=u.toString(),e(pasar,M-42*y,lnf+2,0,1,1,1,1,"");else for(t=1;t<long+1;t++){var S=E="";if(lnf++,0==(u=Number(sin)*Number(sin2.substr(-t,1))))for(pasar="",u=0;u<l.length;u++)pasar+="0";else pasar=u.toString();for(u=1;u<t;u++)E+="$";if(pasar+=E,pasar.length<w)for(u=pasar.length;u<w;u++)S+="$";t==long?e(S+pasar,M-42*y,lnf+2,0,1,1,1,1,"l",!0):e(S+pasar,M-42*y,lnf+2,0,1,1,1,1,"",!0),y=y+x.length+1,x=""}if(lnf++,-1<(u=(Number(l)*Number(b)).toString()).indexOf(".")&&(m=!0),y=sin*sin2,x=u.indexOf("."),c=y.toString().length-u.length,-1!=x&&(c+=1),-1!=l.toString().indexOf(".")||-1!=b.toString().indexOf("."))for(-1==x&&(u+="."),t0=0;t0<c;t0++)u+="0";1<sin2.length&&e(u,M-42,lnf+2,0,1,1,1,1);break;case"/":if(Number(s[0])<Number(s[1])&&s[0].length<=s[1].length)for(t=1;t<=s[1].length;t++)s[0]+=".0";if(E=435+42*s[1].length,e(s[1],E,1,0,A.tdocl,1,A.tdocl,A.tdocl),numerosin="",M=152,u=y=x=c=l=0,-1<(x=s[1].indexOf("."))?(u=(b=s[1].split("."))[1].length,numerosin2=0==b[0]?r(b[1]):r(b[0])+r(b[1]),M+=42*(x=numerosin2.length-x),e(s[0],E-42*s[1].length-10,1,0,A.tdocl,1,A.tdocl,A.tdocl)):(numerosin2=s[1],e(s[0],E-42*(s[1].length+1)-10,1,0,A.tdocl,1,A.tdocl,A.tdocl)),M=382,l=-1<(l=s[0].indexOf("."))?(y=(b=s[0].split("."))[1].length,numerosin=0==b[0]?r(b[1]):r(b[0])+r(b[1]),numerosin.length-l):(numerosin=s[0],0),x=numerosin.length,s[2]=Number(s[0])/Number(s[1]),u<=y)l=y-u;else for(E=0;E<u-y;E++)numerosin+="0";for(s[2]=i(s[2],l),cocient=String(s[2]),l=cocient.length,s[2]!=parseInt(s[2])&&--l,l=436+42*l,e(cocient,l,2,0,1,1,1,1),l-=42*cocient.length,(y=LIM.creardom("div",g,"","",l,85)).style.width="160px",y.style.height="4px",y.style.backgroundColor="#000000",y.style.position="absolute",(y=LIM.creardom("div",g,"","",l,55)).style.width="4px",y.style.height="30px",y.style.backgroundColor="#000000",y.style.position="absolute",s[1]=numerosin2,s[2]=Number(numerosin)/Number(s[1]),cocient=s[2].toString(),-1<cocient.indexOf(".")&&(m=!0),l=s[1].length,divd=numerosin.substr(0,l),desc=0;Number(divd)<s[1];)l++,divd=numerosin.substr(0,l);for(cociente=parseInt(divd/s[1]),numres=Number(cocient.substr(0,1))*Number(s[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(y=medio.toString().length)<=(u=numress.length)&&y<s[1].length?e("0"+medio.toString(),M-42*(x-divd.length),2,0,1,1,1,1):(e(medio.toString(),M-42*(x-divd.length),2,0,1,1,1,1),0),final=divd.length,ft=1,E=t=0;t<numerosin.length-l;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(s[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,e(numerosin.substr(final,1),M-42*(x-final-1),ft,0,1,1,1,1),0!=Number(cocient.substr(t,1))?(E++,(y=medio.toString().length)<=(u=numres.toString().length)&&y<s[1].length?e("0"+medio.toString(),M-42*(x-final-1),ft+1,0,1,1,1,1):e(medio.toString(),M-42*(x-final-1),ft+1,0,1,1,1,1)):ft--,final++;break;case"d":if(M=150,Number(s[0])<Number(s[1])&&s[0].length<=s[1].length)for(t=1;t<=s[1].length;t++)s[0]+=".0";if(s[1]==parseInt(s[1])){for(e(s[0],M+42*s[0].length+25,2,0,A.tdocl,1,A.tdocl,A.tdocl),e(s[1],M,2,0,A.tdocl,1,A.tdocl,A.tdocl),numerosin="",c=l=0;c<s[0].length;)"."!=s[0].substr(c,1)?numerosin+=s[0].substr(c,1):l=c+1,c++;for(s[2]=Number(s[0])/Number(s[1]),s[2]=i(s[2],l),l=w,cocient=s[2].toString(),e(cocient,5+M+42*s[0].length+25,1,0,1,1,1,1),x=5+M+42*(s[0].length-1)+25,l=M+30,(y=LIM.creardom("div",g,"","",l,95)).style.width="200px",y.style.height="3px",y.style.backgroundColor="#000000",y.style.position="absolute",(y=LIM.creardom("div",g,"","",l,95)).style.width="3px",y.style.height="35px",y.style.backgroundColor="#000000",y.style.position="absolute",s[2]=Number(numerosin)/Number(s[1]),cocient=s[2].toString(),l=s[1].length,divd=numerosin.substr(0,l),desc=0;Number(divd)<s[1];)l++,divd=numerosin.substr(0,l);for(cociente=parseInt(divd/s[1]),numres=Number(cocient.substr(0,1))*Number(s[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(y=medio.toString().length)<=(u=numress.length)&&y<s[1].length?e("0"+medio.toString(),x-42*(numerosin.length-divd.length-1),3,0,1,1,1,1):(e(medio.toString(),x-42*(numerosin.length-divd.length-1),3,0,1,1,1,1),0),final=divd.length,ft=2,t=0;t<numerosin.length-l;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(s[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,e(numerosin.substr(final,1),x-42*(numerosin.length-final-2),ft,0,1,1,1,1),0!=Number(cocient.substr(t,1))?(y=medio.toString().length)<=(u=numres.toString().length)&&y<s[1].length?e("0"+medio.toString(),x-42*(numerosin.length-final-2),ft+1,0,1,1,1,1):e(medio.toString(),x-42*(numerosin.length-final-2),ft+1,0,1,1,1,1):ft--,final++}break;case"+":for(l=0,b=(E=s).length,t=w=x=0;t<b;t++)E[t]=parseInt(Number(E[t])).toString(),-1!=(x=E[t].indexOf(".",0))&&(l<(w=E[t].length-x-1)&&(l=w));for(M-=50*l,x="",t=u=0;t<b;t++)lonc=0,-1!=E[t].indexOf(".")&&(lonc=E[t].length-E[t].indexOf(".")-1),t==b-1&&(x="+"),e(E[t],M+42*lonc,t+1,t,A.tdocl,1,A.tdocl,A.tdocl,x,!1),u=(1e7*u+1e7*Number(E[t]))/1e7;if(y=u.toString(),pasar=u.toString(),0<l)for(lonc=l,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):(lonc=pasar.length-(pasar.indexOf(".")+1),m=!0),t0=lonc;t0<l;t0++)pasar+="0";e(pasar,M+42*l,t+1,0,1,1,1,1,"",!1);break;case"-":for(l=0,b=(E=s).length,t=w=x=0;t<b;t++)E[t]=parseInt(Number(E[t])).toString(),-1!=(x=E[t].indexOf(".",0))&&(l<(w=E[t].length-x-1)&&(l=w));for(x="",M-=50*l,t=u=0;t<b;t++)lonc=0,-1!=E[t].indexOf(".")&&(lonc=E[t].length-E[t].indexOf(".")-1),t==b-1&&(x="-"),e(E[t],M+42*lonc,t+1,t,A.tdocl,1,A.tdocl,A.tdocl,x,!1),u=Number(1e7*E[b-t-1]-1e7*u)/1e8;if(y=u.toString(),pasar=u.toString(),0<l)for(lonc=l,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):(lonc=pasar.length-(pasar.indexOf(".")+1),m=!0),t0=lonc;t0<l;t0++)pasar+="0";e(pasar,M+42*l,t+1,0,1,1,1,1,"",!1)}if(C.properties.name=s[0]+" "+a+" "+s[1],1==A.modo){for(trr=0;trr<12;trr++)switch(mover=LIM.creardom("div",g,trr+"cadr","tecla",40*trr+20,380),trr){case 10:mover.innerHTML=I;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}for(trr=0;trr<12;trr++){switch(mover=LIM.creardom("div",g,trr+"cadrm","tecla teclam",40*trr+20,380),trr){case 10:mover.innerHTML=I;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}LIM.drag(mover,p,o)}}d.style.height=g.offsetHeight+"px"}}function operacion(S){var C={},C=LIM.qhtml(S.donde,C),k=this;k.numf=0,this.crear=function(){function e(e,t,r,i,o,a,s,l){i="",s=0;var c=null,p=e.length+1,d="";for(k.numf=r,n=1;n<p;n++)s++,d=e.substr(-n,1),o?((c=LIM.crearinput({pai:h,cssclass:"clopera-in",posx:t-s*v,posy:I+r*v+5,pholder:" "})).addEventListener("click",function(){this.value=""}),u?c.setAttribute("maxlength",2):c.setAttribute("maxlength",1)):c=LIM.creardom("div",h,"","clopera-b",t-s*v,I+r*v+5),null!=d&&(i="."==d?(s--,1==a?L:""):(1==l&&(c.dd=!0,c.let=d.toString()+i,c.cssstyleName="txop dest",y++,"1"==k.modo&&(c.onclick=function(){k.innerHTML=""}),"2"==k.modo&&(c.onPress=function(){})),1==o?(f.push(d.toString()+i),m.push(c)):c.innerHTML=d.toString()+i,"x"!=d&&"+"!=d&&"-"!=d||(c.onPress=function(){}),"")),M[N]=d.toString()+i,N++}function r(e){e=parseInt(e);return String(e)}function i(e,t){for(var r="1",n=0;n<t;n++)r+="0";return r=Number(r),e==parseInt(e)?e/r:parseInt(e*r)/r}function o(e,t,r){var n=M.length,i=parseInt(e.id);for(e.style.top="380px",e.style.left=LIM.dom(i+"cadr").style.left,i=0;i<n;i++){var o=LIM.dom(i+"dst");if(LIM.ratosobre(e,o,t,r,!1)&&"clopera-in"==o.cssstyleName){o.value=e.innerHTML;break}}}var u=!1,m=[],f=[];C=LIM.prc(C,S);var a=S.properties.forma||"+",s=S.properties.numeros||[""],l=S.properties.alea||"0",p=LIM.crearbase(S);LIM.paxina(),LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var e=!0,t=m.length,r=0;r<t;r++)m[r].value!=f[r]?(m[r].value&&(m[r].style.backgroundColor="#cccccc"),e=!1):m[r].style.backgroundColor="#ffffff";e?LIM.poneravaliacion(p,S.properties.mensaben,!0,S.properties.funava,S.num):LIM.poneravaliacion(p,S.properties.mensamal,!1,S.properties.funava,S.num)});var d=LIM.creardom("div",p,"","clopera-base",-1,-1),h=LIM.creardom("div",d,"","clopera-marco",-1,-1),v=(b=LIM.creardom("div",d,"","clopera-in",-1,-1)).offsetHeight||60;if(v+=2,b.style.display="none",b.style.visibility="hidden",d.removeChild(b),d=[],b=s.length,"1"==l)resalea=function(e,t){var r=0,n=[],i=0,o=0,a=Number(e[0]);10<a&&(a=10);var s=Number(e[1]);10<s&&(s=10);var l,c,p,d,u=Math.pow(10,a)-1,m=Math.pow(10,a-1),u=(o=(r=Math.floor(Math.random()*(u-m+1))+m).toString()).length-1;switch(n[0]=o,m="",t){case"0":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;if(0==i&&(i=1),n[1]=i.toString(),e[2]){for(s=Number(e[2]),i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;0==i&&(i=1),n[2]=i.toString()}if(e[3]){for(s=Number(e[3]),i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;0==i&&(i=1),n[3]=i.toString()}m="+";break;case"1":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;1==s&&0==i&&(i=1),i<r?n[1]=i.toString():(n[0]=i.toString(),n[1]=o),m="-";break;case"2":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;n[1]=i.toString(),m="x";break;case"3":if(i=0,a!=s)for(u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(;0==i;)i=Math.floor(9*Math.random())+1;o<i?(n[1]=o.toString(),n[0]=i.toString()):n[1]=i.toString(),m="/";break;case"4":for(s=u;-1<s;s--)i+=Math.pow(10,s)*(c=Number(o.charAt(u-s)),p=9,d=0,Math.floor(Math.random()*(p-c-d+1))+d);0==i&&(--r<(i=1)&&(r=8)),o=r.toString(),n[0]=o,n[1]=i.toString(),m="+";break;case"5":for(s=u;-1<s;s--)posn=u-s,i+=Math.pow(10,s)*(0==(l=Number(o.charAt(u-s)))?0:Math.floor(Math.random()*l));0==i&&(9<(r+=i=1)&&(r=9)),o=r.toString(),n[0]=o,n[1]=i.toString(),m="-";break;case"7":if(s<=a){for(r=i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==r;)r=Math.floor(Math.random()*(u-m+1))+m;if(a!=s)for(u=Math.pow(10,a-s)-1,m=Math.pow(10,a-s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(o=(r*(i=Math.floor(9*Math.random())+1)).toString().length;s<o;)o=(r*--i).toString().length;n[0]=(r*i).toString(),n[1]=r.toString(),m="/"}break;case"8":if(i=0,a!=s)for(u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(;0==i;)i=Math.floor(9*Math.random())+1;o<i?(n[1]=o.toString(),n[0]=i.toString()):n[1]=i.toString(),m="d";break;case"9":if(s<=a){for(r=i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==r;)r=Math.floor(Math.random()*(u-m+1))+m;if(a!=s)for(u=Math.pow(10,a-s)-1,m=Math.pow(10,a-s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;else for(o=(r*(i=Math.floor(9*Math.random())+1)).toString().length;s<o;)o=(r*--i).toString().length;n[0]=(r*i).toString(),n[1]=r.toString(),m="d"}break;case"6":for(i=0,u=Math.pow(10,s)-1,m=Math.pow(10,s-1);0==i;)i=Math.floor(Math.random()*(u-m+1))+m;n[1]=i.toString(),"0"==n[1].slice(-1)&&(n[1]=(i+1).toString()),m="x"}return(r={}).nume=n,r.opera=m,r}(s,a),d=resalea.nume,a=resalea.opera,b=s.length;else for(l=0;l<b;l++)-1<s[l].indexOf(",")&&(s[l]=s[l].replace(",","."),L="."),d[l]=s[l];var g=0,b=0,x=1,y=60,l=480,M=[],L=".",I=-20,N=0,s=b="";switch(a){case"x":s=d[0];var w=d[1];-1<s.indexOf(".")&&(u=!0),-1<w.indexOf(".")&&(u=!0);var E=d;if(e(s,(l+=18*Number((s*w).toString().length))-v,1,10,k.tdocl,1,k.tdocl,k.tdocl),e("x  "+w,l-v,2,20,k.tdocl,1,k.tdocl,k.tdocl),1<w.length){for(c=0,sin="";c<s.length;)"."!=s.substr(c,1)&&(sin+=s.substr(c,1)),c++;for(c=0,sin2="";c<w.length;)"."!=w.substr(c,1)&&(sin2+=w.substr(c,1)),c++}else sin=s,sin2=w;if(tempnum=lnf=0,long=sin2.length,"0"==w.substr(0,1)){for(t=tnum=1;t<sin2.length;t++)"0"==sin2.substr(t,1)?tnum++:t=sin2.length;long-=tnum,1==long&&(long=0)}if(1==long)lnf++,g=Number(s)*Number(w),pasar=g.toString(),e(pasar,l-x*v,lnf+2,y,1,1,1,1);else for(t=1;t<long+1;t++)lnf++,0==(g=Number(sin)*Number(sin2.substr(-t,1)))?(b+="0",lnf--):(pasar=g.toString()+b,e(pasar.toString(),l-x*v,lnf+2,y,1,1,1,1),x=x+b.length+1,b="");if(lnf++,g=(Number(s)*Number(w)).toString(),x=sin*sin2,b=g.indexOf("."),c=x.toString().length-g.length,-1!=b&&(c+=1),-1!=s.toString().indexOf(".")||-1!=w.toString().indexOf("."))for(-1==b&&(g+="."),t0=0;t0<c;t0++)g+="0";(b=LIM.creardom("div",h,"","",l-v-g.length*v,I+3*v)).style.width=g.length*v+"px",b.style.height="3px",b.style.backgroundColor="#000000",b.style.position="absolute",1<sin2.length&&((b=LIM.creardom("div",h,"","",l-v-g.toString().length*v-40,I+v*(lnf+2)+2)).style.width=60+g.toString().length*v+"px",b.style.height="3px",b.style.backgroundColor="#000000",b.style.position="absolute",e(g,l-v,lnf+2,y,1,1,1,1));break;case"/":if(-1<d[0].indexOf(".")&&(u=!0),-1<d[1].indexOf(".")&&(u=!0),Number(d[0])<Number(d[1])&&d[0].length<=d[1].length)for(t=1;t<=d[1].length;t++)d[0]+=".0";if(E=435+d[1].length*v,e(d[1],E,1,10,k.tdocl,1,k.tdocl,k.tdocl),numerosin="",l=152,g=b=w=c=s=0,-1<(w=d[1].indexOf("."))?(g=(x=d[1].split("."))[1].length,numerosin2=0==x[0]?r(x[1]):r(x[0])+r(x[1]),l+=42*(w=numerosin2.length-w),e(d[0],E-d[1].length*v-10,1,20,k.tdocl,1,k.tdocl,k.tdocl)):(numerosin2=d[1],e(d[0],E-(d[1].length+1)*v-10,1,20,k.tdocl,1,k.tdocl,k.tdocl)),l=368,s=-1<(s=d[0].indexOf("."))?(b=(x=d[0].split("."))[1].length,numerosin=0==x[0]?r(x[1]):r(x[0])+r(x[1]),numerosin.length-s):(numerosin=d[0],0),w=numerosin.length,d[2]=Number(d[0])/Number(d[1]),g<=b)s=b-g;else for(E=0;E<g-b;E++)numerosin+="0";for(d[2]=i(d[2],s),cocient=String(d[2]),s=cocient.length,d[2]!=parseInt(d[2])&&--s,b=436+s*v,e(cocient,b,2,y,1,1,1,1),s=b-s*v-10,(b=LIM.creardom("div",h,"","",s,I+2*v-10)).style.width=(d[1].toString().length+1)*v+"px",b.style.height="4px",b.style.backgroundColor="#000000",b.style.position="absolute",(b=LIM.creardom("div",h,"","",s,I+v+5)).style.width="4px",b.style.height=v-12+"px",b.style.backgroundColor="#000000",b.style.position="absolute",d[1]=numerosin2,d[2]=Number(numerosin)/Number(d[1]),cocient=d[2].toString(),s=d[1].length,divd=numerosin.substr(0,s),desc=0;Number(divd)<d[1];)s++,divd=numerosin.substr(0,s);for(cociente=parseInt(divd/d[1]),numres=Number(cocient.substr(0,1))*Number(d[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(b=medio.toString().length)<=(g=numress.length)&&b<d[1].length?e("0"+medio.toString(),l-(w-divd.length)*v,2,y,1,1,1,1):(e(medio.toString(),l-(w-divd.length)*v,2,y,1,1,1,1),y++),y--,final=divd.length,ft=1,E=t=0;t<numerosin.length-s;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(d[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,e(numerosin.substr(final,1),l-(w-final-1)*v,ft,y,1,1,1,1),0!=Number(cocient.substr(t,1))?(E++,(b=medio.toString().length)<=(g=numres.toString().length)&&b<d[1].length?e("0"+medio.toString(),l-(w-final-1)*v,ft+1,y,1,1,1,1):e(medio.toString(),l-(w-final-1)*v,ft+1,y,1,1,1,1)):ft--,final++;break;case"d":if(-1<d[0].indexOf(".")&&(u=!0),-1<d[1].indexOf(".")&&(u=!0),l=120,Number(d[0])<Number(d[1])&&d[0].length<=d[1].length)for(t=1;t<=d[1].length;t++)d[0]+=".0";if(d[1]==parseInt(d[1])){for(e(d[0],l+d[0].length*v+25,2,10,k.tdocl,1,k.tdocl,k.tdocl),e(d[1],l,2,20,k.tdocl,1,k.tdocl,k.tdocl),numerosin="",c=s=0;c<d[0].length;)"."!=d[0].substr(c,1)?numerosin+=d[0].substr(c,1):s=c+1,c++;for(d[2]=Number(d[0])/Number(d[1]),d[2]=i(d[2],s),s=w,cocient=d[2].toString(),e(cocient,5+l+d[0].length*v+25,1,y,1,1,1,1),w=5+l+(d[0].length-1)*v+25,s=l+22,(b=LIM.creardom("div",h,"","",s,I+2*v+4)).style.width=(d[1].toString().length+3)*v+"px",b.style.height="3px",b.style.backgroundColor="#000000",b.style.position="absolute",(b=LIM.creardom("div",h,"","",s,I+2*v+4)).style.width="3px",b.style.height=v-10+"px",b.style.backgroundColor="#000000",b.style.position="absolute",d[2]=Number(numerosin)/Number(d[1]),cocient=d[2].toString(),s=d[1].length,divd=numerosin.substr(0,s),desc=0;Number(divd)<d[1];)s++,divd=numerosin.substr(0,s);for(cociente=parseInt(divd/d[1]),numres=Number(cocient.substr(0,1))*Number(d[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(b=medio.toString().length)<=(g=numress.length)&&b<d[1].length?e("0"+medio.toString(),w-(numerosin.length-divd.length-1)*v,3,y,1,1,1,1):(e(medio.toString(),w-(numerosin.length-divd.length-1)*v,3,y,1,1,1,1),y++),y--,final=divd.length,ft=2,t=0;t<numerosin.length-s;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(d[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,e(numerosin.substr(final,1),w-(numerosin.length-final-2)*v,ft,y,1,1,1,1),0!=Number(cocient.substr(t,1))?(b=medio.toString().length)<=(g=numres.toString().length)&&b<d[1].length?e("0"+medio.toString(),w-(numerosin.length-final-2)*v,ft+1,y,1,1,1,1):e(medio.toString(),w-(numerosin.length-final-2)*v,ft+1,y,1,1,1,1):ft--,final++}break;case"+":for(s=0,b=(E=d).length,t=w=0;t<b;t++)-1!=(w=(w=E[t].toString()).indexOf(".",0))&&(s<(w=E[t].length-w-1)&&(s=w));for(l-=50*s,t=g=0;t<b;t++)lonc=0,-1!=(w=E[t].toString()).indexOf(".")&&(lonc=w.length-w.indexOf(".")-1),e(w,l+lonc*v,t+1,10*(t+1),k.tdocl,1,k.tdocl,k.tdocl),g=(1e7*g+1e7*Number(E[t]))/1e7;if(x=g.toString(),e("+",320-(g.toString().length-2)*v,t,10*(t+1),0,1,0,0),(b=LIM.creardom("div",h,"","",320-(g.toString().length-1)*v,I+v*(b+1))).style.width=100+g.toString().length*v+"px",b.style.height="4px",b.style.backgroundColor="#000000",b.style.position="absolute",pasar=g.toString(),0<s)for(lonc=s,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):(lonc=pasar.length-(pasar.indexOf(".")+1),u=!0),t0=lonc;t0<s;t0++)pasar+="0";e(pasar,l+s*v,t+1,y,1,1,1,1);break;case"-":for(s=0,b=(E=d).length,t=w=0;t<b;t++)-1!=(w=E[t].indexOf(".",0))&&(s<(w=E[t].length-w-1)&&(s=w));for(l-=50*s,t=g=0;t<b;t++)lonc=0,-1!=E[t].indexOf(".")&&(lonc=E[t].length-E[t].indexOf(".")-1),e(E[t],l+lonc*v,t+1,10*(t+1),k.tdocl,1,k.tdocl,k.tdocl),g=Number(E[b-t-1]-g);if(x=g.toString(),e("-",320-(g.toString().length-2)*v,t,10*(t+1),0,1,0,0),(b=LIM.creardom("div",h,"","",320-(g.toString().length-1)*v,I+v*(b+1))).style.width=100+g.toString().length*v+"px",b.style.height="4px",b.style.backgroundColor="#000000",b.style.position="absolute",pasar=g.toString(),0<s)for(lonc=s,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):(lonc=pasar.length-(pasar.indexOf(".")+1),u=!0),t0=lonc;t0<s;t0++)pasar+="0";e(pasar,l+s*v,t+1,y,1,1,1,1)}if(S.properties.name=d[0]+" "+a+" "+d[1],1==k.modo){for(trr=0;trr<12;trr++)switch(mover=LIM.creardom("div",h,trr+"cadr","clopera-tecla",40*trr+20,380),trr){case 10:mover.innerHTML=L;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}for(trr=0;trr<12;trr++){switch(mover=LIM.creardom("div",h,trr+"cadrm","clopera-tecla clopera-teclam",40*trr+20,380),trr){case 10:mover.innerHTML=L;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}LIM.drag(mover,p,o)}}a=k.numf*v+v,h.style.minHeight=a.toString()+"px",p.style.minHeight=a.toString()+"px"}}function ordenar(M){var L={texto:"",imaxe:"",imaxeAltText:""},L=LIM.qhtml(M.donde,L);this.crear=function(){function e(e,t,r){var n=parseInt(e.id);if(e.style.visibility="hidden",t=document.elementFromPoint(t,r),e.style.visibility="visible",t.getClientRects(),e.style.position="absolute",c[n]=null,-1<t.className.indexOf("clordena-dest")){var i=parseInt(t.id);for(p[n]=t,n=(c[n]=e).innerHTML,2!=o&&(t.style.width=e.offsetWidth+"px"),e.style.left=f.offsetLeft+t.offsetLeft+"px",e.style.top=f.offsetTop-t.offsetTop+"px",e=0;e<s;e++)null!=c[e]&&(c[e].style.left=f.offsetLeft+p[e].offsetLeft+"px",c[e].style.top=f.offsetTop-h.offsetTop+p[e].offsetTop-1+"px");l[i]=a[i]==n?1:0}else l[i]=0}M=LIM.prc(L,M);var o=Number(M.properties.modo||"0"),n=Number(M.properties.forma||"0"),t=M.properties.texto||"",a=0<t.indexOf("|")?t.split("|"):'"'==t.charAt(0)?t.slice(1,-1).split(" "):t.split(""),s=a.length,i=LIM.crearbase(M),r=LIM.paxina(),l=Array(s),c=Array(s),p=Array(s),d=0,u="",m=0;null==M.donde&&LIM.comunes(i,M.txcabe,M.txpe,M.properties.ison,M.properties.autoson,M.properties.txliga,M.properties.paxliga),LIM.addEventSimple(LIM.esactividad(i,!0),"click",function(){var e=!0;if(0==n)for(var t=f.querySelectorAll(".clordena-dw"),r=0;r<t.length;r++)t[r].value.trim()!=a[r]?e=!1:(t[r].disabled=!0,t[r].className="clordena-dw clordena-dwfx");else 1==n&&-1<l.toString().indexOf(0)&&(e=!1);0==e?LIM.poneravaliacion(i,M.properties.mensamal,!1,M.properties.funava,M.num):LIM.poneravaliacion(i,M.properties.mensaben,!0,M.properties.funava,M.num)}),t=LIM.desordena(s),(d=document.createElement("div")).setAttribute("class","clordena-b"),i.appendChild(d),M.properties.imaxe&&((g=document.createElement("div")).setAttribute("class","clordena-im"),d.appendChild(g));var f=document.createElement("div");2!=o?f.setAttribute("class","clordena-base"):f.setAttribute("class","clordena-base clordena-basev"),d.appendChild(f),9!=o&&(u=document.createElement("div"),d.appendChild(u));var h=document.createElement("div");h.setAttribute("class","clordena-cadro"),d.appendChild(h),M.properties.imaxe&&(LIM.crearimaxe({pai:g,alttext:M.properties.alttext}).src=M.properties.imaxe),1==o&&(f.style.top="10px");var v="clordena-dest",g="clordena-etq";2==o&&(v="clordena-dest clordena-v",g="clordena-etq clordena-etq-v",h.setAttribute("class","clordena-cadro"));var b=[];if(1==n){for(d=0;d<s;d++){l[d]="0";var x=LIM.creardom("span",f,d+"cdest"+r,v);p[d]="",b.push(x)}for(var y=[],d=v=0;d<s;d++)u=(v=t[d])+"etq"+r,x=LIM.creardom("div",h,u,g,-1,-1),c[d]=null,x.innerHTML=a[v],y.push(x),x.getBoundingClientRect().width>m&&(m=x.getBoundingClientRect().width),LIM.drag(x,i,e),l[v]=" "!=a[v]?0:1;if(2==o)for(d=0;d<s;d++)y[d].style.width=m+"px";for(m+=10,d=0;d<s;d++)b[d].style.width=m+"px";x=h.getBoundingClientRect(),h.style.position="relative",h.style.width=x.width+"px",h.style.height=x.height+"px"}else if(2==n){for(r="",d=0;d<s;d++)r+="<input class='cltxts-in'  ></input>";for(f.innerHTML=r,c=f.querySelectorAll(".cltxts-in"),u=0;u<s;u++)1==n&&(x.style.display="block"),c[u].addEventListener("keypress",function(e){this.style.width=0,e=this.scrollWidth+14,this.scrollWidth>=this.clientWidth&&(e+=10),""!=this.value&&(this.style.width=e+"px")});v=0}else{for(r="",d='<option value="">...</option>',u=0;u<s;u++)d+='<option value="'+a[t[u]]+'">'+a[t[u]]+"</option>";if(2==o)for(u=0;u<s;u++)r="<select class='clordena-dw'>"+d+"</select>",l[u]="0",(x=LIM.creardom("span",f,"",v)).style.opacity="1",x.innerHTML=r;else{for(u=0;u<s;u++)r+="<select class='clordena-dw'>"+d+"</select>",l[u]="0";f.innerHTML=r}}}}function ordenarimx(h){var v={},v=LIM.qhtml(h.donde,v);this.crear=function(){function e(e,t,r){for(d++,e.style.zIndex=d,t=parseInt(e.id),r=0;r<o;r++){if(LIM.esdrop(e,c[r],e,!0,!0)){l[t]=t==r?1:0;break}l[t]=0}}v=LIM.prc(v,h);for(var t=h.properties.modo||"0",r=[],n=[],i=[],o=h.properties.imaxes.length,a=0;a<o;a++)r=h.properties.imaxes[a].split("||"),n[a]=r[0],i[a]=r[3]||"";var s=LIM.crearbase(h),r=LIM.paxina(),l=Array(o),c=Array(o),a=0,p="",d=1100;null==h.donde&&LIM.comunes(s,h.txcabe,h.txpe,h.properties.ison,h.properties.autoson,h.properties.txliga,h.properties.paxliga),"1"!=t&&LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){-1<l.toString().indexOf(0)?LIM.poneravaliacion(s,h.properties.mensamal,!1,h.properties.funava,h.num):LIM.poneravaliacion(s,h.properties.mensaben,!0,h.properties.funava,h.num)}),p="",t=LIM.desordena(o);var u=0,m=LIM.creardom("div",s,"","clordimx-base"),f=LIM.creardom("div",s,"","clordimx-base");for(a=0;a<o;a++)p=(u=t[a])+"etq"+r,p=LIM.creardom("div",m,p,"clordimx-dest",-1,-1),(u=LIM.creardom("div",p,"","clordimx-num",-1,-1)).innerHTML=(a+1).toString(),c[a]=p;for(a=0;a<o;a++)p=(u=t[a])+"etq"+r,p+="f",p=LIM.creardom("div",f,p,"clordimx-im",-1,-1),LIM.crearimaxe({pai:p,name:u+"imx"+r,cssclass:"clordimx-ix",alttext:i}).src=n[u],LIM.drag(p,s,e),l[u]=0}}function paneldeb(g){var b={etiquetas:[],imaxeAltText:[],imaxe:""},b=LIM.qhtml(g.donde,b);this.crear=function(){function t(e,t,r,n,i){this.x=t||0,this.y=r||0,this.w=n||1,this.h=i||1,this.rw=n||1,this.rh=i||1,this.imax=e||""}function e(e,t){var r,n;e.width=parseInt(getComputedStyle(e).width)||e.clientWidth||800,e.height=parseInt(getComputedStyle(e).height)||e.clientHeight||500,this.canvas=e,this.width=e.width,this.height=e.height,this.ctx=e.getContext("2d"),""!=t?(r=this,(n=new Image).onload=function(){r.imfon=n,r.fondo()},n.src=t):this.imfon=null,document.defaultView&&document.defaultView.getComputedStyle&&(this.stylePaddingLeft=parseInt(document.defaultView.getComputedStyle(e,null).paddingLeft,10)||0,this.stylePaddingTop=parseInt(document.defaultView.getComputedStyle(e,null).paddingTop,10)||0,this.styleBorderLeft=parseInt(document.defaultView.getComputedStyle(e,null).borderLeftWidth,10)||0,this.styleBorderTop=parseInt(document.defaultView.getComputedStyle(e,null).borderTopWidth,10)||0);t=document.body.parentNode;this.htmlTop=t.offsetTop,this.htmlLeft=t.offsetLeft,this.valid=!1,this.shapes=[],this.dragging=!1,this.selection=null,this.dragoffy=this.dragoffx=0,l=this,e.addEventListener("selectstart",function(e){return e.preventDefault(),!1},!1),e.addEventListener("mousedown",function(e){var t=l.getMouse(e);e=t.x,t=t.y;for(var r=l.shapes,n=r.length-1;0<=n;n--)if(r[n].contains(e,t)){var i=r[n];return r.splice(n,1),r.push(i),i=r[r.length-1],l.dragoffx=e-i.x,l.dragoffy=t-i.y,l.dragging=!0,l.selection=i,l.valid=!1,l.selection=i,l.dragging=!0,void l.draw()}l.selection&&(l.selection=null,l.valid=!1,l.draw())},!0),e.addEventListener("mousemove",function(e){l.dragging&&(e=l.getMouse(e),l.selection.x=e.x-l.dragoffx,l.selection.y=e.y-l.dragoffy,l.valid=!1,l.draw())},!0),e.addEventListener("mouseup",function(e){l.dragging=!1},!0),this.selectionColor="#CC0000",this.selectionWidth=2,this.interval=30,l.selection&&l.selection.draw(l.ctx)}function r(e){if(l.selection){switch(e){case"r":e=l.selection.h,10<l.selection.w&&10<e&&(l.selection.w-=5,l.selection.h-=5);break;case"a":l.selection.w+=5,l.selection.h+=5;break;case"d":for(e=l.shapes.length-1;0<=e;e--)l.selection==l.shapes[e]&&l.shapes.splice(e,1);l.selection=null}l.valid=!1,l.draw()}}function n(e,t,r,n,i){var o=document.createElement("button");o.setAttribute("class",t),o.setAttribute("title",n),o.innerHTML=r,LIM.addEventSimple(o,"click",i),e.appendChild(o)}g=LIM.prc(b,g);var i=LIM.crearbase(g);LIM.paxina();var o=null,o=g.properties.etiquetas,a=g.properties.imaxeAltText,s=g.properties.imaxe||"",l=null;t.prototype.draw=function(e){e.drawImage(this.imax,this.x,this.y,this.w,this.h)},t.prototype.contains=function(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t},e.prototype.addShape=function(e){this.shapes.push(e),this.valid=!1,e.draw(this.ctx)},e.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},e.prototype.toimx=function(){return this.canvas.toDataURL("image/png")},e.prototype.fondo=function(e){this.imfon&&this.ctx.drawImage(this.imfon,0,0)},e.prototype.draw=function(){if(this.clear(),this.fondo(),!this.valid){for(var e=this.ctx,t=this.shapes,r=t.length,n=0;n<r;n++){var i=t[n];i.x>this.width||i.y>this.height||i.x+i.w<0||i.y+i.h<0||t[n].draw(e)}null!=this.selection&&(this.selection.draw(e),e.strokeStyle=this.selectionColor,e.lineWidth=this.selectionWidth,e.setLineDash([5,4]),t=this.selection,e.strokeRect(t.x,t.y,t.w,t.h)),this.valid=!0}},e.prototype.getMouse=function(e){var t=this.canvas,r=0,n=0;if(void 0!==t.offsetParent)for(;r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;);return r+=this.stylePaddingLeft+this.styleBorderLeft+this.htmlLeft,n+=this.stylePaddingTop+this.styleBorderTop+this.htmlTop,{x:e.pageX-r,y:e.pageY-n}};for(var c,p,d,u,m,f,h=LIM.creardom("div",i,"","clpan_colimx"),v=0;v<o.length;v++)c=h,p="clpan_cadro",d=o[v],u=a[v],m=function(){var e=this.childNodes[0];l.addShape(new t(e,40,40,e.naturalWidth,e.naturalHeight))},f=void 0,(f=document.createElement("div")).setAttribute("class",p),(p=document.createElement("img")).setAttribute("class","clpan_imx"),p.setAttribute("title",u||LIM.td("Imagen")),p.setAttribute("src",d),f.appendChild(p),LIM.addEventSimple(f,"click",m),c.appendChild(f);i=LIM.creardom("div",i,"","clpan_col2"),o=LIM.creardom("canvas",i,"","clpan_canvas"),n(h=LIM.creardom("div",i,"","clpan_botonera"),"clpan_boton","-",LIM.td("Botn para reducir"),function(){r("r")}),n(h,"clpan_boton","+",LIM.td("Botn para ampliar"),function(){r("a")}),n(h,"clpan_boton","x",LIM.td("Botn para eliminar elemento"),function(){r("d")}),n(h,"clpan_boton","G",LIM.td("Botn para guardar"),function(){l.selection=null,l.valid=!1,l.draw();var e=l.toimx();e.download="paneldeb.png",window.location=e}),new e(o,s)}}function parellas(z){this.crear=function(){function c(){A-=T,--w<0?(clearInterval(L),"none"!=S.parentNode.parentNode.style.display&&LIM.poneravaliacion(S,z.properties.mensamal,!1,z.properties.funava,z.num),E=!1):(k.innerHTML=w.toString(),k.style.width=A.toString()+"px")}var p="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" "),e=z.properties.imaxes||[],t=z.properties.etiquetas||[],r=z.properties.textos||[],i=z.properties.sons||[],d=z.properties.modo||"0",n=z.properties.tempo||"50",u=z.properties.cfondo||"",m=z.properties.ctapa||"",o=[],a=e.length;if(0<e.length){for(var s=[],l=[],f=[],h=[],v=0;v<a;v++)s=e[v].split("||"),l[v]=s[0]||"",f[v]=s[1]||"",h[v]=s[2]||"";var g=[],b=[],x=[];if(0<t.length)for(v=0;v<a;v++)s=t[v].split("||"),g[v]=s[0]||"",b[v]=s[1]||"",x[v]=s[2]||"";var y=[],M=[]}if("2"==d&&0==a){for(d="3",a=i.length,h=[],x=[],v=0;v<a/2;v++)h[v]=i[v];for(x=[],v=a/2;v<a;v++)x[v-a/2]=i[v]}var L,I=[],t=0,N=!1,w=Number(n),E=!0;if("0"==d){for(t=0;t<a;t++)y.push(l[t]),I.push(h[t]),o.push(t),y.push(l[t]),I.push(h[t]),o.push(t);t=y.length}else if("1"==d){for(t=s=0;t<e.length;t++)""==e[t]&&""==r[t]||s++;for(t=0;t<a;t++)y[t]=l[t],M[t]=f[t],I[t]=h[t],o[t]=t;for(t=e=0;t<a;t++)y[e=t+a]=g[t],I[e]=x[t],M[e]=b[t],o[e]=t;t=y.length}else if("3"==d){for(s=0,a=i.length/2,t=0;t<a;t++);for(t=0;t<a;t++)I[t]=h[t],o[t]=t;for(t=e=0;t<a;t++)I[e=t+a]=x[t],o[e]=t;t=I.length}var S=LIM.crearbase(z),C=LIM.paxina();LIM.esactividad(S,!1);var k=LIM.creardom("div",S,"","clpar-tem"),A=k.offsetWidth,T=A/w;k.innerHTML=n;var H=Array(t);H.fill(0)||H.join("0").split("").map(parseFloat);var q=1e3,O=null,P=!0,B="par"+C;LIM.desordena(t);function _(e,t,r,n,i,o,a){this.ver=function(){return this.num},o=t+B,(e=document.createElement("div")).className="clpar ",e.id=o,(o=document.createElement("figure")).className="clpar front";var s=document.createElement("figure");s.className="clpar back",e.appendChild(o),e.appendChild(s),S.appendChild(e),parseInt(s.offsetWidth),parseInt(s.offsetHeight),""!=u&&(o.style.backgroundColor="#"+u),self=this;var l=LIM.crearimaxe({pai:s,name:t+"imxf"+r,cssclass:"clpar-im",alttext:""});return"3"!=d&&(l.src=n),H[t]=0,(""!=n?LIM.creardom("div",s,t+"txt"+r,"clpar-texto"):LIM.creardom("div",s,t+"txt"+r,"clpar-txtg")).innerHTML=i,e.num=a,o.innerHTML="?",""!=m&&(o.style.backgroundColor="#"+m),o.style.cursor="pointer",void 0!==z.properties.fcolor&&(e.style.backgroundColor="#"+z.properties.fcolor),LIM.addEventSimple(e,"click",function(){N||(N=!0,L=setInterval(c,1e3));var e,t,r,n=parseInt(this.id);I[n]&&LIM.sonar(I[n]),P&&"clpar flipped"!=this.className&&(this.className="clpar flipped",e=this,r=parseInt(e.id),n=O?parseInt(O.id):1e4,q<1e3?(e.num==O.num?(e.childNodes[1].style.backgroundColor=p[e.num],O.childNodes[1].style.backgroundColor=p[e.num],H[r]=1,-(H[n]=1)==H.toString().indexOf(0)&&(clearInterval(L),E&&LIM.poneravaliacion(S,z.properties.mensaben,!0,z.properties.funava,z.num))):(P=!1,t=O,setTimeout(function(){e.classList.toggle("flipped"),t.classList.toggle("flipped"),P=!0},500)),O=null,q=1e3):(q=r,O=e))}),e}!function(e){for(var t,r=LIM.desordena(e),n=0;n<e;n++)t=r[n],void 0===i[t]&&(i[t]=""),3==d?new _(S,t,C,"","",i[t],o[t]):1==d?new _(S,t,C,y[t],M[t],i[t],o[t]):new _(S,t,C,y[t],"","",o[t]),0}(t)}}function piramide(d){var u={texto:"",palabras:"",letras:""};this.crear=function(){var e=(d=LIM.prc(u,d)).properties.palabras||[""],t=d.properties.texto||"",r=e.length,n=LIM.crearbase(d),i=LIM.paxina(),o=[];null==d.donde&&LIM.comunes(n,d.txcabe,d.txpe,d.properties.ison,d.properties.autoson,d.properties.txliga,d.properties.paxliga),LIM.addEventSimple(LIM.esactividad(n,!0),"click",function(){for(var e="",t=0;t<o.length;t++)e+=o[t].value;e=e.toLowerCase(),p==e?LIM.poneravaliacion(n,d.properties.mensaben,!0,d.properties.funava,d.num):LIM.poneravaliacion(n,d.properties.mensamal,!1,d.properties.funava,d.num)});var a,s=document.createElement("div");s.setAttribute("class","clpi-col1"),n.appendChild(s),""!=t&&((a=LIM.creardom("div",n,"","clpi-txt")).innerHTML=t);for(var l=a=0;l<r;l++){(t=document.createElement("div")).setAttribute("class","clpi-let clpi-nu"),t.innerHTML=l+1,s.appendChild(t);for(var c=0;c<e[l].length;c++)(t=document.createElement("INPUT")).setAttribute("type","text"),t.setAttribute("maxlength","1"),t.setAttribute("class","clpi-let"),t.setAttribute("id",a+"pir"+i),s.appendChild(t),o[a]=t,a++;(t=document.createElement("div")).setAttribute("class","clpi-se"),s.appendChild(t)}for(c=0;c<o.length;c++)o[c].addEventListener("keyup",function(e){var t;this.value.length==this.maxLength&&(t=parseInt(this.id),t=8==e.keyCode?t-1:t+1,8!=e.keyCode&&o[t]&&o[t].focus())},!1);var p=e.join("").toLowerCase()}}function plantilla(d){this.crear=function(){var e,t,r=d.properties.resp||"",n=d.properties.boton||"",i=LIM.crearbase(d),o=LIM.paxina(),a=null,s=i.getElementsByTagName("font");s&&LIM.cambiafont(s),""!=n&&(e=(n=n.split("||"))[0],t=n[1]||"");var l,c,p=LIM.creardom("div",i,"","clplan");t&&LIM.crearlink({pai:p,url:"javascript:LIM.salto('"+t+"')",text:e,cssclass:"clplan-bt",alttext:e}),r&&(l=[],c=(l=r.toLowerCase().split("|")).length,a=LIM.crearinput({pai:p,name:"input"+o,cssclass:"clplan-in",pholder:d.properties.pholder}),LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var e=!1,t=a.value.toLowerCase(),r=0;r<c;r++)t==l[r]&&(e=!0);e?LIM.poneravaliacion(p,d.properties.mensaben,!0,d.properties.funava,d.num):LIM.poneravaliacion(p,d.properties.mensamal,!1,d.properties.funava,d.num)}),a.focus())}}function preguntas(d){var u={media:"",preguntas:[],respuestas:[],altimaxe:"",color:""},u=LIM.qhtml(d.donde,u);this.crear=function(){var e=(d=LIM.prc(u,d)).properties.imaxe||"",t=d.properties.preguntas.length,r=LIM.crearbase(d),n=LIM.paxina();null==d.donde&&LIM.comunes(r,d.properties.txcabe,d.properties.txpe,d.properties.ison,d.properties.autoson,d.properties.txliga,d.properties.paxliga),LIM.addEventSimple(LIM.esactividad(r,!0),"click",function(){for(var e,t=0;t<i.length;t++)for(e=a[t]=0;e<o[t].length;)LIM.sspc(i[t].value.toLowerCase())==o[t][e]?(i[t].style.backgroundColor="#98FB98",a[t]=1,e=50):i[t].style.backgroundColor="#FFFFFF",e++;-1==a.toString().indexOf("0")?LIM.poneravaliacion(r,d.properties.mensaben,!0,d.properties.funava,d.num):LIM.poneravaliacion(r,d.properties.mensamal,!1,d.properties.funava,d.num)});var i=Array(t),o=Array(t),a=Array(t);LIM.desordena(t);var s,l,c,p="etq"+n;for(""!=e&&(s=LIM.creardom("div",r,"cmed"+n,"clpreg-media",-1,-1),l=LIM.creardom("div",s,"","clpreg-bmed",-1,-1),"s"==(c=LIM.tcontido(e))?l=LIM.crearswf(l,"coswf"+n,e,"",0,0,360,300,""):"v"==c?(c="",(l=LIM.crearvid(l,"covid"+n,e,"",0,0,360,300,"")).style.border="solid 1px #cccccc"):"i"==c?(c=(c="")!=d.properties.altimaxe?"<img src='"+e+"' class='cladx-im' title='"+d.properties.altimaxe+"'>":"<img src='"+e+"' class='cladx-im' >",s.innerHTML=c):(l.style.width="380px",l.innerHTML=d.properties.media)),l="",e=LIM.creardom("div",r,"","clpreg-base",-1,-1),n=0;n<t;n++)s=n+p,(l=LIM.creardom("div",e,s,"clpreg-cadro",-1,-1)).innerHTML=d.properties.preguntas[n],s=LIM.crearinput({pai:l,name:s+p+"m",cssclass:"clpreg-input",posx:5,posy:60,dimw:"100%",dimh:25,pholder:d.properties.pholder}),i[n]=s,o[n]=[],l=LIM.sspc(d.properties.resp[n].toLowerCase()),o[n]=l.split("|"),a[n]=0}}function puzzle(A){function r(){function M(t,r,n){if(r=document.createElementNS("http://www.w3.org/2000/svg",r),n)for(var i in n)r.setAttribute(i,n[i]);return e=r,t.appendChild(e),e}function L(e,t){var r=.4*e,n=.05*e*(!!t^e<0?-1:1);return["h"+.5*(e-r),"q"+(t=n*(e<0!=n<0?-1:1))+",0 "+t+","+n,"t"+-t+","+n,-t+","+n,t+.5*r+","+n,t+.5*r+","+-n,-t+","+-n,-t+","+-n,t+","+-n,"h"+.5*(e-r)]}function I(e,t){var r=.4*e,n=.05*e*(!!t^e<0?-1:1);return["v"+.5*(e-r),"q0,"+(t=n*(e<0!=n<0?-1:1))+" "+n+","+t,"t"+n+","+-t,n+","+-t,n+","+(t+.5*r),-n+","+(t+.5*r),-n+","+-t,-n+","+-t,-n+","+t,"v"+.5*(e-r)]}function N(e){return{x:(e=e.getCTM()).e,y:e.f}}var w,E=null,S=null,C="";this.comezar=function(h){(S=h.donde).getElementsByClassName("clpuzpezapz"),S.getElementsByClassName("clpuzcssdef");var v=800,g=500;h.dimx&&(v=Number(h.dimx)),h.dimy&&(g=Number(h.dimy));var b=h.im,x=new Image;x.src=b;var y=!1;x.onload=function(){if(!y){var e=x.width,t=x.height,r=h.pzh,n=h.pzv,i=v,o=g,a=h.imaxfondo,s=h.transfondo;if(S.style.minHeight=o+30,3*e<i&&2*t<o&&(t*=.5*i/e,e=.5*i),i<e&&(t*=i/e,e=i),o<t&&(e*=o/t,t=o),e={u:b,wd:e,ht:t,nh:r,nv:n},(t=S).innerHTML="",C=S.id+(new Date).valueOf()+"p",w=S.id+(new Date).valueOf()+"d",t.innerHTML='<div class="clpuzsvgf"></div><svg class="clpuzsvg"><defs class="cluzdef"  id="'+w+'"></defs><g id="'+C+'" class="clpezapz"></g></svg>',(t=S.getElementsByClassName("clpuzsvg")[0]).style.width=i+"px",t.style.height=o+"px",a&&((t=S.getElementsByClassName("clpuzsvgf")[0]).style.width=i+"px",t.style.height=o+"px",t.style.backgroundImage="url("+a+")",t.style.opacity=Number(s)/100),E=document,i=location.search)for(var l in i=i.slice(1).split("&"))a=i[l].indexOf("="),o=i[l].slice(0,a),a=unescape(i[l].slice(a+1)),e[o]=a;n=e.u,i=e.wd,o=e.ht,a=i/(l=e.nh),s=o/(e=e.nv),t=document.getElementById(w),r=document.getElementById(C),S.getElementsByTagName("svg")[0].getBoundingClientRect();var c=M(t,"symbol",{id:w+"im"});M(c,"image",{href:n,width:i,height:o}),n=[],c=[];for(var p=0;p<l;++p){n[p]=[];for(var u=0;u<e;++u){var m=String.fromCharCode(97+p)+String.fromCharCode(97+u),f=["M0,0"];0==u?f.push("h"+a):f=f.concat(L(a,(37*p^1009*u)%17&1)),p==l-1?f.push("v"+s):f=f.concat(I(s,(37*(p+1)^1009*u)%17&2)),u==e-1?f.push("h"+-a):f=f.concat(0,L(-a,(37*p^1009*(u+1))%17&1)),0==p?f.push("v"+-s):f=f.concat(0,I(-s,(37*p^1009*u)%17&2)),f.push("z"),d=f.join(" "),f=M(t,"pattern",{id:C+m,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",patternTransform:"translate("+-p*a+","+-u*s+")",x:0,y:0,width:i,height:o}),M(f,"use",{href:"#"+w+"im"}),f=M(r,"g",{id:C+m,transform:"translate("+Math.random()*(i-a)+","+Math.random()*(o-s)+")"}),M(f,"path",{d:d,fill:"url(#"+C+m+")"}),n[p][u]=f,c.push(f)}}for(p=0;p<l;++p)for(u=0;u<e;++u)i=n[p][u].adjs=[],0<p&&i.push({elt:n[p-1][u],dx:-a}),p+1<l&&i.push({elt:n[p+1][u],dx:a}),0<u&&i.push({elt:n[p][u-1],dy:-s}),u+1<e&&i.push({elt:n[p][u+1],dy:s});!function(c,e){function t(e){for(var t in e.preventDefault(),d=e.currentTarget.hunk,p=!0,s="touchstart"===e.type?(a=e.touches[0].clientX,e.touches[0].clientY):(a=e.clientX,e.clientY),d.elts){var r=(e=d.elts[t]).getCTM();e.startX=r.e,e.startY=r.f,e.parentNode.appendChild(e)}}function r(e){if(e.preventDefault(),p){for(e=0;e<d.elts.length;++e){var t,r=d.elts[e],n=N(r);for(t in r.adjs){var i=r.adjs[t];if(i.elt.hunk!=d){var o=N(i.elt);if(i.dx&&(o.x-=i.dx),i.dy&&(o.y-=i.dy),Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)<100){c.num+=1;var a,s=o.x-n.x,n=o.y-n.y;for(a in d.elts){o=d.elts[a];var l=N(o);o.setAttribute("transform","translate("+(l.x+s)+","+(l.y+n)+")")}for(a in n=N(r),i=i.elt.hunk.elts,d.elts=d.elts.concat(i),i)i[a].hunk=d;if(c.num==c.total){document.getElementById(C).setAttribute("class","clpuzpezapzno"),LIM.poneravaliacion(S,A.properties.mensaben,!0,A.properties.funava,A.num);break}}}}}d=null,p=!1}}function n(e){var t,r;if(e.preventDefault(),p)for(r in e="touchmove"===e.type?(t=e.touches[0].clientX-a,e.touches[0].clientY-s):(t=e.clientX-a,e.clientY-s),d.elts){var n=d.elts[r];n.setAttribute("transform","translate("+(n.startX+t)+","+(n.startY+e)+")")}}c.getAttribute||(c=E.getElementById(c)),c.num=0,c.total=e.length-1;var i=[];for(u in e)i.push(e[u].hunk={i:u,elts:[e[u]]});var o,p=!1,d=null,a=null,s=null;for(o in c.addEventListener("mousemove",n,!1),c.addEventListener("mouseup",r,!1),c.addEventListener("touchend",r,!1),c.addEventListener("touchmove",n,!1),i){var l,u=i[o];for(l in u.elts){var m=u.elts[l];m.addEventListener("mousedown",t,!1),m.addEventListener("touchstart",t,!1)}}(i=S.getElementsByClassName("clpuzsvg")[0]).style.width="100%",i.style.heifht="100%"}(C,c),y=!0}}}}var n={imaxefondo:"",transfondo:100,imaxe:"",altimaxe:"",filas:"",columnas:""},T=1100;this.crear=function(){A.properties.minheight="430";var e,t,b=(A=LIM.prc(n,A)).properties.columnas||2,x=A.properties.filas||2,y=A.properties.imaxe||"",M=A.properties.imfondo||"",L=x*b,I=LIM.crearbase(A),N=LIM.paxina(),w=Array(L),E=Array(L),S=Array(L),C=Array(L),k=Array(L);null==A.donde&&LIM.comunes(I,A.txcabe,A.txpe,A.properties.ison,A.properties.autoson,A.properties.txliga,A.properties.paxliga),LIM.esactividad(I,!1),"1"==A.properties.forma?(new r).comezar({im:y,pzh:x,pzv:b,donde:I,imaxfondo:M,transfondo:A.properties.trans}):(e=function(r,e,t){function n(){for(var e=0;e<L;e++){var t=k[e];t.style.left=r+"px",t.style.top="0px",d[e]==e&&(w[e]=1)}return!0}function i(e,t,r){T++,e.style.zIndex=T;for(var n=parseInt(e.id),i=0;i<L;i++){if(LIM.ratosobre(e,C[i],t,r,!0)){n==i?-(w[n]=1)==w.toString().indexOf(0)&&(T++,(e=LIM.crearimaxe({pai:I,name:"imxfondo"+N,cssclass:"",posx:10,posy:0,alttext:A.properties.alttext})).style.border="solid 2px #8A0829",e.src=y,e.style.zIndex=T,LIM.poneravaliacion(I,A.properties.mensaben,!0,A.properties.funava,A.num)):w[n]=0;break}w[n]=0}return!0}if(I.style.minHeight=e+30,t){t=r/b,e/=x;var o,a=-1,s="etq"+N,l="dst"+N,c="",p="",d=LIM.desordena(L),u=0,m=0,f=1;"2"==A.properties.forma&&(f=50),""!=M&&((p=LIM.crearimaxe({pai:I,name:"imxfondo"+N,cssclass:"",posx:10,posy:0,alttext:A.properties.alttext})).border="1",p.src=M);for(var h=0;h<x;h++){for(var v=u=0;v<b;v++){o=d[++a],c=a+s,p=0-u+"px "+(0-m)+"px";var g=LIM.creardom("div",I,a+l,"",u+10,m);g.style.width=t+"px",g.style.height=e+"px",g.style.border="1px solid blue",g.style.position="absolute",g.style.zIndex=800+a,LIM.borde(g,f),g.style.backgroundColor="white",g.style.opacity=(100-A.properties.trans)/100,g.style.filter="alpha(opacity="+A.properties.trans+")",(c=LIM.creardom("div",I,c,"",u+10,m)).style.width=t+"px",c.style.height=e+"px",c.style.position="absolute",c.style.border="1px solid #333333",c.style.backgroundImage="url('"+y+"')",c.style.backgroundPosition=p,T++,c.style.zIndex=1100+o,LIM.drag(c,I,i),w[a]=0,C[a]=g,k[a]=c,E[a]=u+10+"px",S[a]=m+"px",u+=t,LIM.borde(c,f),"3"==A.properties.modo&&(c.style.font="14px Arial",c.style.textAlign="center",c.style.color="#00ff00",c.style.textShadow=" 1px 1px 0 #000000",c.innerHTML="   "+(a+1))}m+=e}"4"==A.properties.modo?setTimeout(n,2e3):("5"==A.properties.modo?function(){for(var e=0;e<L;e++){var t=k[e];t.style.left="670px",t.style.top="200px"}}:n)()}},""!=y&&(t=new Image,LIM.cargaimaxe(t,A.properties.imaxe,0,0,e,!1,!1)))}}function raiosx(x){var y={imaxe:"",imfondo:"",resposta:"",texto:"",imaxeAltText:[],posx:"",posy:"",tam:"",mensaben:"",mensamal:""},y=LIM.qhtml(x.donde,y);this.crear=function(){var t,n,e,c,p,d,u,m,f,h,v,r,i,o,a,s,g,l=(x=LIM.prc(y,x)).properties.imfondo||"",b=Number(x.properties.rdim||"60");""!=l&&(t=function(e,t,r,n){function i(e){e.offsetX?(m=e.offsetX,curY=e.offsetY):e.layerX&&(m=e.layerX,curY=e.layerY),o(m,curY)}function o(e,t){p.globalCompositeOperation="source-over",p.clearRect(0,0,d,d),v?p.drawImage(g,0,0,d,u):(p.beginPath(),p.fillStyle="#333388",p.fillRect(0,0,d,d),p.fill(),p.stroke()),p.globalCompositeOperation="xor",p.strokeStyle="#000000",p.fillStyle="#ffffff",p.lineWidth=2,p.beginPath(),p.arc(e,t,c,0,2*Math.PI,!1),p.fill(),p.stroke(),p.strokeStyle="#FF000000",p.lineWidth=5,p.beginPath(),p.arc(e,t,c,0,2*Math.PI,!1),p.stroke()}var a=document.createElement("canvas");x.properties.imaxeAltText[0]&&a.setAttribute("title",x.properties.imaxeAltText[0]),a.width=d,a.height=u,a.className="clrx-b",e.appendChild(a),p=a.getContext("2d");var s=LIM.relposX(a),l=LIM.relposY(a)+80;o(f,h),a.style.backgroundImage="url('"+t+"')",a.style.backgroundRepeat="no-repeat",a.style.backgroundAttachament="fixed",a.style.backgroundPosition=r+"px "+n+"px",a.style.cursor="pointer",a.addEventListener("mouseup",function(e){a.removeEventListener("mousemove",i)}),a.addEventListener("mousedown",function(e){a.addEventListener("mousemove",i)}),a.addEventListener("touchmove",function(e){var t=event.targetTouches[0];o(t.pageX-s,t.pageY-l),e.preventDefault()})},n=LIM.crearbase(x),e=LIM.paxina(),null==x.donde&&LIM.comunes(n,x.txcabe,x.txpe,x.properties.ison,x.properties.autoson,x.properties.txliga,x.properties.paxliga),e="rx"+e,d=650,m=0,h=f=c=b,v=!(u=426),""!=x.properties.imaxe&&(v=!0),x.properties.texto&&(b=LIM.creardom("div",n,e+"ptx","clrx-pan"),r=document.createElement("a"),b.appendChild(r),(i=LIM.creardom("div",r,e+"tx","clrx-text")).innerHTML=x.properties.texto,LIM.crearlink({pai:b,url:"javascript:;",name:e+"bt",cssclass:"clrx-bt",alttext:LIM.td("Texto")}).onclick=function(){var e=this.parentNode;e.offsetHeight<15?(e.style.height="360px",i.style.visibility="visible"):(e.style.height="0px",i.style.visibility="hidden")}),x.properties.resp&&(x.properties.resp=x.properties.resp.toLowerCase(),o=x.properties.resp.split("|"),a=o.length,LIM.addEventSimple(LIM.esactividad(n,!0),"click",function(){for(var e=!1,t=s.value.toLowerCase(),r=0;r<a;r++)t==o[r]&&(e=!0);return e?(p.clearRect(0,0,d,u),p.globalAlpha=.2,LIM.poneravaliacion(n,x.properties.mensaben,!0,x.properties.funava,x.num)):LIM.poneravaliacion(n,x.properties.mensamal,!1,x.properties.funava,x.num),!0}),s=LIM.crearinput({pai:n,cssclass:"clinput clrx-in",name:e+"in",pholder:x.properties.pholder})),v?((g=new Image).src=x.properties.imaxe,g.onload=function(){d=g.width,u=g.height;var e=LIM.reduce(g.width,g.height,800,450);d=e.W,u=e.H,t(n,l,x.properties.posx,x.properties.posy)}):t(n,l,x.properties.posx,x.properties.posy))}}function relacionar(b){this.crear=function(){var e=b.properties.palabras||[],t=b.properties.etiquetas||[],r=e.length,n=t.length,s=LIM.crearbase(b),l=LIM.paxina();null==b.donde&&LIM.comunes(s,b.txcabe,b.txpe,b.properties.ison,b.properties.autoson,b.properties.txliga,b.properties.paxliga),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){var e=!1,t=d.getElementsByClassName("clrela-lina").length;if(console.log(t+" - "+h),t==h){for(var r,n=u,i=d.getElementsByClassName("clrela-lina"),o=0;o<t;o++)r=i[o].id.split("l")[0]+"|",n.replace(r,""),-1<n.indexOf(r)&&(n=n.split(r).join(""));""==n&&(e=!0)}e?LIM.poneravaliacion(s,b.properties.mensaben,!0,b.properties.funava,b.num):LIM.poneravaliacion(s,b.properties.mensamal,!1,b.properties.funava,b.num)});var i=[],o=[],c=[],p=LIM.creardom("div",s,"","clrela-b",-1,-1),d=LIM.creardom("div",p,"","clrela-cl",-1,-1);for(a=0;a<r;a++)i=e[a].split("||"),o[a]=i[0],c[a]=i[1];var u="",m="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" ");for(a=0;a<r;a++)u+=function(e,t){var r="";if(""!=t)for(var n=t.split(","),i=0;i<n.length;i++)r+=e+"a"+n[i]+"|";return r}(a+1,c[a]);var f,h=u.split("|").length-1,e="rela"+l;for(LIM.desordena(r),i="",a=0;a<r;a++){i=(a+1).toString()+e,etiq=LIM.creardom("button",p,i,"clrela-etq",20,83*a+20),etiq.innerHTML=o[a],etiq.style.backgroundColor=m[a];var v=etiq;LIM.addEventSimple(etiq,"click",function(){var e=(v=this).offsetHeight/2-g.offsetHeight/2+this.offsetTop;g.style.left=(this.offsetWidth+this.offsetLeft).toString()+"px",g.style.top=e.toString()+"px"}),0==a&&(f=etiq)}for(e="relb"+l,a=0;a<n;a++)i=(a+1).toString()+e,etiq=LIM.creardom("button",p,i,"clrela-etq",470,83*a+20),etiq.innerHTML=t[a],LIM.addEventSimple(etiq,"click",function(){var e,t,r,n,i,o,a,s;v&&(s=parseInt(v.id),r=parseInt(this.id),n=v.offsetLeft+v.offsetWidth-16,i=v.offsetTop+v.offsetHeight/2-15,o=this.offsetLeft+2,a=this.offsetTop+this.offsetHeight/2-16,r=s.toString()+"a"+r.toString()+"line"+l.toString(),(t=document.getElementById(r))?t.parentNode.removeChild(t):(e=d,t=r,r=n,n=i,i=o,o=a,a=m[s-1],s=Math.sqrt((r-i)*(r-i)+(n-o)*(n-o)),i="rotate("+180*Math.atan2(o-n,i-r)/Math.PI+"deg)",(o=document.createElement("div")).className="clrela-lina",o.id=t,o.style.position="absolute",o.style.transformOrigin=" left top",o.style.transform=i,o.style.width=s.toString()+"px",o.style.left=r.toString()+"px",o.style.top=n.toString()+"px",o.style.backgroundColor=a,e.appendChild(o),LIM.addEventSimple(o,"click",function(){this.parentNode.removeChild(this)})))});var g=LIM.creardom("div",s,"","clrela-pnt");f.click(),t=r<n?80*n:80*r,d.style.height=t.toString()+"px"}}function reloxo(A){var T={};this.crear=function(){function e(){v+=1,23<(g+=1)&&(g=0),x&&i(g,b),11<v&&(v=0),LIM.xira(E,30*v)}function t(){--g<0&&(g=23),--v<0&&(v+=12),LIM.xira(E,30*v),x&&i(g,b)}function r(){59<(b+=1)&&(b=0,e()),x&&i(g,b),LIM.xira(S,6*b),LIM.xira(E,30*v+b/2)}function n(){--b<0&&(b=59,t()),x&&i(g,b),LIM.xira(S,6*b),LIM.xira(E,30*v+b/2)}function i(e,t){var r=t.toString(),n=e.toString();t<10&&(r="0"+r),e<10&&(n="0"+n),w.innerHTML=n+":"+r}T=LIM.prc(T,A);var o,a=A.properties.modo||"1",s=A.properties.forma||"1",l=A.properties.texto||"",c=A.properties.imaxe||"",p=A.properties.altimaxe||"",d=A.properties.hora||"",u=A.properties.reloxo||"",m=u.split("|"),f=LIM.crearbase(A),h=LIM.paxina(),v=0,g=0,b=0,x=!1,y=!0;null==A.donde&&LIM.comunes(f,A.txcabe,A.txpe,A.properties.ison,A.properties.autoson,A.properties.txliga,A.properties.paxliga),"2"!=a?LIM.addEventSimple(LIM.esactividad(f,!0),"click",function(){if("0"==A.properties.modo){for(var e=!1,t=LIM.sspc(I.value).toUpperCase(),r=0;r<m.length;r++)if(t==LIM.sspc(m[r]).toUpperCase()){e=!0;break}}else"1"==a?(e=!0,x?g!=k&&(e=!1):v!=k&&v!=k-12&&(e=!1),b!=C&&(e=!1)):"4"==a&&(e=!0,t=I.value.split(":"),C=Number(t[1]),k=Number(t[0]),v!=k&&v!=k-12&&(e=!1),b!=C&&(e=!1));e?LIM.poneravaliacion(f,A.properties.mensaben,!0,A.properties.funava,A.num):LIM.poneravaliacion(f,A.properties.mensamal,!1,A.properties.funava,A.num)}):LIM.esactividad("",!1);var M,L,I,N=LIM.creardom("div",f,"crel"+h,"clrelo",20,10);""!=c?(M=LIM.crearimaxe({pai:N,name:"imx"+h,cssclass:"",posx:0,posy:0,alttext:p}),LIM.cargaimaxe(M,c,360,360,"",!0,!0),""!=p&&(M.title=p)):((c=LIM.creardom("canvas",N,"","clrelo-cv")).width=390,c.height=390,L=c.getContext("2d"),p=180,L.translate(1.1*180,180),p*=.9,function(e){var n,t=L;function r(e,t,r){for(n.strokeStyle="black",n.lineWidth=r,r=0;r<e;r++)n.save(),n.beginPath(),n.translate(0,0),n.rotate(360*r/e*Math.PI/180),n.translate(0,-155),n.moveTo(0,0),n.lineTo(0,t),n.stroke(),n.closePath(),n.restore()}t.beginPath(),t.arc(0,0,162,0,2*Math.PI),t.fillStyle="white",t.fill(),t.lineWidth=6.48,t.stroke(),t.beginPath(),t.arc(0,0,16.2,0,2*Math.PI),t.fillStyle="#333",t.fill(),n=L,r(60,8,2),r(12,14,4),t=L;var i=[];switch(e){case 4:i="0 I II III IIII V VI VII VIII IX X XI XII".split(" ");break;case 3:i="0 1 2 3 4 5 6 7 8 9 10 11 12".split(" ");break;case 1:i=["0","3","6","9","12"];break;case 2:i=["0","III","VI","IX","XII"];break;case 6:i=["0","3","6","9","12"]}var o,a=i.length;for(t.fillStyle="#333",t.font="24.3px arial",t.textBaseline="middle",t.textAlign="center",o=1;o<a;o++)e=o*Math.PI/((a-1)/2),t.rotate(e),t.translate(0,-121.5),t.rotate(-e),t.fillText(i[o],0,0),t.rotate(e),t.translate(0,121.5),t.rotate(-e)}(Number(s))),c=LIM.creardom("div",f,"","clcol1"),""!=A.properties.texto&&(LIM.creardom("div",c,"reltxt"+h,"clrelo-txt").innerHTML=l),""!=u&&(I=LIM.crearinput({pai:c,name:"relin"+h,cssclass:"clrelo-in",pholder:T.pholder})),l=[],l=d.split(":");var w,E,S,C=Number(l[1]),k=Number(l[0]);"6"==s&&(w=LIM.creardom("div",N,"di"+h,"clrelo-dix"),x=!0),"5"==s&&(w=LIM.creardom("div",N,"di"+h,"clrelo-dixt"),y=!(x=!0)),S=y?(E=LIM.creardom("div",N,"ah"+h,"clrelo-a hr"),LIM.creardom("div",N,"am"+h,"clrelo-a mr")):(E=LIM.creardom("div",N,"ah"+h,""),LIM.creardom("div",N,"am"+h,"")),"1"==A.properties.modo||"4"==A.properties.modo?(d=LIM.creardom("div",N,"crelhh"+h,"clrelo-bt",30,360),LIM.addEventSimple(d,"mousedown",function(){e(),o=setInterval(e,400)}),d.innerHTML=LIM.td("H")+"+",d=LIM.creardom("div",N,"crelh"+h,"clrelo-bt",100,360),LIM.addEventSimple(d,"mousedown",function(){t(),o=setInterval(t,400)}),d.innerHTML=LIM.td("H")+"-",d=LIM.creardom("div",N,"crelmm"+h,"clrelo-bt",200,360),LIM.addEventSimple(d,"mousedown",function(){r(),o=setInterval(r,300)}),d.innerHTML=LIM.td("M")+"+",d=LIM.creardom("div",N,"crelm"+h,"clrelo-bt",270,360),LIM.addEventSimple(d,"mousedown",function(){n(),o=setInterval(n,300)}),LIM.addEventSimple(f,"mouseup",function(){clearInterval(o)}),d.innerHTML=LIM.td("M")+"-","1"==a?(I&&(I.readOnly="readonly",I.value=m),x&&i(0,0)):(h=0,h="6"==s||"5"==s?Math.floor(23*Math.random()):Math.floor(12*Math.random()+1),s=Math.floor(59*Math.random()),console.log(h+":"+s),b=s,LIM.xira(S,6*b),g=v=h,LIM.xira(E,30*v+b/2),x&&i(g,b))):"0"==a&&""!=d&&(g=v=k,b=C,LIM.xira(S,6*b),LIM.xira(E,30*v+b/2),x&&i(k,C))}}function secreta(E){var S={texto:"",imaxe:"",altimaxe:"",palabras:"",letras:""};this.crear=function(){function e(e){if(x){parseInt(this.id);var t=this.innerHTML.toLowerCase();if(-1==this.className.indexOf("clsecre-tci")){var r=!1;for(this.className="clsecre-tcl clsecre-tci",e=0;e<u;e++)c[e]==t&&(N=LIM.lcambia(N,e,d[e]),w--,r=!0);r?(I.innerHTML=N,0==w&&("1"==n&&M.setAttribute("class","clsecre-baseim clsecre-visiim"),LIM.poneravaliacion(m,E.properties.mensaben,!0,E.properties.funava,E.num),x=!1)):(h[5- --s].parentNode.removeChild(h[5-s]),0==s&&(x=!1,LIM.poneravaliacion(m,E.properties.mensamal,!1,E.properties.funava,E.num),I.innerHTML=d))}}}var n=(E=LIM.prc(S,E)).properties.modo||"0",t=E.properties.forma||"0",r=E.properties.imaxe||"",i=E.properties.texto||"",o=E.properties.palabras||"",a=E.properties.imaxeAltText||"",s=6,l=E.properties.letras||LIM.letrascomun(),c=[],o=o.split("|"),p=LIM.desordena(o.length),d=o=LIM.ttrim(o[p[0]]);o=o.toLowerCase(),"1"!=t&&(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace("","a")).replace("","a")).replace("","a")).replace("","e")).replace("","e")).replace("","e")).replace("","i")).replace("","i")).replace("","i")).replace("","o")).replace("","o")).replace("","o")).replace("","u")).replace("","u")).replace("","u")).replace("","u")),c=o.split(""),t=[],l=(t=l.split("")).length;var u=c.length,m=LIM.crearbase(E),f=LIM.paxina(),p=Array(u),h=Array(s),v=0,f="tecla"+f,g="",b=0,x=!0;LIM.esactividad(m,!1);var y=document.createElement("div");y.setAttribute("class","clsecre-base");var M=document.createElement("div");M.setAttribute("class","clsecre-baseim"),(v=document.createElement("div")).setAttribute("class","clsecre-basetxt");var L=document.createElement("div");L.setAttribute("class","clsecre-basetcl"),y.appendChild(M),y.appendChild(v),y.appendChild(L),m.appendChild(y),""!=r&&(g=LIM.creardom("div",y,g,"",-1,-1),(g=document.createElement("div")).setAttribute("class","clsecre-imx"),M.appendChild(g),(y=document.createElement("img")).title=a,y.className="clsecre-ix",y.src=r,g.appendChild(y),"1"!=n&&M.setAttribute("class","clsecre-baseim clsecre-visiim")),""!=i&&((p=LIM.creardom("div",v,"","clsecre-cx",-1,-1)).innerHTML=i);var I=LIM.creardom("div",v,"","clsecre-in",-1,-1);for(85<o.length&&I.setAttribute("class","clsecre-in clsecre-min"),(r=document.createElement("div")).setAttribute("class","clsecre-bpnt"),v.appendChild(r),v=0;v<s;v++)(g=LIM.creardom("div",r,"","clsecre-pnt")).innerHTML=6-v,h[v]=g;for(r=LIM.creardom("div",L,"","clsecre-btcl",-1,-1),v=0;v<l;v++)g=v+f,(g=LIM.creardom("div",r,"","clsecre-tcl")).innerHTML=t[v],t[v]=t[v].toLowerCase(),p[v]=g,LIM.addEventSimple(g,"click",e),14==++b&&(b=0,0);for(var N="",w=0,r=0;r<u;r++)" "!=c[r]?","==c[r]?N+=",":"."==c[r]?N+=".":":"==c[r]?N+=":":";"==c[r]?N+=";":(N+="_",w++):N+=" ";I.innerHTML=N}}function seleccionar(N){var w={textos:[],imaxes:[],sons:[],correcta:[],imaxesAltText:[]};this.crear=function(){function e(e){e=parseInt(this.id),LIM.sonar(m[e])}function t(){for(var e=0;e<h;e++)y[e].checked?(x[e]=1,y[e].checked=!1):x[e]=0;if(x.toString()===I)for(LIM.poneravaliacion(b,N.properties.mensaben,!0,N.properties.funava,N.num),e=0;e<h;e++)y[e].style.visibility="hidden",0==x[e]&&LIM.transparencia(M[e],20);else LIM.poneravaliacion(b,N.properties.mensamal,!1,N.properties.funava,N.num)}selecciona=LIM.prc(w,N);for(var r,n,i,o,a=N.properties.imaxe||"",s=N.properties.altimaxe||"",l=N.properties.etiquetas||[],c=[],p=[],d=[],u=[],m=[],f=l.length,h=0,v=0,g=0;g<f;g++)L=(r=l[g].split("||"))[0]||"",n=r[1]||"",i=r[2]||"",o=r[3]||"",r=r[4]||"",(n||i||r)&&(h++,c.push(L),"1"==L&&v++,p.push(n),d.push(i),u.push(o),m.push(r));var b=LIM.crearbase(N),l=LIM.paxina(),x=Array(h),y=Array(h),M=Array(h),f=g=0,L=LIM.desordena(h),I=c.toString();for(LIM.addEventSimple(LIM.esactividad(b,!0),"click",t),c="clselec-cadro",3==h&&(c+=" clselec-u3"),2==h&&(c+=" clselec-u2"),a&&((n=LIM.creardom("div",b,"","clselec-im",0,0)).src=a,n.title=s),(a=document.createElement("div")).className="clselec-base",b.appendChild(a),g=0;g<h;g++)s=L[g],(n=document.createElement("div")).className=c,a.appendChild(n),i=LIM.crearchk(n,s+"rep"+l,"clselec"),n=LIM.crearlabel(n,s+"rep"+l,s+"lrep"+l,"clselec-lab","","",""),1==v&&LIM.addEventSimple(i,"click",t),x[s]=0,y[s]=i,M[s]=n,""!=d[s]&&((i=document.createElement("img")).title=u[s],i.className="clselec-imx",n.appendChild(i),i.src=d[s]),""!=p[s]&&((i=LIM.creardom("div",n,s+"txt"+l,"clselec-text",0,0)).innerHTML=p[s]),""!=m[s]&&(s=LIM.crearlink({pai:n,name:s+"reps"+l,text:"",url:"javascript:;",cssclass:"clselec-son",alttext:LIM.td("Reproducir sonido")}),LIM.addEventSimple(s,"click",e),s.innerHTML="&#x25BA;"),2==g&&(f=-1),f++}}function serie(g){var b={};this.crear=function(){function e(e){e.preventDefault()}function t(e){var t=e.target;"clser-i"==e.target.className&&(t=e.target.parentNode),e.dataTransfer.setData("text/html",t.id)}function r(e){e.preventDefault();var t=e.dataTransfer.getData("text/html"),r=LIM.dom(t);r&&"clser-c"==r.className&&(parseInt(t),e.target.style.backgroundImage='url("'+r.childNodes[0].src+'")')}selecciona=LIM.prc(b,g);for(var n=g.properties.modo||"0",i=[],o=[],a=[],s=(p=g.properties.etiquetas||[]).length,l=0;l<s;l++)i=p[l].split("||"),o[l]=i[0]||"",a[l]=i[2]||"";var c=LIM.crearbase(g),p=LIM.paxina(),d=Array(12),u=Array(12),m=LIM.desordena(s),f=LIM.desordena(s);LIM.addEventSimple(LIM.esactividad(c,!0),"click",function(){for(var e,t=!0,r=0;r<12;r++)d[r]&&(""!=(e=d[r].style.backgroundImage)?(e=(e=(e=e.toLowerCase()).match(/[\w\.\$]+(?=png|jpg|gif)\w+/g)).toString())!=u[r]&&(d[r].style.backgroundImage="",t=!1):t=!1);t?LIM.poneravaliacion(c,g.properties.mensaben,!0,g.properties.funava,g.num):LIM.poneravaliacion(c,g.properties.mensamal,!1,g.properties.funava,g.num)});for(var h=LIM.creardom("div",c,"","clser-base"),l=0;l<s;l++)(i=LIM.creardom("div",h,"","clser-cir",0,0)).setAttribute("draggable","false"),i.setAttribute("draggable","false"),i.style.backgroundImage="1"==n?'url("'+o[f[l]]+'") ':'url("'+o[l]+'")';var v=0;for(l=0;l<12;l++)i=LIM.creardom("div",h,"","clser-cir",0,0),d[l]=i,u[l]=("1"==n?o[f[v]]:o[v]).toLowerCase().match(/[\w\.\$]+(?=png|jpg|gif)\w+/g),++v==s&&(v=0),i.addEventListener("drop",r,!1),i.addEventListener("dragover",e,!1);for(h=LIM.creardom("div",c,"","clser-m"),l=0;l<s;l++)i=LIM.creardom("div",h,l.toString()+"med"+p.toString(),"clser-c",0,0),(n=LIM.crearimaxe({pai:i,cssclass:"clser-i",alttext:a[l]})).style.visibility="hidden",LIM.cargaimaxe(n,o[m[l]],130,90,"",!0,!0),i.setAttribute("draggable","true"),i.addEventListener("dragstart",t,!1)}}function sopa(O){var P={};this.crear=function(){function l(e){if(1==S){var t=[],r=c((e=(e=e||event).target||e.srcElement).innerHTML);-1!=r&&(t.push(f[e.id]),e.style.backgroundColor=x[r],m[r]=1,e.removeEventListener("click",l),1==I&&h[r]&&(h[r].style.backgroundColor=x[r]),p())}else{var n="",r=-1,t=[],i=0;if("clsopa-marca"==(e=(e=e||event).target||e.srcElement).className&&(e=E.elementFromPoint),"clsopa-base"==e.className){if(-1!=N){if(f[N].style.backgroundColor=q,(i=(w=parseInt(e.id))<N?(r=w,N):(r=N,w))-r<d){for(e=r;e<i+1;e++)n+=f[e].innerHTML,t.push(f[e]);i=1}else if(0==(i-r)%d){for(var o=e=0;o<i;)n+=f[o=r+e*d].innerHTML,t.push(f[o]),e++;i=2}else{for(o=e=0;o<i;)n+=f[o=r+e*d+e].innerHTML,t.push(f[o]),e++;i=3}r=c(n),N=-1}else N=parseInt(e.id),e.style.backgroundColor="#00ff00";if(-1!=r){for(n=r,e=t.length,o=0;o<e;o++)t[o].style["font-weight"]=800;1==I&&h[n]&&(h[n].style.backgroundColor=x[n]),ipx=parseInt(t[0].style.left)-10,ipy=parseInt(t[0].style.top),LIM.getPosition(t[0]),fpx=parseInt(t[e-2].style.left)-ipx,fpy=20,parseInt(t[0].style.top),parseInt(t[e-1].style.top),parseInt(t[0].style.left),parseInt(t[e-1].style.left);var a=(o=parseInt(t[0].style.width))/2,s=document.createElement("DIV");s.className="clsopa-marca",H.appendChild(s),s.style.top=t[0].style.top,s.style.left=t[0].style.left,1==i?(s.style.width=e*o+2+"px",s.style.height=o+"px"):2==i?(s.style.height=e*o+3+"px",s.style.width=o-2+"px"):3==i&&(s.style.width=1.4*e*o+2+"px",s.style.height=o-5+"px",s.style.transform="rotate(45deg)",s.style.transformOrigin=a+"px "+a+"px "),s.style.backgroundColor=x[n],m[r]=1,p()}}}}function c(e){var t=-1;for(v=0;v<i;v++)if(s[v]==e){s[v]="",t=v;break}return t}function p(){-1==m.toString().indexOf(0)&&LIM.poneravaliacion(a,O.properties.mensaben,!0,O.properties.funava,O.num)}P=LIM.prc(P,O);var s=O.properties.palabras||[];":"==s[0][0]&&(e=Number(s[0].replace(/:/gi,"")),s.shift(),s=function(e,t){for(var r=e.length-1;0<r;r--){var n=Math.floor(Math.random()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}return e.splice(0,t)}(s,e));var e,r=O.properties.enunciados||s,n=O.properties.imaxesAltText||[],i=s.length,d=Number(O.properties.tam)||20,o=(e=(O.properties.letras||LIM.letrascomun()).split("")).length,a=LIM.crearbase(O),u=LIM.paxina(),m=Array(i),f=Array(d),h=Array(i),v=0,g=O.properties.cadro||"0",b=Number(O.properties.pospalabra||"3"),x="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" ");LIM.esactividad(a,!1),v=0,LIM.desordena(i);var y=0,M=0,L=d*d,I=!1,N=-1,w=0,E=void 0,S=0,y=LIM.creardom("div",a,"","clsopa-marco clsopa-marco2",-1,-1),C="2"==O.properties.modo?LIM.creardom("div",y,"","clsopa-col1",-1,-1):LIM.creardom("div",y,"","clsopa-colenun",-1,-1),k=LIM.creardom("div",y,"","clsopa-col2",-1,-1);if(1==s[0].length&&(S=1),"2"==O.properties.modo){I=!0;var A,T=r.length;for(4<T&&(A=LIM.creardom("div",y,"","clsopa-col3",-1,-1)),v=0;v<T;v++)E=LIM.creardom("div",C,v+"enun"+u,"clsopa-enunim",-1,-1),(y=document.createElement("img")).title=n[v],y.className="clsopa-imx",E.appendChild(y),h[v]=E,y.src=r[v],4==++M&&(M=y=0,C=A)}else if(M="clsopa-enun","1"==O.properties.enunciado)for(0==r.length&&(M="clsopa-enun clsopa-enun2",r=s),y.className="clsopa-marco",I=!0,T=r.length,v=0;v<T;v++)(E=LIM.creardom("div",C,v+"enun"+u,M,-1,-1)).innerHTML=r[v],h[v]=E,O.properties.txtam&&(E.style.fontSize=O.properties.txtam+"px");M=y=0,r=25,O.properties.tam<12&&7<O.properties.tam&&(r=45),O.properties.tam<8&&(r=85),LIM.creardom("div",k,"","clsopa-fondo",0,0).style.position="relative";var H=LIM.creardom("div",k,"fsopa"+u,"",0,0);H.style.position="relative",H.style.border="solid 1px",H.style.width=22+r*d+"px",H.style.height=22+r*d+"px",H.style.backgroundColor="#ffffff",(E=LIM.creardom("div",k,"fsopa"+u,"",0,0)).style.position="relative",E.style.border="solid 1px",E.style.width=22+r*d+"px",E.style.height=22+r*d+"px",E.zIndex=500,E.addEventListener("mouseout",function(e){}),1!=S&&(E.addEventListener("mousedown",function(e){l(e),e.preventDefault()},!1),E.addEventListener("mouseup",function(e){l(e)})),(k=document.createElement("span")).setAttribute("class","clsopa-base");var q=k.style.backgroundColor;if("0"!=g)for(v=0;v<L;v++)(g=LIM.creardom("div",H,"","clsopa-subbase",2+(r+1)*y,2+(r+1)*M)).style.width=r+"px",g.style.height=r+"px",g.style.lineHeight=r+"px",++y==d&&(y=0,M++);for(v=M=y=0;v<L;v++)etiqf=LIM.crearlink({pai:E,name:v+"sopa"+u,text:"",url:"javascript:;",cssclass:"clsopa-base",posx:2+(r+1)*y,posy:2+(r+1)*M}),O.properties.tam<10&&(etiqf.style.fontSize="36px"),etiqf.style.width=r+"px",etiqf.style.height=r+"px",etiqf.style.lineHeight=r+"px",f[v]=etiqf,LIM.addEventSimple(etiqf,"click",l),++y==d&&(y=0,M++);for(v=0;v<i;v++)(function(e){if(1==S){for(var r=!0;r;){var n=parseInt(Math.random()*d),i=parseInt(Math.random()*d),o=n+i*d;""==f[o].innerHTML&&(r=!1)}f[o].innerHTML=s[e]}else if(s[e].length<d)for(r=!0,e=s[e],npl=e.length;r;){n=parseInt(Math.random()*d),i=parseInt(Math.random()*d);var a=parseInt(Math.random()*b),o=n+i*d;switch(a){case 0:if(n+npl<d){for(benn=!0,t=0;t<npl;t++)n=o+t,""!=f[n].innerHTML&&f[n].innerHTML!=e[t]&&(benn=!1);if(benn)for(r=!1,t=0;t<npl;t++)n=o+t,f[n].innerHTML=e[t]}break;case 1:if(i+npl<d){for(benn=!0,t=0;t<npl;t++)n=o+d*t,""!=f[n].innerHTML&&f[n].innerHTML!=e[t]&&(benn=!1);if(benn)for(r=!1,t=0;t<npl;t++)n=o+d*t,f[n].innerHTML=e[t]}break;case 2:if(n+npl<d&&i+npl<d){for(benn=!0,t=0;t<npl;t++)n=o+d*t+t,""!=f[n].innerHTML&&f[n].innerHTML!=e[t]&&(benn=!1);if(benn)for(r=!1,t=0;t<npl;t++)n=o+d*t+t,f[n].innerHTML=e[t]}}}})(v),m[v]=0,s[v].length>d-1&&(m[v]=1);for(v=0;v<L;v++)""==f[v].innerHTML&&(f[v].innerHTML=e[Math.floor(Math.random()*o)])}}function test(w){"function"!=typeof lim_sc&&(window.lim_sc=function(){});var E={texto:"",respuestas:[],feed:[],imaxe:"",altimaxe:""};this.crear=function(){function e(){var e=[];L&&(I.innerHTML="");for(var t=0;t<l;t++)u[t].checked?(L=s[t],d[t]=1,e.push(u[t].innerHTML)):d[t]=0;if(lim_sc("respuestas usuario",e),L&&(I.style.display="block",I.innerHTML=L),d.join("")==N){for(t=0;t<l;t++)u[t].disabled=!0;LIM.poneravaliacion(c,w.properties.mensaben,!0,w.properties.funava,w.num)}else for(LIM.poneravaliacion(c,w.properties.mensamal,!1,w.properties.funava,w.num),t=0;t<l;t++)u[t].checked=!1}E=LIM.prc(E,w);var t,r=w.properties.respuestas||"",n=w.properties.imaxe||"",i=w.properties.altimaxe||"",o=w.properties.texto||"",a=w.properties.forma||"0",s=w.properties.feed||[],l=r.length,c=LIM.crearbase(w),p=LIM.paxina(),d=Array(l),u=Array(l),m="test",f=0,h=LIM.tcontido(n),v="",g="",b=[],m=0,x=LIM.desordena(l);for("@"==(m=w.properties.corr||"000000").charAt(0)&&(m=LIM.decode(m)),g=[],t=0;t<l;t++)"1"==m[t]&&f++,g[t]=m[t];lim_sc("valores correctos",g);var y,M,L,I,N=m.substring(0,l);for(LIM.addEventSimple(LIM.esactividad(c,!0),"click",e),""!=o&&("0"==a&&(y=LIM.creardom("div",c,"texto"+p,"cltest-text",10,5)),"1"==a&&(y=LIM.creardom("div",c,"texto"+p,"cltest-text cltest-textd",10,5)),y.innerHTML=o),""!=n?(t=LIM.creardom("div",c,"cmed"+p,"cltest-media",-1,-1),o=LIM.creardom("div",t,"","cltest-bmed",-1,-1),"s"==h?i=LIM.crearswf(o,"coswf"+p,n,"",0,0,360,300,""):"v"==h?(i=LIM.crearvid(o,"covid"+p,n,"",0,0,360,300,"")).style.border="solid 1px #cccccc":"i"==h?t.innerHTML=""!=i?"<img src='"+n+"' class='cladx-im' title='"+i+"'>":"<img src='"+n+"' class='cladx-im' >":(o.style.width="380px",o.innerHTML=n)):(y&&(y.className="cltest-text cltest-texts"),a="1"),"0"==a&&(M=LIM.creardom("div",c,"","cltest-base")),"1"==a&&(M=LIM.creardom("div",c,"","cltest-based")),""==n&&"0"==a&&(M.style.marginLeft="120px"),t=0;t<l;t++)netq=x[t],m=t+1,v+='<input  id="'+(g=netq+"rep"+p)+'" type="Checkbox" class="cltest-ck" value=""><label for="'+g+'" class="cltest-lab"><span class="cltest-nm">'+m+'</span><div class="cltest-txt">'+r[netq]+"</div></label>",d[netq]=0,b[netq]=g;for(M.innerHTML=v,t=0;t<l;t++)u[t]=document.getElementById(b[t]),1==f&&LIM.addEventSimple(u[t],"click",e);""!=s&&(L=s[1],(I=LIM.creardom("div",c,"mtexto"+p,"cltest-feed")).innerHTML="")}}function texto(l){var n={},n=LIM.qhtml(l.donde,n);this.crear=function(){function e(e){for(var t=0;t<d.length;t++);for(s=d.join("").replace(/[ ]/g,""),(e=(m=c(e)).innerHTML).split(" "),t=0;t<d.length;t++)e=e.replace("[?]",d[t]);for(m.innerHTML=e,e=(e=(e=(e="   "+m.innerHTML+" ").replace(/<\/?span[^>]*>/g,"")).replace(/<br>/g,"</br>")).replace(/<\/br>/g," </br> "),e=(e=(e=(m.innerHTML=e).split(/\s+/).join("</span> <span>")).replace("</span>","")).substring(0,e.lastIndexOf("<span>")),m.innerHTML='<p class="cltxts-palabra">'+e+"</p>",e=m.getElementsByTagName("SPAN"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("cltxts-marca")},!1)}function c(e){e.innerHTML="";var t=document.createElement("DIV");return e.appendChild(t),t.innerHTML=r,t}function p(e){for(var t,r=Array(e),n=0;n<e;n++)r[n]=n;for(;e;)t=Math.floor(Math.random()*e--),n=r[e],r[e]=r[t],r[t]=n;return r}var r=(l=LIM.prc(n,l)).properties.texto,d=l.properties.palabras||"",i=Number(l.properties.modo)||0,t=l.properties.forma||"16",o=LIM.crearbase(l),a=LIM.creardom("div",o,"","cltxts-base");a.style.fontSize=Number(t)+8+"px";var u=LIM.paxina();LIM.addEventSimple(LIM.esactividad(o,!0),"click",function(){var e=!1;switch(i){case 0:for(var t=a.querySelectorAll(".cltxts-marca"),r="",n=0;n<t.length;n++)r+=t[n].textContent;r==s&&(e=!0);break;case 1:for(e=!0,t=a.querySelectorAll(".cltxts-in"),r=0;r<t.length;r++)t[r].value.trim()!=d[r]?e=!1:(t[r].setAttribute("readonly","readonly"),t[r].classList.add("cltxts-infx"));break;case 2:m.textContent==f&&(e=!0);break;case 3:for(e=!0,t=a.querySelectorAll(".cltxts-dw"),r=0;r<t.length;r++)t[r].value.trim()!=d[r]?e=!1:(t[r].disabled=!0,t[r].classList.add("cltxts-dwfx"))}e?LIM.poneravaliacion(o,l.properties.mensaben,!0,l.properties.funava,l.num):LIM.poneravaliacion(o,l.properties.mensamal,!1,l.properties.funava,l.num)});var m,f="",s="";switch(""==d&&(t=function(e){for(var t=["<br>","</br>"],r=0;r<t.length;r++)e=e.split(t[r]).join(" "+t[r]+" ");var n=/(?:^|[ ])\*([a-zA-Z]+)/g,t=[],r={};if(-1<e.indexOf(" *"))for(n.exec(e),t=e.match(/\*\S+/g),n=0;n<t.length;)e=e.replace(t[n],"#"+t[n].substring(1)+"#"),n++;if(t=e.match(/#.*?#/g))for(r.palabras=t.map(function(e){return e.replace(/#/g,"")}),n=0;n<t.length;)e=e.replace(t[n],"[?]"),r.palabras[n]=r.palabras[n].replace(/  +/g," "),n++;else r.palabras=[];return r.texto=e,r}(r),r=t.texto,d=t.palabras),i){case 0:e(a);break;case 1:!function(e){e=(e=(m=c(e)).innerHTML).split("[?]").join("<input class='cltxts-in'  ></input>"),m.innerHTML=e,e=m.querySelectorAll(".cltxts-in");for(var t=0;t<e.length;t++)e[t].addEventListener("keypress",function(e){this.style.width=0,e=this.scrollWidth+14,this.scrollWidth>=this.clientWidth&&(e+=10),""!=this.value&&(this.style.width=e+"px")})}(a);break;case 2:!function(e){function a(e,t,r){var n=!0;if(e.style.position="absolute",e.style.visibility="hidden",(t=document.elementFromPoint(t,r))&&(e.style.visibility="visible","cltxts-destino"==t.className))for(n=!1,t.style.width=e.width,t.innerHTML=e.innerHTML,l[parseInt(e.id)]=t,console.log("esta"),t=0;t<o.length;t++)null!=l[t]&&(s[t].style.top=l[t].offsetTop+"px",s[t].style.left=l[t].offsetLeft+"px");if(n)for(e.style.position="relative",e.style.visibility="visible",console.log("no esta"),e=parseInt(e.id),null!=l[e]&&(l[e].innerHTML=i,l[e]=null),s[e].style.top="0px",t=0;t<o.length;t++)null!=l[t]&&(s[t].style.top=l[t].offsetTop+"px",s[t].style.left=l[t].offsetLeft+"px")}var s=[],l=[];m=c(e);for(var i="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t=m.textContent,o=d,r=0;r<o.length;r++)t=t.replace("[?]",o[r]);r=m.innerHTML;var n="<div class='cltxts-destino' >"+i+"</div>",r=r.split("[?]").join(n);m.innerHTML=r,f=t,function(e,t,r){document.getElementById(t+"-mov")?t=document.getElementById(t+"-mov"):((t=document.createElement("DIV")).className="cltxts-baseetiq",e.appendChild(t));for(var n,i=p(r.length),o=0;o<r.length;o++)(n=document.createElement("div")).className="cltxts-etiq cltxts-drag",n.id=o+"palas"+u,n.innerHTML=r[i[o]],s[o]=n,l[o]=null,t.appendChild(n),LIM.drag(n,e,a),n.getBoundingClientRect();e=t.getBoundingClientRect(),t.style.width=e.width+"px",t.style.height=e.height+"px"}(e,e,o)}(a);break;case 3:!function(e){m=c(e);var t=d,r=p(t.length);e='<option value="?">?</option>';for(var n=0;n<t.length;n++)e+='<option value="'+t[r[n]]+'">'+t[r[n]]+"</option>";e="<select class='cltxts-dw'>"+e+"</select>",t=(t=m.innerHTML).split("[?]").join(e),m.innerHTML=t}(a);break;default:e(a)}}}function triangulo(f){this.crear=function(){var e=f.properties.numeros||"",t=f.properties.lista||"",r=f.properties.ver||"",n=f.properties.modo||"0",i=f.properties.axuda||"0",o=0,a=LIM.crearbase(f);LIM.paxina(),null==f.donde&&LIM.comunes(a,f.properties.txcabe,f.properties.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){for(var e=[],t=!0,r=0;r<u.length;r++)e.push(u[r].value),d[r]!=Number(u[r].value)&&(t=!1,"0"!=i&&(u[r].value=""));t?LIM.poneravaliacion(a,f.properties.mensaben,!0,f.properties.funava,f.num):LIM.poneravaliacion(a,f.properties.mensamal,!1,f.properties.funava,f.num)}),e=e.split("|");var s=t.split("|"),l=r.split("|");(r=document.createElement("div")).setAttribute("class","cltri-base"),a.appendChild(r),t=e.length,o=0;var c,p,d=1<s.length?s:function(e){for(var t=[e];t.length<e.length;){for(var r=t[0],n=[],i=0;i<r.length-1;i++){var o=parseFloat(r[i]),a=parseFloat(r[i+1]);n.push((1e7*o+1e7*a)/1e7)}t.unshift(n)}return t}(e).toString().split(","),u=[],e=d.length;if("1"==n)var m=(c=e,p=dificultad,p+=1,Array.apply(null,Array(c)).map(function(){return Math.round(Math.random()*p)<2?1:0}));else if("2"==n)m=l;else for((m=Array(e)).fill(0),n=0;n<t+1;n++)m[e-n]=1;for(n=0;n<t;n++)!function(e,t){for(var r=0;r<t;r++){var n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("class","cltri-cadro"),n.setAttribute("maxlength","4"),d[o]&&1==m[o]&&(n.setAttribute("value",d[o]),n.setAttribute("readonly","true")),o++,u.push(n),e.appendChild(n)}(r=document.createElement("span")).setAttribute("class","cltri-sep"),e.appendChild(r)}(r,n+1)}}function unir(b){this.crear=function(){function e(e,t,r){for(m++,e.style.zIndex=m,t=parseInt(e.id),e.id.substring(e.id.length-1),r=l[t]=0;r<o;r++){var n=c[r];if(LIM.estasobre(e,n,!1)){e.style.top=n.style.top,p[t]==n.innerHTML?-(l[t]=1)==l.toString().indexOf(0)&&LIM.poneravaliacion(a,b.properties.mensaben,!0,b.properties.funava,b.num):l[t]=0;break}l[t]=0}}var t,r=b.properties.unir||[],n=b.properties.textos||[],i=r.length,o=n.length,a=LIM.crearbase(b),s=LIM.paxina(),l=Array(i),c=Array(o),p=Array(o),d=0,u="",m=1100;LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){-1<l.toString().indexOf(0)?LIM.poneravaliacion(a,b.properties.mensamal,!1,b.properties.funava,b.num):LIM.poneravaliacion(a,b.properties.mensaben,!0,b.properties.funava,b.num)}),d=0,t="etq"+s,u="";for(var f,h=LIM.desordena(i),v=LIM.creardom("div",a,"","clunir-u1",-1,-1),d=0;d<i;d++){u=(f=h[d])+t;var g=LIM.creardom("div",v,d+"dstu"+s,"clunir-etq",20,70*d+20);g.innerHTML=n[d],p[f]=n[f],c[f]=g,u=LIM.creardom("div",v,u,"clunir-drg",470,70*d+20),50<r[f].length&&(u.style.fontSize="12px"),u.innerHTML=r[f],LIM.drag(u,a,e),l[f]=0}}}function unirimx(L){this.crear=function(){function e(e,t,r){for(v++,e.style.zIndex=v,t=parseInt(e.id),e.id.substring(e.id.length-1),r=0;r<p;r++){if(LIM.esdrop(e,n[r],e,!0,!0)){m[t]==n[r].val?-(u[t]=1)==u.toString().indexOf(0)&&LIM.poneravaliacion(d,L.properties.mensaben,!0,L.properties.funava,L.num):u[t]=0;break}u[t]=0}}if(L.properties.etiquetas)for(var t=L.properties.etiquetas.length,n=Array(t),r=[],i=[],o=[""],a=[],s=[],l=[],c=0;c<t;c++)arretq=L.properties.etiquetas[c].split("||"),i[c]=arretq[0],a[c]=arretq[1],r[c]=arretq[2],o[c]=arretq[3]||"",s[c]=arretq[4]||"",s[c]=arretq[5]||"";else r=L.properties.imaxd||[],i=L.properties.imaxes||[],o=L.properties.textos||[""],a=L.properties.sons||[],s=L.properties.imaxesAltText||[],l=L.properties.imaxesfAltText||[];var p=r.length,c=i.length,d=LIM.crearbase(L),t=LIM.paxina(),u=Array(p),n=Array(c),m=Array(c);c=0;var f,h,v=1100;LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){-1<u.toString().indexOf(0)?LIM.poneravaliacion(d,L.properties.mensamal,!1,L.properties.funava,L.num):LIM.poneravaliacion(d,L.properties.mensaben,!0,L.properties.funava,L.num)}),c=0,f="etq"+t;var g=LIM.desordena(p),b=0,x=LIM.creardom("div",d,"","clunirimx-u1",-1,-1);for(c=0;c<p;c++){h=c+f;var y=(b=g[c])+f,y=LIM.creardom("div",x,"","clunirimx-pz",-1,-1),M=LIM.creardom("div",y,h,"clunirimx-fix",-1,-1);LIM.crearimaxe({pai:M,name:c+"imxf"+t,cssclass:"clunirimx-ix",alttext:s[c]}).setAttribute("src",i[c]),u[c]=0,o[c]&&(LIM.creardom("div",M,c+"txt"+t,"clunirimx-bandat",0,84).innerHTML=o[c]),""!=a[c]&&(M.style.cursor="pointer",LIM.addEventSimple(M,"click",function(){var e=parseInt(this.id);LIM.sonar(a[e])})),(M=LIM.creardom("div",y,"b"+h,"clunirimx-dest",-1,-1)).title=LIM.td("Suelta la imagen aqu"),n[c]=M,n[c].val=r[b]}for(LIM.creardom("div",x,"","clunirimx-sep",-1,-1),i=[],c=0;c<p;c++)y=(b=g[c])+f,o=LIM.creardom("div",x,y+"m","clunirimx-mov",-1,-1),i[c]={},i[c].x=o.offsetLeft,i[c].y=o.offsetTop,i[c].n=o,LIM.crearimaxe({pai:o,name:c+"imxm"+t,cssclass:"clunirimx-ix",alttext:l[b]}).setAttribute("src",r[b]),m[c]=r[b],LIM.drag(o,d,e);for(r=x.offsetHeight,c=0;c<p;c++)i[c].n.style.left=i[c].x+"px",i[c].n.style.top=i[c].y+"px",i[c].n.style.position="absolute";x.style.height=r+"px"}}window.LIM=new function(){function u(e){return void 0!==e&&null!=e}function m(t){var r=t.getElementsByClassName("pclsuper")[0];if(u(r)&&parseInt(window.getComputedStyle(r).height),u(r=t.getElementsByClassName("pclsub")[0])&&parseInt(window.getComputedStyle(r).height),u(r=t.getElementsByClassName("pclbase")[0])&&window.addEventListener("resize",function(e){u(r=t.getElementsByClassName("pclbase")[0])}),O=t.getElementsByClassName("pclcont"),1!=te)for(i=1;i<O.length;i++)O[i].style.display="none";ne=O.length,q=t.getElementsByClassName("pclnum")[0],Z=O[0];var e,n="botn para poner o quitar la pantalla completa;botn para mostrar el informe;botn para avanzar pgina;botn para retroceder pgina;botn para mostrar el men del libro;botn para ocultar o mostrar la barra lateral;botn para mostrar documento de ayuda".split(";"),o=[{".lbt-full":function(){var e=document.documentElement;document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},".lbt-infor":function(){y.amosainforme()},".lbt-frw":function(){y.avanza()},".lbt-bck":function(){y.retrocede()},".lbt-menu":function(){t.getElementsByClassName("pclind")[0]&&(t.querySelector(".pclind").classList.toggle("view"),t.querySelector(".pclbase").classList.toggle("pclbase-cm"))},".pclbtbr":function(){t.getElementsByClassName("pclbarra")[0]&&t.querySelector(".pclbarra").classList.toggle("noview")},".lbt-axd":function(){y.salto(ce)}}],a=0;for(e in o)if(o.hasOwnProperty(e))for(var s in o[e])o[e].hasOwnProperty(s)&&function(e,t,r){void 0!==(e=z.querySelector(e))&&null!=e&&(null==e.getAttribute("title")&&e.setAttribute("title",y.td(r)),t&&"function"==typeof t&&e.addEventListener("click",function(e){e.preventDefault(),t()}))}(s,o[e][s],n[a]),a++;W=z.getElementsByClassName("lbt-frw")[0],(X=z.getElementsByClassName("lbt-bck")[0])&&(X.style.visibility="hidden"),ae=0==pe?new y.alert(t,0,"nwalert"):new y.modal(t,0,"clmodal-avalia"),oe=new y.modal(t,1,"clmodal-informe"),(O=t.querySelectorAll(".pclcont"))[0].style.display="block",u(r=t.querySelector(".pclnum"))}function c(e){return parseInt(e)==e&&(e+="px"),e}function l(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href))?null:e[1]}function f(e,t,r,n){var i="",o="",a=t.split(",");if(a.length<1)i=a[0].substr(0,a[0].lastIndexOf("."))+".mp3",o=a[0].substr(0,a[0].lastIndexOf("."))+".ogg";else for(var s=0;s<a.length;s++)"mp3"==(t=a[s].substr(a[s].lastIndexOf(".")+1))&&(i=a[s]),"ogg"==t&&(o=a[s]);e.canPlayType("audio/mpeg;")&&""!=i?e.setAttribute("src",i):""!=o&&e.setAttribute("src",o),n&&(e.loop=!0),r&&(e.volume=Number(r)/100),e.play()}function d(e){""!=(e=e.target.value)&&(he=e)}function p(e){var t="";return""!=e&&document.getElementById(e)&&(t=document.getElementById(e)),t}function h(e){function t(){var e,t,r=n(this.getAttribute("href"));for(e in window.scrollTo(0,0),o)e==r?(i[e].className=" selected",o[e].style.display="block",v(t=r.replace(/^\D+/g,"")),g(t)):(i[e].className="",o[e].style.display="none");return!1}function n(e){var t=e.lastIndexOf("#");return e.substring(t+1)}var i=[],o=[];e=document.getElementById(e).childNodes;for(var r,a,s=0;s<e.length;s++)"LI"==e[s].nodeName&&(a=n((r=function(e,t){for(var r=0;r<e.childNodes.length;r++)if(e.childNodes[r].nodeName==t)return e.childNodes[r];return!0}(e[s],"A")).getAttribute("href")),i[a]=r,o[a]=document.getElementById(a));for(a in s=0,i)i[a].onclick=t,0==s&&(i[a].className=" selected"),s++;for(a in s=0,o)o[a].style.display=0==s&&"none"==o[a].style.display?"block":"none",s++}function v(e){return ee=e,q&&1<ne&&(q.innerHTML=e),1}function g(e){return""!=se[e].cond&&y.condicional(se[e].cond),U&&(U.style.width=((e+1)/ne*100).toString()+"%"),lim_sc("paxina",e+1),W&&(e==ne-1||ue[e]?(W.style.visibility="hidden",R=!0):!ue[e]&&R&&(W.style.visibility="visible",R=!1),Z.parentNode.parentNode.getElementsByClassName("pclsuper")[0]&&0==e&&Z.parentNode.parentNode.getElementsByClassName("pclsuper")[0].scrollIntoView()),X&&(0==e||me[e]?(X.style.visibility="hidden",fe=!0):!me[e]&&fe&&(X.style.visibility="visible",fe=!1)),le[e]?y.sonar(le[e]):t.pause(),1}function b(e){try{var t=JSON.parse(e)}catch(e){throw new y.modal(document.getElementById("lim"),0,"clmodal-avalia").open(y.td('Error en los datos<p>Cdigo 2</p><p style="font-size:12">'+y.td("La estructura de los datos no es correcta")+"</p>")),Error(y.td("Error en los datos"))}return t}var y=this;l("dbg")&&window.addEventListener("error",function(){var e=(y.nup+1).toString();console.log("error pax: "+e),alert(y.td("error pax: ")+e)});var M="./sclim/";"function"!=typeof lim_sc&&(window.lim_sc=function(){});var L,I,N="CORRECTO",w="INCORRECTO",E=!1,S=M+"mal.mp3",C=M+"ben.mp3",k=M+"av.mp3",a=[],t=new Audio,A=new Audio;A.loop=!1,A.volume=.1;var s,T,H,q,O,P,B,o,_,z,F,D,j,R,W,X,Y,U,V=new Audio,J=new Audio,G=new Audio,n=[],Q=0,Z=null,K=null,ee=1,te=0,re=0,ne=0,ie=!1,oe=null,ae=null,se=[],le=[],ce="",pe="1",de="",ue=[],me=[],fe=!1,he="",ve=0,ge=1,be="",xe=0,ye=new Date,Me="abcdefghijklmnopqrstuvwxyz",Le=2,Ie=Le,Ne="";document.addEventListener("beforeunload",function(){lim_sc("fin",2)}),y.reset=function(){N="CORRECTO",E=!(w="INCORRECTO"),S=M+"mal.mp3",C=M+"ben.mp3",k=M+"av.mp3",I=L=null,a=[],n=[],K=Z=null,ne=re=te=Q=0,ie=!(ee=1),ae=oe=null,se=[],le=[],_=o=B=P=O=null,pe="1",de=j=D=F=ce="",ue=[],fe=!(me=[]),X=W=z=null,ge=1,be=he="",xe=ve=0,ye=new Date,Me="abcdefghijklmnopqrstuvwxyz",U=Y=null,Ie=Le=2,Ne="",y.nup=0,y.numpax=0},y.letrascomun=function(){return Me},y.lim_dat=function(e,t){switch(e=e.toLowerCase()){case"nome_usuario":he=t;break;case"id":be=t;break;case"av":y.avanza();break;case"rt":y.retrocede();break;case"informe":y.amosainforme();break;case"get":var r="",n="";switch(t){case"nome_usuario":r="nome_usuario",n=he;break;case"total_activ":r="total_activ",n=ve;break;case"tipo_paxina":r="tipo_paxina";break;case"total_ben":r="total_ben",n=xe.toString();break;case"total_mal":for(r="total_mal",n=_totalmal=0;n<ne;n++)2==nota[n]&&_totalmal++;n=_totalmal.toString();break;case"nome_libro":r=t,n=j;break;case"total_paxinas":r=t,n=exer.toString();break;case"paxina_actual":r=t,n=nump+1;break;case"data":r=t,n=(n=new Date).getDate()+"/"+Number(n.getMonth()+1)+"/"+n.getFullYear();break;case"titulo":r=t,n=j;break;case"autor":r=t,n=F;break;case"id":r=t,n=be;break;case"tempo_inicio":n=(n=new Date).getHours()+":"+n.getMinutes()+":"+n.getSeconds();break;case"tempo":r=(new Date).getTime()-ye.getTime(),n=Math.round(r/1e3),r=t,n=n.toString();break;case"menu":r=t,n=datos_menu}if(""!=r)return null!=n&&""!=n||(n="-"),lim_sc(r,n),n}},y.dom=function(e){return document.getElementById(e)},y.addEventSimple=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)},y.removeEventSimple=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)},y.td=function(e){return Y[e]||e},y.ocultar=function(e){},y.mostrar=function(e){},y.colors=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]="#"+Math.floor(16777215*Math.random()).toString(16);return t},y.preaudio=function(e,t){t=t.replace(/\.[^/.]+$/,""),e.canPlayType("audio/mpeg")?e.src=t+".mp3":e.src=t+".ogg",e.load()},y.preaudio(G,k),y.nup=0,y.numpax=0,document.onreadystatechange=function(){"interactive"===document.readyState&&0<document.getElementsByName("limpanel").length&&y.ini()},y.ini=function(){if("object"!=typeof lang&&(lang={}),Y=lang.ESP||"",document.styleSheets)for(var e=document.styleSheets,t=e.length,r=0;r<t;r++){var n;e[r].href&&-1<e[r].href.indexOf("lim.css")&&(n=e[r].href.lastIndexOf("/"),M=e[r].href.substr(0,n)+"/")}e=!1;try{e=window.self!==window.top}catch(e){}if(e)try{for(var i=parent.document.getElementsByTagName("iframe"),r=0;r<i.length;r++)i[r].setAttribute("allowFullScreen","")}catch(e){}var o,a;if(y.reset(),0==(i=document.querySelectorAll(".pcllim")).length&&(i=document.getElementsByTagName("body"),te=1),z=r=i[0],U=r.getElementsByClassName("pclavance")[0],e=null,r.getAttribute("data-limc")?e=r.getAttribute("data-limc"):(t=r.getElementsByClassName("data-limc")[0])&&(t.className="pcldata",e="textarea"==t.tagName.toLowerCase()?t.value:(e=(e=t.textContent).replace("\x3c!--","")).replace("<--","")),e&&("@"==e.substr(0,1)&&(e=y.decode(e.substr(1))),0!=(e=b(e))))if(_autor=e.autor||"",_licenza=e.licencia||"",j=e.titulo||"",de=e.indentifica||"",_idiom=e.idioma||"ESP",ge=Number(e.npax)||1,e.limdir&&(M=e.limdir),lang[_idiom]||(lang[_idiom]={}),Y=lang[_idiom],N=y.td(N),w=y.td(w),de==de&&(de='<a href="'+de+'" target="_blank">'+de+"</a>"),D=e.recursos||"",D+="/",I=e.sonben?y.addrecu(e.sonben):C,L=e.sonmal?y.addrecu(e.sonmal):S,y.preaudio(J,I),y.preaudio(V,L),3==(te=e.modo||0)&&(document.getElementsByClassName("pclbtbr")&&(document.getElementsByClassName("pclbtbr")[0].style.display="none"),document.getElementsByClassName("pclbarra")&&(document.getElementsByClassName("pclbarra")[0].style.display="none")),e.caracteres&&(Me=e.caracteres),e.corbanda&&((o=r.getElementsByClassName("pclsuper")[0])&&(o.style.backgroundColor="#"+e.corbanda),(o=r.getElementsByClassName("pclsub")[0])&&(o.style.backgroundColor="#"+e.corbanda)),e.corfondo&&(o=r.getElementsByClassName("pclfondo")[0])&&(o.style.backgroundColor="#"+e.corfondo),e.cortexto&&(r.style.color="#"+e.cortexto,o&&(o.style.backgroundColor="#"+e.corfondo)),e.cornavega&&(o=r.getElementsByClassName("pclbarra")[0])&&(o.style.backgroundColor="#"+e.cornavega),e.imaxefondo&&""!=e.imaxefondo.nome&&(o=r.getElementsByClassName("pclfondo")[0],e.imaxefondo.posx&&(t=(Number(e.imaxefondo.posx)+150).toString(),o.style.backgroundPositionX=t+"px"),e.imaxefondo.posy&&(t=(Number(e.imaxefondo.posy)+50).toString(),o.style.backgroundPositionY=t+"px"),e.imaxefondo.trans&&(o.style.opacity=e.imaxefondo.trans/100),"1"!=e.imaxefondo.repeat&&(o.style.backgroundRepeat="no-repeat"),o.style.backgroundImage="url('"+y.addrecu(e.imaxefondo.nome)+"')"),e.ben&&(N=e.ben),e.mal&&(w=e.mal),e.logo&&(o=r.getElementsByClassName("pclsuper")[0])&&(o.innerHTML=e.lnklogo?'<a href="'+e.lnklogo+'" title="['+e.lnklogo+"]."+y.td("Abre en nueva ventana")+'" target="_blank" > <img src="'+e.logo+'" class="pcllogo"></a>'+o.innerHTML:'<img src="'+e.logo+'" class="pcllogo">'+o.innerHTML),e.sonido&&(o=e.sonido.split("||"),f(A,o[0],o[1],o[2])),pe=e.m_eva||pe,null!=e.axuda?ce=e.axuda||"":u(o=z.querySelector(".lbt-axd"))&&(o.style.display="none"),"1"==e.autopax&&(E=!0),Ie=null==e.tempoava?Le:Number(e.tempoava),null==e.funava||(Ne=e.funava),e.menu){for(t="<ul>",o=0;o<e.menu.length;o++)null==(n=e.menu[o].split("||"))[1]&&(n[1]=n[0]),y.nozero(n[0])&&(t+="<li><a href=\"javascript:LIM.salto('"+n[1]+"')\">"+n[0]+"</a></li>");"1"==e.modomenu?(u(o=z.querySelector(".lbt-menu"))&&(o.style.display="none"),(e=document.createElement("div")).className="pclHmenu",(o=r.getElementsByClassName("pclsub")[0])&&(o.appendChild(e),e.innerHTML=t+"</ul>")):((o=z.querySelector(".pclind"))&&""==o.innerHTML&&(o.innerHTML=t+"</ul>"),2==e.modomenu&&(o.setAttribute("class","pclind view"),r.getElementsByClassName("pclbase")[0].setAttribute("class","pclbase pclbase-cm")))}else u(o=z.querySelector(".lbt-menu"))&&(o.style.display="none");if(S=M+"mal.mp3",C=M+"ben.mp3",k=M+"av.mp3",0<(o=i.length)){for(e=0;e<o;e++)i[e].hasAttribute("id")||i[e].setAttribute("id","lim"+e);for(o=(i=document.getElementsByName("limpax")).length,e=0;e<o;e++)i[e].hasAttribute("id")||i[e].setAttribute("id",e+"paxina");for(o=(i=document.getElementsByName("limpanel")).length,e=0;e<o;e++){i[e].hasAttribute("id")||i[e].setAttribute("id","activob"+e),parseInt(i[e].parentNode.id);var s,l=(n=i[t=e]).querySelectorAll("*"),c={properties:{}},p=l.length;if(c.menu=n.getAttribute("data-limmenu"),n.getAttribute("data-limc")?s=n.getAttribute("data-limc"):(a=n.getElementsByClassName("data-limc")[0])&&(a.className="pcldata",s="textarea"==a.tagName.toLowerCase()?a.value:a.innerHTML),s&&("@"==s.substr(0,1)&&(s=y.decode(s.substr(1))),""!=s)){0!=(a=b(s))&&(c.properties=a.properties,c.folder=D,me[t]=!1,"1"==a.properties.ipasar&&(me[t]=!0),ue[t]=!1,"1"==a.properties.dpasar&&(ue[t]=!0),c.properties.type=void 0===a.properties.type?n.getAttribute("data-limt"):a.properties.type,n.hasAttribute("class")||n.setAttribute("class","pclactivof"),c.cssstyle=void 0!==a.cssstyle?a.cssstyle:n.getAttribute("class").split(" ")[0]),c.num=t;for(var d=0;d<p;d++)switch(a=l[d].getAttribute("name"),a){case"limact":l[d].setAttribute("id","limact"+t),c.donde="limact"+t,l[d].hasAttribute("class")||l[d].setAttribute("class","pclactiv");break;case"limtexto":c.properties.texto=l[d].innerHTML;break;case"limimaxe":c.properties.imaxe=l[d].getAttribute("src");break;case"liminfo":l[d].hasAttribute("class")||l[d].setAttribute("class","nwinfo"),l[d].setAttribute("id","liminfo"+t),c.properties.info="#"+l[d].id;break;case"limcabe":l[d].hasAttribute("class")||l[d].setAttribute("class","pclcabe"),l[d].setAttribute("id","limcabe"+t),c.dvcabe="#"+l[d].id;break;case"limpe":l[d].hasAttribute("class")||l[d].setAttribute("class","pclpe"),l[d].id="limpe"+t,c.dvpe="#"+l[d].id;break;case"limmas":l[d].hasAttribute("class")||l[d].setAttribute("class","pclbutton pclinfo"),l[d].setAttribute("id","btliga"+t),c.properties.txliga="#"+l[d].id,c.properties.paxliga=l[d].getAttribute("href");break;case"limson":l[d].hasAttribute("class")||l[d].setAttribute("class","pclbutton pclplay"),l[d].setAttribute("id","btplay"+t),l[d].setAttribute("onclick",'LIM.sonar("'+l[d].getAttribute("href")+'")'),c.properties.son=l[d].getAttribute("href"),c.properties.autoson=l[d].getAttribute("data-liauto"),l[d].setAttribute("href","javascript:;");break;case"limdat":c.texto=l[d].innerHTML}void 0===c.donde&&(y.creardom("div",n,"limact"+t,"pclactiv"),c.donde="limact"+t),y.loadp(c)}}P=document.getElementsByTagName("VIDEO"),B=document.getElementsByTagName("iframe")}if(s=void 0,e=(s=(s=window.location.search).replace(/^\?/,"&amp;").match(/&amp;npax=([^&amp;]*)/i))?s[1]:"",document.getElementsByClassName("pclpreload"))for(s=document.getElementsByClassName("pclpreload");s[0];)s[0].parentNode.removeChild(s[0]);m(z),s=window.location.pathname.split("/").pop()||"lim",lim_sc("inicio",s),lim_sc("totalp",ne),lim_sc("numexer",ve),(o=r.getElementsByClassName("pcltotal")[0])&&(o.innerHTML=ne),q&&1<ne&&(q.innerHTML="1"),fe=!0,""!=e?y.salto(e):y.salto(ge)},y.alert=function(e,t,r){var n;this.target=e,this.isOpen||(this.clase=r,this.clasev=this.clase+" "+this.clase+"v",this.modalWindow=document.createElement("div"),this.target.appendChild(this.modalWindow),this.modalWindow.className=this.clase,this.open=function(e,t){this.isOpen||(this.isOpen=!0,window.clearTimeout(_),this.modalWindow.innerHTML=e,0<t&&(n=this,_=window.setTimeout(function(){n.close()},1e3*t)),this.modalWindow.className=this.clasev)},this.close=function(){this.modalWindow.className=this.clase,this.isOpen=!1})},y.modal=function(e,t,r){var i;return this.target=e,this.isOpen||((i=this).clase=r,this.cauto=!1,this.clasev=this.clase+" "+this.clase+"v",this.overlay=document.createElement("div"),this.overlay.className="clmodal-overlay",this.overlay.setAttribute("tabindex",-1),this.modalWindow=document.createElement("div"),this.modalWindow.className=r||"clmodal-avalia",this.modalWindow.setAttribute("role","dialog"),this.modalWindow.setAttribute("tabindex",0),this.modalWrapper=document.createElement("div"),this.modalWrapper.className="clmodal-wrapper",this.modalContent=document.createElement("div"),this.modalContent.className="clmodal-content",this.escapeHandler=function(e){27===e.keyCode&&i.close()},this.modalWindow.appendChild(this.modalWrapper),this.modalWrapper.appendChild(this.modalContent),this.overlay.onclick=function(){i.close()},1==t?(this.closeButton=document.createElement("button"),this.closeButton.className="clmodal-close",this.closeButton.innerHTML="X",this.closeButton.setAttribute("title",y.td("Cerrar")),this.closeButton.setAttribute("type","button"),this.modalContent.style="cursor:default;",this.closeButton.onclick=function(){i.close()},this.modalWindow.appendChild(this.closeButton)):this.modalWindow.onclick=function(){i.close()},this.trigger=null,this.isOpen=!1),this.open=function(e,t,r,n){window.clearTimeout(o),this.isOpen||(this.cauto=n||!1,e&&this.update(e),this.modalWindow.className=this.clase,this.target.appendChild(this.overlay),this.target.appendChild(this.modalWindow),window.addEventListener?(window.addEventListener("focus",this.focusHandler,!1),window.addEventListener("keyup",this.escapeHandler,!1)):(window.attachEvent("onfocus",this.focusHandler),window.attachEvent("onkeyup",this.escapeHandler)),this.trigger=document.activeElement,this.modalWindow.focus(),this.isOpen=!0,r&&r.call(this),0<t&&(i=this,o=window.setTimeout(function(){i.close()},1e3*t)),this.modalWindow.className=this.clasev)},this.update=function(e){this.modalContent.innerHTML=e},this.close=function(e){if(this.modalWindow.className=this.clase,this.isOpen){window.removeEventListener?(window.removeEventListener("focus",this.focusHandler,!1),window.removeEventListener("keyup",this.escapeHandler,!1)):(window.detachEvent("onfocus",this.focusHandler),window.detachEvent("onkeyup",this.escapeHandler)),this.target.removeChild(this.modalWindow),this.target.removeChild(this.overlay);for(var t=0,r=this.target.children.length;t<r;t++)this.target.children[t].removeAttribute("aria-hidden");this.trigger&&(this.trigger.focus(),this.trigger=null),this.isOpen=!1,e&&e.call(this),this.cauto&&y.avanza()}},this.teardown=function(){this.isOpen&&this.close(),delete this.escapeHandler,delete this.focusHandler,delete this.closeButton,delete this.modalContent,delete this.modalWrapper,delete this.modalWindow,delete this.overlay,delete this.trigger,delete this.isOpen},this},y.getvar=function(e){if("total_activ"==e)return total_activ},y.inicio=function(e,t,r){te=r,y.dom(e),re=t,H=y.dom("activo"+t)},y.aspecto=function(e){y.nozero(e.titulo),y.nozero(e.musica)&&f(A,e.musica)},y.crearpaxina=function(e,t){y.numpax++,y.nozero(t)||(t="");t=y.creardom("div",H,"paxina"+e,"clpaxina "+t,-1,-1);return 1!=te&&0!=e&&(t.style.display="none"),Z=t},y.crearbase=function(e){s=T=null,Q++;var t,r,n,i=document.getElementById(e.donde),o=null;return null!=e.properties.dvpe?"#"==e.properties.dvpe.substr(0,1)&&(T=y.dom(e.properties.dvpe.substr(1))):(t="",e.properties.txpe&&(t='<span class="pclpetext">'+e.properties.txpe+"</span>"),i.insertAdjacentHTML("afterend",'<div id="limpe'+Q+'" class="pclpe"><div class="pclpebot"></div>'+t+"</div>"),t=(T=y.dom("limpe"+Q)).getElementsByClassName("pclpebot")[0],e.properties.pxliga&&(r=e.properties.pxliga.split("||"),r=y.crearlink({pai:t,name:"btliga"+Q,text:r[0],url:"javascript:LIM.salto('"+r[1]+"')",cssclass:"pclbutton pclinfo",posx:-1,posy:-1,alttext:"["+r[1]+"]."+y.td("Abre en nueva ventana")})),y.nozero(e.properties.txliga)&&(r=y.crearlink({pai:t,name:"btliga"+Q,text:e.properties.txliga,url:e.properties.paxliga,cssclass:"pclbutton pclinfo",posx:-1,posy:-1,target:"_blank",alttext:"("+e.properties.paxliga+")."+y.td("Abre en nueva ventana")})),y.nozero(e.properties.ison)&&((r=y.crearlink({pai:t,name:"btson"+Q,text:"",url:"javascript:void(0)",cssclass:"pclbutton pclplay",posx:-1,posy:-1,alttext:y.td("Escuchar")})).onclick=function(){LIM.sonar(y.addrecu(e.properties.ison))})),null!=e.donde?(t=(o=y.dom(e.donde)).parentNode,null!=e.properties.dvcabe?"#"==e.properties.dvcabe.substr(0,1)&&(s=y.dom(e.properties.dvcabe.substr(1))):(null==e.properties.txcabe&&(e.properties.txcabe=""),i.insertAdjacentHTML("beforebegin",'<div  name="limcabe" id="limcabe'+Q+'" class="pclcabe">'+e.properties.txcabe+"</div>"),s=y.dom("limcabe"+Q)),y.nozero(e.properties.cssstyle)&&(t.className=t.className+" "+e.properties.cssstyle)):(y.nozero(e.width)||(e.width="100%"),y.nozero(e.height)||(e.height="100%"),e.properties.hidden&&(e.properties.cssstyle="hidden"),i='<div id="limcabe'+Q+'" class="clcabe"></div>',o.innerHTML=i,i=y.creardom("div",o,"activob"+Q,"pclactiv",0,0),i='<div id="limpe'+Q+'"  class="pclpe"><div class="pclpebot"></div><span class="pclpetext"></span></div></div>',o.innerHTML+=i+"</div>",s=y.dom("limcabe"+Q),T=y.dom("limpe"+Q),y.dom("limpetext"+Q),i=y.dom("activob"+Q)),null!=e.properties.info&&s&&"#"==e.properties.info.substr(0,1)&&(n=y.dom(e.properties.info.substr(1)),y.crearlink({pai:s,url:"javascript:;",name:Q+"btin",cssclass:"claxd",alttext:y.td("Saber ms")}).onclick=function(){n.className="nwinfo nwinfov"==n.className?"nwinfo ":"nwinfo nwinfov"}),e.properties.height?i.style.minHeight=e.properties.height+"px":e.properties.minheight&&(i.style.minHeight=e.properties.minheight+"px"),e.properties.estilo&&((t=i.parentNode).className=t.className?t.className+" "+e.properties.estilo:e.properties.estilo),a.push(o),e.properties.color&&(o.parentNode.style.backgroundColor=e.properties.color),i},y.comunes=function(e,t,r,n,i,o,a){o&&(e=o.split("||"),y.crearlink({pai:T.parentNode,name:"btliga"+Q,text:e[0],url:e[1],cssclass:"pclbutton pclinfo",posx:-1,posy:-1,alttext:a+" ."+y.td("Abre en nueva ventana")})),null!=t&&(s.innerHTML=t),null!=r&&(T.innerHTML=r),null!=n&&""!=n&&(btson=y.crearlink({pai:T.parentNode,name:"btplay"+Q,url:"javascript:;",cssclass:"pclbutton pclplay",posx:-1,posy:-1,alttext:y.td("Reproducir sonido")}),btson.style.visibility="visible",y.addEventSimple(btson,"click",function(){y.sonar(n)}))},document.addEventListener("keypress",function(e){27==e.keyCode&&document.getElementById("vista")&&(document.getElementById("vista").style.display="none")}),document.addEventListener("keydown",function(e){if(e.altKey)switch(e.code){case"F11":y.salto("imprimir");break;case"F10":y.verhtml();break;case"F9":y.amosainforme();break;case"F8":case"Enter":y.comprobar();break;case"ArrowRight":y.avanza();break;case"ArrowLeft":y.retrocede()}}),y.esactividad=function(e,t,r){e=(T||(T=y.creardom("div",e.parentNode,"limpe"+Q,"pclpe",-1,-1),tpe="",data.properties.txpe&&(tpe='<span class="pclpetext">'+data.properties.txpe+"</span>"),e.insertAdjacentHTML("afterend",'<div id="limpe'+Q+'" class="pclpe"><div class="pclpebot"></div>'+tpe+"</div>"),T=y.dom("limpe"+Q)),T.getElementsByClassName("pclpebot")[0]);var n=null;return se[Q-1]&&(se[Q-1].res=3),ve++,t&&((n=document.createElement("a")).setAttribute("id","btcomproba"+Q),n.setAttribute("class","pclbutton pclcomproba"),n.setAttribute("href","javascript:void(0)"),n.setAttribute("title",y.td("Comprobar el resultado")),e.appendChild(n),r&&(se[Q-1].fun=r),n.style.visibility="visible"),n},y.verinforme=function(){},y.amosa=function(e){e.style.display="block"==e.style.display?"none":"block"},y.amosatodo=function(){for(var e=ie?(ie=!1,"none"):(ie=!0,"block"),t=document.getElementsByClassName("clpaxina"),r=0;r<t.length;r++)"block"==t[r].style.display&&"block"==e&&(K=t[r]),t[r].style.display=e;null==K&&(vismane=K=t[0]),"none"==e&&(K.style.display="block")},y.sonar=function(e){e?f(t,e):t.pause()},y.amosainforme=function(){var e="",t=se.length,r=y.td("Panel");y.td("Pgina"),e=y.td("Intentos");var n,i=y.td("Resultado"),o=y.td("Descripcin"),a=y.td("Autora"),s="",l=0,c=new Date,c='<p class="clinf-titulo">'+j+" ("+c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear()+"  "+c.getHours()+":"+c.getMinutes()+")</p>";for(c=""==he?c+'<input type="text" class="clinf-user"></input>':c+'<p type="text" class="clinf-user" >'+he+"</p>",c+='<div  class="clinf-o" >',r='<table class="clinf-tb" ><tr><td>'+r+"</td><td>"+o+"</td><td>"+i+"</td><td>"+e+"</td></tr>",i=0;i<t;i++)s="",n=i+1,e="clinf-c",3==se[i].res?(s="&#9899",e+=" clinf-n"):1==se[i].res?(s="X",e+=" clinf-m",0):2==se[i].res?(s="&#10004",e+=" clinf-b",l++):0==se[i].res&&(s="-"),r+="<tr><td>"+n+'</td><td style="font-weight: 100;">'+se[i].nome+"</td><td>"+s+"</td><td>"+se[i].intos+"</td></tr>",c+='<p class="'+e+'">'+n+"</p>";r+="</table>",0<l?(t=100*l/ve,parseInt(t)!=t&&(t=t.toFixed(1))):t=0,c=(c+='<div class="clinf-nt"><span class="clinf-cn clinf-b">'+l.toString()+' &#10004 </span><span class="clinf-cn"> '+ve.toString()+' </span><span class="clinf-cn"> '+t.toString()+"%</span></div>")+"</div>"+r,""!=_autor&&(c+='<p class="clinf-aut">'+a+": "+_autor+"</p>"),c+='<p class="clinf-aut">'+de+"</p>",c+='<p class="clinf-aut">'+_licenza+"</p>";var p=c+='<p class="clinf-aut">LIM 5.6.4</p>';c+='<button  class="clinf-imprin" >'+y.td("Imprimir")+"</button>",oe.open(c),(a=oe.modalContent).getElementsByClassName("clinf-imprin")[0].onclick=function(){y.imprimirdv(p,0)},a.getElementsByClassName("clinf-user")[0].onchange=d},y.pechainforme=function(){oe.close()},y.tcontido=function(e){var t="";return e=e.split(".").pop().toLowerCase(),-1<"webm mp4 ogv".indexOf(e)?t="v":-1<"swf".indexOf(e)?t="s":-1<"jpg,jpeg,png,gif,webp".indexOf(e)&&(t="i"),t},y.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$o)"))},y.desordenam=function(e){for(var t=[],r=0;r<e;r++)t.push(r);return t=t.sort(function(){return Math.random()-.5}),finarr},y.desordena=function(e){for(var t,r=[],n=0;n<e;n++)r.push(n);for(e=r.length;0!==e;)t=Math.floor(Math.random()*e),n=r[--e],r[e]=r[t],r[t]=n;return r},y.revolve=function(e){return e.sort(function(){return Math.random()-.5})},y.estasobre=function(e,t,r){var n,i,o,a,s,l,c,p,d,u,m,f,h=!1;return t&&(i=t.getBoundingClientRect(),l=e.getBoundingClientRect(),n=i.left,i=i.top,o=n+t.offsetWidth,a=i+t.offsetHeight,s=l.left,l=l.top,c=s+e.offsetWidth,p=l+e.offsetHeight,d=l+e.offsetHeight/2,u=s+e.offsetWidth/2,m=s-10,f=l+e.offsetHeight/2,(s<o&&n<s&&i<l&&l<a||c<o&&n<c&&i<p&&p<a||s<o&&n<s&&i<d&&d<a||u<o&&n<u&&i<l&&l<a||m<o&&n<m&&i<f&&f<a)&&(h=!0,G.play()),h&&r&&(e.style.left=t.style.left,e.style.top=t.style.top)),h},y.ratosobre=function(e,t,r,n,i){var o,a,s,l=!1;return t&&(o=t.style.zIndex,a=t.offsetLeft,s=t.offsetTop,t.style.zIndex="5000",t==document.elementFromPoint(r,n)&&(l=!0,G.play(),i&&(e.style.left=a+1+"px",e.style.top=s+1+"px"))),t.style.zIndex=o,l},y.getPosition=function(e){e="string"==typeof e||e instanceof String?document.getElementById(e):e;for(var t=0,r=0;t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;);return{x:t,y:r}},y.poneravaliacion=function(e,t,r,n,i){var o=Number(i)+1;null==n&&(n=Ne);var a=!0;"_"==n.substr(0,1)&&(a=!1,n=n.substr(1,n.length-1)),a&&(r?(2!=se[i].res&&se[i].intos++,se[i].res=2,y.nozero(t)?ae.open(t,Ie,"",E):ae.open(N,Ie,"",E),lim_sc("avben",i+1),xe++,J.play(),y.creardom("div",e.parentNode,"","pclben"),ue[i]=!1,me[i]=!1,W&&(i==ne-1||ue[i]?(W.style.visibility="hidden",R=!0):!ue[i]&&R&&(W.style.visibility="visible",R=!1)),X&&(0==i||me[i]?(X.style.visibility="hidden",fe=!0):!me[i]&&fe&&(X.style.visibility="visible",fe=!1))):((a=e.parentNode.getElementsByClassName("pclben")[0])&&e.parentNode.removeChild(a),2!=se[i].res&&(se[i].intos++,se[i].res=1),y.nozero(t)?ae.open(t,Ie):ae.open(w,Ie),lim_sc("avmal",i+1),V.play())),""!=n&&window[n]&&window[n](r,o)},y.crearlink=function(e){var t,r=p(e.name);return""==r&&(r=document.createElement("a"),y.nozero(e.name)&&(r.id=e.name),y.nozero(e.alttext)&&(r.title=e.alttext),y.nozero(e.cssclass)&&(r.className=e.cssclass),-1!=e.posy&&(r.style.top=e.posy+"px"),-1!=e.posx&&(r.style.left=e.posx+"px"),y.nozero(e.dimx)&&(r.style.width=c(e.dimx)),y.nozero(e.dimy)&&(r.style.height=c(e.dimy)),y.nozero(e.target)&&r.setAttribute("target",e.parent),y.nozero(e.url)&&(r.href=e.url),y.nozero(e.text)&&(t=document.createTextNode(e.text),r.appendChild(t)),e.pai.appendChild(r)),r},y.creardom=function(e,t,r,n,i,o,a,s){var l=p(r);return""==l&&(l=document.createElement(e),y.nozero(r)&&(l.id=r),y.nozero(n)&&(l.className=n),o&&-1!=o&&(l.style.top=o+"px"),i&&-1!=i&&(l.style.left=i+"px"),y.nozero(a)&&(l.style.width=c(a)),y.nozero(s)&&(l.style.height=c(s)),t.appendChild(l)),l},y.crearspan=function(e,t,r,n,i){var o=p(t);return""==o&&((o=document.createElement("span")).id=t,""!=r&&(o.className=r),o.style.top=i+"px",o.style.left=n+"px",e.appendChild(o)),o},y.crearlabel=function(e,t,r,n,i,o,a){return""==(r=p(r))&&((r=document.createElement("label")).setAttribute("for",t),r.appendChild(document.createTextNode(a)),""!=n&&(r.className=n),r.style.top=o+"px",r.style.left=i+"px",e.appendChild(r)),r},y.crearchk=function(e,t,r,n,i){var o=p(t);return""==o&&((o=document.createElement("input")).setAttribute("type","checkbox"),o.id=t,""!=r&&(o.className=r),o.style.top=i+"px",o.style.left=n+"px",e.appendChild(o)),o},y.crearimaxe=function(e){var t=p(e.name);return""==t&&(t=document.createElement("img"),e.name&&(t.id=e.name),y.nozero(e.cssclass)?t.className=e.cssclass:t.style.position="absolute",y.nozero(e.alttext)&&(t.title=e.alttext),t.style.left=c(e.posx),t.style.top=c(e.posy),e.pai.appendChild(t)),t},y.crearswf=function(e,t,r,n,i,o,a,s,l){return""==(l=p(t))&&(l=document.createElement("object"),""!=t&&(l.id=t),""!=n&&(l.className=n),l.style.position="absolute",l.style.left=i+"px",l.style.top=o+"px",l.data=r,l.height=s,l.width=a,e.appendChild(l)),l},y.crearvid=function(e,t,r,n,i,o,a,s,l){return""==(l=p(t))&&(l=document.createElement("video"),""!=t&&(l.id=t),""!=n?l.className=n:l.style.position="absolute",""!=i&&(l.style.left=i+"px"),""!=o&&(l.style.top=o+"px"),l.src=r,""!=s&&(l.height=s),""!=a&&(l.width=a),l.controls="controls",e.appendChild(l)),l},y.crearinput=function(e){var t,r=p(e.name);return""==r&&(t=document.createElement("a"),r=document.createElement("input"),e.name&&(r.id=e.name),r.type="text",y.nozero(e.cssclass)&&(r.className=e.cssclass),y.nozero(e.cssclass)||(r.style.position="absolute"),r.style.left=c(e.posx),r.style.top=c(e.posy),r.style.width=c(e.dimw),r.style.height=c(e.dimh),y.nozero(e.pholder)||(e.pholder=y.td("Tu respuesta")),r.title=e.pholder,r.placeholder=e.pholder,r.value="",t.appendChild(r),e.pai.appendChild(t)),r},y.crearsonido=function(e,t,r){var n=p(t);return""==n&&(n=document.createElement("audio"),""!=t&&(n.id=t),n.preload=r,e.appendChild(n)),n},y.crearselect=function(e,t,r,n,i,o){var a=p(t);if(""==a){for(a=document.createElement("select"),""!=t&&(a.id=t),""!=r?a.className=r:a.style.position="absolute",t=0;t<o.length;++t)a[a.length]=new Option(o[t],o[t]);-1!=n&&(-50!=n&&(a.style.top=i+"px"),-50!=i&&(a.style.left=n+"px")),e.appendChild(a)}return a},y.crearselectimx=function(e,t,r,n,i,o,a,s){var l=p(t);if(""==l){for(l=document.createElement("select"),""!=t&&(l.id=t),""!=r?l.className=r:l.style.position="absolute",l.style.backgroundImage="url("+s[0]+")",t=0;t<s.length;++t)l[t]=new Option("",s[t]),l[t].style.width=o+"px",l[t].style.height=a+"px",l[t].style.backgroundImage="url("+s[t]+")",l[t].style.backgroundRepeat="no-repeat",l[t].style.backgroundSize=" 90px auto";-50!=n&&(l.style.top=i+"px"),-50!=i&&(l.style.left=n+"px"),l.onchange=function(){this.style.backgroundImage="url("+this.value+")",this.style.backgroundRepeat="no-repeat",this.style.backgroundSize=" 90px auto"},e.appendChild(l)}return l},y.transparencia=function(e,t){""!=t&&(e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")")},y.cargaimaxe=function(a,e,s,l,c,p,d){y.addEventSimple(a,"load",function e(){var t=y.reduce(a.width,a.height,s,l);a.width=t.W,a.height=t.H,d&&(a.style.left=1+(s-t.W)/2+"px",a.style.top=1+(l-t.H)/2+"px");var r,n,i=a.width,o=a.height;0<s&&(n=a.naturalWidth,r=a.naturalHeight,s<n&&(r=o=parseInt(s/n*100)*r/100,n=i=s),l<r&&(i=(o=l)/r*100*n/100),a.width=i,a.height=o,d&&(a.style.left=1+(s-i)/2+"px",a.style.top=1+(l-o)/2+"px")),p&&(a.parentNode.style.backgroundImage=""),y.removeEventSimple(a,"load",e),a.style.visibility="visible",c&&c(t.W,t.H,!0)}),y.addEventSimple(a,"error",function(){return"b"}),p&&(a.parentNode.style.backgroundImage="url("+M+"'pre.gif')",a.parentNode.style.backgroundRepeat="no-repeat"),a.style.visibility="hidden",a.src=e},y.ttrim=function(e){var t="";return""!=e&&(t=e.replace(/^\s\s*/,"").replace(/\s\s*$o/,"")),t},y.borde=function(e,t){return""!=t&&(e.style.borderRadius=t+"px",e.style.MozBorderRadius=t+"px",e.style.MsBorderRadius=t+"px",e.style.webkitBorderRadius=t+"px",e.style.khtmlBorderRadius=t+"px"),!0},y.comprobar=function(){Z.querySelectorAll(".pclcomproba")[0].click()},y.funcomprobar=function(e){var t;return""!=e&&((t=y.dom("btcomproba")).style.visibility="visible",y.addEventSimple(t,"click",e)),!0},y.sleep=function(e){for(var t=(new Date).getTime();t+e>=(new Date).getTime(););},y.salto=function(e){var t=P;if(t)for(var r=0;r<t.length;r++)t[r].pause();if(B)for(r=0;r<B.length;r++)B[r].src=B[r].src;switch(e){case"ver":y.imprimirdv(Z.innerHTML,0);break;case"imprimir":y.imprimirdv(Z.innerHTML,1);break;case"comprobar":y.comprobar();break;default:Z.style.display="block",isNaN(e)?"LIM:"==(t=e.replace(/\s/g,"")).substr(0,4)?(t=t.split(":")[1],y.salto(n.indexOf(t)+1)):"-"==e.substr(0,1)?window.open(e.substr(1),"_self"):open(e):e<=ne&&0<e&&(v(e),--e,0==te?(Z.style.display="none",(Z=O[e]).style.display="block"):(y.dom("paxina"+e).style.display="block",y.dom("paxina"+e)&&("none"==y.dom("paxina"+e).style.display&&(y.amosatodo(),y.dom("paxina"+e).style.display="block"),y.getPosition("paxina"+e))),g(e))}},y.lcambia=function(e,t,r){return e.substr(0,t)+r+e.substr(t+r.length)},y.enche=function(e,t){for(var r="",n=0;n<t;n++)r+=e;return r},y.limparHTML=function(e){return e.replace(/<[^>]+>/g,"")},y.sspc=function(e){return e.replace(/ /g,"")},y.xira=function(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.MozTransform="rotate("+t+"deg)",e.style.OTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"},y.reduce=function(e,t,r,n){var i={};return i.W=e,i.H=t,0<r&&(r<e&&(e=parseInt(r/e*100),i.W=r,i.H=e*t/100,t=i.H,e=i.W),n<t&&(i.H=n,i.W=n/t*100*e/100)),i},y.nozero=function(e){return null!=e&&""!=e&&"undefined"!=e},y.valorcss=function(e,t){if(document.styleSheets)for(var r=document.styleSheets.length-1;0<=r;r--)for(var n=document.styleSheets[r].cssRules||document.styleSheets[r].rules||[],i=0;i<n.length;i++)if(n[i].selectorText===e)return n[i].style[t];return null},y.cambiafont=function(e){if(0<e.length)for(var t=e.length-1;-1<t;t--){var r=e[t].getAttribute("color"),n=e[t].getAttribute("size"),i=e[t].getAttribute("face"),o=document.createElement("span");o.setAttribute("style","color:"+r+";font-size:"+n+"px;face:"+i+";"),o.innerHTML=e[t].innerHTML,e[t].parentNode.insertBefore(o,e[t]),e[t].parentNode.removeChild(e[t])}},y.addrecu=function(e){return e},y.qhtml=function(e,t){if(y.dom(e))for(var r,n,i,o,a=y.dom(e).querySelectorAll("*"),s=a.length,l=0;l<s;l++)for(var c in r=a[l].getAttribute("name"),o=a[l].tagName,t)r=="lim"+c&&(n=t[c],"IMG"==o?(i=a[l].getAttribute("src"),"undefined"!=a[l].getAttribute("title")?t.imaxeAltText.push(a[l].getAttribute("title")):t.imaxeAltText.push(""),[].filter.call(a[l].attributes,function(e){return/^data-/.test(e.name)})):i=a[l].innerHTML,n instanceof Array?n.push(i):n=i);return t},y.prc=function(e,t){var r,n={width:600,height:450,cssstyle:""},i={ison:"",autoson:0,txliga:"",paxliga:"",mensamal:"",mensaben:"",txcabe:"",txpe:"",modo:0,forma:0};for(r in i)null==t.properties[r]&&(t.properties[r]=i[r]);for(r in n)null==t[r]&&(t[r]=n[r]);for(r in e)null==t.properties[r]&&(t.properties[r]=e[r]);for(r in e)""!=e[r]&&(t.properties[r]=e[r]);return t},y.newpanel=function(e,t){"function"==typeof window[e]&&new window[e](t).crear()},y.idtexto=function(e,t){se[e].nome=t},y.loadp=function(e){e.paxina=y.nup+1;var t=y.nup;se[t]={nome:"",tip:0,pax:0,cid:"",intos:0,res:0,cond:"",av:!0,ret:!0,auto:!1},y.nup++,"function"==typeof window[e.properties.type]&&(new window[e.properties.type](e).crear(),e.properties.cid&&(se[t].cid=e.properties.cid,n[t]=e.properties.cid.replace(/\s/g,"")),y.nozero(e.properties.name)?se[t].nome=e.properties.name:y.nozero(e.properties.txcabe)?se[t].nome=e.properties.txcabe:se[t].nome="",se[t].pax=1,se[t].intos=0,"1"==e.properties.autoson&&"undefined"!=le[t]&&(le[t]=e.properties.ison))},y.load=function(e){e=y.dom(e).value;var t=!0;try{var r=JSON.parse(e)}catch(e){t=!1,H.innerHTML="",alert(y.td("Error en el archivo de datos"))}if(t){ne=t=(e=r).paxinas.length;var n=0;y.aspecto({titulo:e.titulo,subtitulo:e.subtitulo,musica:e.musica}),r='<ul id="limtabul'+re+'">';var i='<ul id="limnumul'+re+'">';for(x=0;x<t;x++){var o=e.paxina[x].paxina[0];y.crearpaxina(x,o.cssstyle);var a=o.panels.length;for(y.nozero(o.menu)&&(r+='<li><a href="#paxina'+x+'">'+o.menu+"</a></li>"),i+='<li><a href="#paxina'+x+'">'+(x+1)+"</a></li>",xx=0;xx<a;xx++){var s,o=e.paxinas[x].paxina[0].panels[xx];"function"==typeof window[o.panel.properties.type]&&(o.panel.num=n,y.nozero(o.panel.properties.menu)&&(r+='<li><a href="#paxina'+x+'">'+o.panel.properties.menu+"</a></li>"),new window[o.panel.properties.type](o.panel).crear(),se[n]={nome:"",tip:0,pax:0,intos:0,res:0,cond:"",av:!0,ret:!0,auto:!1},y.nozero(o.panel.properties.name)?se[n].nome=o.panel.properties.name:se[n].nome="",se[n].pax=x+1,se[n].intos=0,s=o.panel.properties.autoson,y.nozero(s)&&"1"==s&&"undefined"!=le[x]&&(le[x]=o.panel.properties.son),n++)}}r+=" </ul>",i+=" </ul>",y.dom("limtab"+re).style.display="none",y.dom("latmenu"+re).innerHTML=r,h("limtabul"+re),y.dom("limtab"+re).innerHTML=i,h("limnumul"+re),Z=y.dom("paxina"+re),0==te&&(y.dom("latmenu"+re).style.display="none",v(1)),null!=(e=l("npax"))?y.salto(Number(e)):2==te&&(y.dom("limtab"+re).innerHTML=r)}},y.drag=function(n,e,r,t){elsobre=null,e.querySelectorAll("."+t),(e=new Draggabilly(n,{containment:e})).on("dragStart",function(e,t,r){this.zprof=n.style.zIndex||2999,n.style.zIndex="3000"}),e.on("dragEnd",function(e,t){elsobre&&elsobre.classList.remove("pcldestino"),this.zprof&&(n.style.zIndex=this.zprof),""!=r&&r(n,t.clientX,t.clientY)}),e.on("dragMove",function(){})},y.esdrop=function(e,t,r,n,i,o){var a,s,l;return t&&(a=!1,s=e.getBoundingClientRect(),t=t.getBoundingClientRect(),(s.left<=t.left+t.width&&s.left>=t.left&&s.top<=t.top+t.height&&s.top>=t.top||s.left+s.width<=t.left+t.width&&s.left+s.width>=t.left&&s.top<=t.top+t.height&&s.top>=t.top||s.left<=t.left+t.width&&s.left>=t.left&&s.top+s.height<=t.top+t.height&&s.top+s.height>=t.top||s.left+s.width<=t.left+t.width&&s.left+s.width>=t.left&&s.top+s.height<=t.top+t.height&&s.top+s.height>=t.top)&&(a=!0,G.play()),a&&n&&(n=parseInt(e.style.marginLeft)||0,l=0,r&&(l=r.getBoundingClientRect().left),e.style.transform+="translateX("+(t.left+(t.width-s.width)/2-n-l)+"px)"),a&&i&&(i=parseInt(e.style.marginTop)||0,l=0,r&&(l=r.getBoundingClientRect().top),e.style.transform+="translateY("+(t.top+(t.height-s.height)/2-i-l)+"px)"),a&&o&&(i=parseInt(e.style.marginTop)||0,l=0,r&&(l=r.getBoundingClientRect().left),n=parseInt(e.style.marginLeft)||0,r&&r.getBoundingClientRect(),s.left+s.width>t.left+t.width?e.style.transform+="translateX("+(t.left+(t.width-s.width)-n-l-5)+"px)":s.left<t.left&&(e.style.transform+="translateX("+(t.left-n-l+2)+"px)"),s.top+s.height>t.top+t.height&&(-1<(r=t.top+(t.height-s.height)-i-l-5)&&(e.style.transform+="translateY("+r+"px)")))),a},y.essobredrop=function(e,t){var r=e.getBoundingClientRect();if(t)for(var n=0;n<t.length;n++){var i=t[n],o=i.getBoundingClientRect();if(r.left<o.left+o.width&&r.left>o.left&&r.top<o.top+o.height&&r.top>o.top)return i.classList.add("pcldestino"),i;i.classList.remove("pcldestino")}return null},y.paxina=function(){return Q},y.decode=function(e){var l={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(e){var t="",r=0;for(e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");r<e.length;){var n=this._keyStr.indexOf(e.charAt(r++)),i=this._keyStr.indexOf(e.charAt(r++)),o=this._keyStr.indexOf(e.charAt(r++)),a=this._keyStr.indexOf(e.charAt(r++)),n=n<<2|i>>4,i=(15&i)<<4|o>>2,s=(3&o)<<6|a;t+=String.fromCharCode(n),64!=o&&(t+=String.fromCharCode(i)),64!=a&&(t+=String.fromCharCode(s))}return l._utf8_decode(t)},_utf8_decode:function(e){var t="",r=0;for(c1=c2=0;r<e.length;){var n=e.charCodeAt(r);n<128?(t+=String.fromCharCode(n),r++):191<n&&n<224?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),r+=3)}return t}};return l.decode(e)},y.imprimirdv=function(e,t){var r='<html><head><meta charset="UTF-8"/><title></title>   <link rel="stylesheet" href="./sclim/lim.css" type="text/css" /></head><body class="pclimprin">'+e+"</body></html>",e=window.open("","Print","height=800,width=1000");return e.document.write(r),e.document.close(),e.focus(),1==t&&e.print(),!0},y.autoSizeText=function(e){if(!(e.length<0)){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(function(e){for(var t,r=[];e.scrollHeight>e.offsetHeight;)r.push((t=void 0,t=parseInt($(e).css("font-size").slice(0,-2))-1+"px",$(e).css("font-size",t)));return r}(i))}return t}},y.relposX=function(e){for(var t=0;isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent;);return t},y.relposY=function(e){for(var t=0;isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;);return t},y.absPos=function(e){for(var t,r=t=0;null!=e;e=e.offsetParent)t+=e.offsetLeft,r+=e.offsetTop;return{x:t,y:r}},y.voz=function(e){e=new window.SpeechSynthesisUtterance(e),window.speechSynthesis.cancel(),window.speechSynthesis.speak(e)},y.poncondicion=function(e,t){se[Number(e)-1].cond=t},y.condicional=function(e){var t,r;if(-1<e.indexOf("|")){if(0<(i=(e=e.split("|"))[0]).indexOf("<")?(t=i.split("<"),r="<"):0<i.indexOf(">")?(t=i.split(">"),r=">"):0<i.indexOf("=")?(t=i.split("="),r="="):0<i.indexOf("<>")&&(t=i.split("<>"),r="<>"),null!=t[1]){var n=t[1],i=e[1],o=xe;switch("totalben"==t[0]&&(o=xe),t=Number(e[2]),r){case"<":o<n&&(t=Number(i));break;case">":n<o&&(t=Number(i));break;case"=":o==n&&(t=Number(i));break;case"<>":o!=n&&(t=Number(i))}n=t}}else n=e;return ee=n,y.salto(n),!0},y.avanza=function(){return ee<ne&&(ee++,y.salto(ee)),!0},y.retrocede=function(){return 1<ee&&(ee--,y.salto(ee)),!0},y.compara=function(e,t){if(e.length!=t.length)return!1;for(var r=e.join(","),n=0;n<t.length;n++)-1<r.indexOf(t[n])&&(r=r.split(t[n]).join(""));return!(0<(r=r.replace(/,/g,"")).length)}},function(e){function t(){}function r(s){if(s){var l="undefined"==typeof console?t:function(e){console.error(e)};return s.bridget=function(e,t){var r,o,a;(r=t).prototype.option||(r.prototype.option=function(e){s.isPlainObject(e)&&(this.options=s.extend(!0,this.options,e))}),o=e,a=t,s.fn[o]=function(t){if("string"!=typeof t)return this.each(function(){var e=s.data(this,o);e?(e.option(t),e._init()):(e=new a(this,t),s.data(this,o,e))});for(var e=c.call(arguments,1),r=0,n=this.length;r<n;r++){var i=s.data(this[r],o);if(i)if(s.isFunction(i[t])&&"_"!==t.charAt(0)){if(void 0!==(i=i[t].apply(i,e)))return i}else l("no such method '"+t+"' for "+o+" instance");else l("cannot call methods on "+o+" prior to initialization; attempted to call '"+t+"'")}return this}},s.bridget}}var c=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],r):r("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(e,t){(r(e,t)?i:n)(e,t)}var r,n,i="classList"in document.documentElement?(r=function(e,t){return e.classList.contains(t)},n=function(e,t){e.classList.add(t)},function(e,t){e.classList.remove(t)}):(r=function(e,t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},n=function(e,t){r(e,t)||(e.className=e.className+" "+t)},function(e,t){e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")}),o={hasClass:r,addClass:n,removeClass:i,toggleClass:t,has:r,add:n,remove:i,toggle:t};"function"==typeof define&&define.amd?define("classie/classie",o):"object"==typeof exports?module.exports=o:e.classie=o}(window),function(e){function t(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,r=0,n=i.length;r<n;r++)if("string"==typeof o[t=i[r]+e])return t}}var i=["Webkit","Moz","ms","Ms","O"],o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(I){function N(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function e(b){var x,y,M,L=!1;return function(e){if(L||(L=!0,m=I.getComputedStyle,g=m?function(e){return m(e,null)}:function(e){return e.currentStyle},x=function(e){return(e=g(e))||w("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e},(y=b("boxSizing"))&&((f=document.createElement("div")).style.width="200px",f.style.padding="1px 2px 3px 4px",f.style.borderStyle="solid",f.style.borderWidth="1px 2px 3px 4px",f.style[y]="border-box",(h=document.body||document.documentElement).appendChild(f),v=x(f),M=200===N(v.width),h.removeChild(f))),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){if("none"===(r=x(e)).display){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},r=0,n=E.length;r<n;r++)t[E[r]]=0;return t}(t={}).width=e.offsetWidth,t.height=e.offsetHeight,n=t.isBorderBox=!(!y||!r[y]||"border-box"!==r[y]);for(var i=0,o=E.length;i<o;i++){var a,s,l,c=E[i],p=e,d=u=r[c],u=(I.getComputedStyle||-1===d.indexOf("%")||(a=(u=p.style).left,(l=(s=p.runtimeStyle)&&s.left)&&(s.left=p.currentStyle.left),u.left=d,d=u.pixelLeft,u.left=a,l&&(s.left=l)),d),p=parseFloat(u);t[c]=isNaN(p)?0:p}return e=t.paddingLeft+t.paddingRight,i=t.paddingTop+t.paddingBottom,o=t.marginLeft+t.marginRight,c=t.marginTop+t.marginBottom,p=t.borderLeftWidth+t.borderRightWidth,d=t.borderTopWidth+t.borderBottomWidth,n=n&&M,!1!==(u=N(r.width))&&(t.width=u+(n?0:e+p)),!1!==(r=N(r.height))&&(t.height=r+(n?0:i+d)),t.innerWidth=t.width-(e+p),t.innerHeight=t.height-(i+d),t.outerWidth=t.width+o,t.outerHeight=t.height+c,t}var m,f,h,v,g}}var w="undefined"==typeof console?function(){}:function(e){console.error(e)},E="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):I.getSize=e(I.getStyleProperty)}(window),function(r){function n(e){var t=r.event;return t.target=t.target||t.srcElement||e,t}var e=document.documentElement,t=function(){};e.addEventListener?t=function(e,t,r){e.addEventListener(t,r,!1)}:e.attachEvent&&(t=function(t,e,r){t[e+r]=r.handleEvent?function(){var e=n(t);r.handleEvent.call(r,e)}:function(){var e=n(t);r.call(t,e)},t.attachEvent("on"+e,t[e+r])});var i=function(){};e.removeEventListener?i=function(e,t,r){e.removeEventListener(t,r,!1)}:e.detachEvent&&(i=function(t,r,n){t.detachEvent("on"+r,t[r+n]);try{delete t[r+n]}catch(e){t[r+n]=void 0}}),e={bind:t,unbind:i},"function"==typeof define&&define.amd?define("eventie/eventie",e):"object"==typeof exports?module.exports=e:r.eventie=e}(window),function(){function e(){}function o(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,n=this,i=n.EventEmitter;r.getListeners=function(e){var t,r=this._getEvents();if(e instanceof RegExp){var n={};for(t in r)r.hasOwnProperty(t)&&e.test(t)&&(n[t]=r[t])}else n=r[e]||(r[e]=[]);return n},r.flattenListeners=function(e){for(var t=[],r=0;r<e.length;r+=1)t.push(e[r].listener);return t},r.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},r.addListener=function(e,t){var r,n=this.getListenersAsObject(e),i="object"==typeof t;for(r in n)n.hasOwnProperty(r)&&-1===o(n[r],t)&&n[r].push(i?t:{listener:t,once:!1});return this},r.on=t("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=t("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var r,n,i=this.getListenersAsObject(e);for(n in i)i.hasOwnProperty(n)&&(r=o(i[n],t),-1!==r&&i[n].splice(r,1));return this},r.off=t("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,r){var n,i,o=e?this.removeListener:this.addListener;if(e=e?this.removeListeners:this.addListeners,"object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)o.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?o:e).call(this,n,i);return this},r.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"==r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},r.removeAllListeners=t("removeEvent"),r.emitEvent=function(e,t){var r,n,i=this.getListenersAsObject(e);for(n in i)if(i.hasOwnProperty(n))for(r=i[n].length;r--;){var o=i[n][r];!0===o.once&&this.removeListener(e,o.listener),o.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,o.listener)}return this},r.trigger=t("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:n.EventEmitter=e}.call(this),function(r,n){"function"==typeof define&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return n(r,e,t)}):"object"==typeof exports?module.exports=n(r,require("wolfy87-eventemitter"),require("eventie")):r.Unipointer=n(r,r.EventEmitter,r.eventie)}(window,function(i,e,o){function t(){}(t.prototype=new e).bindStartEvent=function(e){this._bindStartEvent(e,!0)},t.prototype.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},t.prototype._bindStartEvent=function(e,t){t=void 0===t||t?"bind":"unbind";i.navigator.pointerEnabled?o[t](e,"pointerdown",this):i.navigator.msPointerEnabled?o[t](e,"MSPointerDown",this):(o[t](e,"mousedown",this),o[t](e,"touchstart",this))},t.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},t.prototype.getTouch=function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t];if(n.identifier==this.pointerIdentifier)return n}},t.prototype.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},t.prototype.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},t.prototype.onMSPointerDown=t.prototype.onpointerdown=function(e){this._pointerDown(e,e)},t.prototype._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},t.prototype.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var a={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return t.prototype._bindPostStartEvents=function(e){if(e){var t=a[e.type];e=e.preventDefault?i:document;for(var r=0,n=t.length;r<n;r++)o.bind(e,t[r],this);this._boundPointerEvents={events:t,node:e}}},t.prototype._unbindPostStartEvents=function(){var e=this._boundPointerEvents;if(e&&e.events){for(var t=0,r=e.events.length;t<r;t++)o.unbind(e.node,e.events[t],this);delete this._boundPointerEvents}},t.prototype.onmousemove=function(e){this._pointerMove(e,e)},t.prototype.onMSPointerMove=t.prototype.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},t.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},t.prototype._pointerMove=function(e,t){this.pointerMove(e,t)},t.prototype.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},t.prototype.onmouseup=function(e){this._pointerUp(e,e)},t.prototype.onMSPointerUp=t.prototype.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},t.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},t.prototype._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},t.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},t.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},t.prototype.pointerDone=function(){},t.prototype.onMSPointerCancel=t.prototype.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},t.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},t.prototype._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},t.prototype.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},t.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},t}),function(r,n){"function"==typeof define&&define.amd?define("unidragger/unidragger",["eventie/eventie","unipointer/unipointer"],function(e,t){return n(r,e,t)}):"object"==typeof exports?module.exports=n(r,require("eventie"),require("unipointer")):r.Unidragger=n(r,r.eventie,r.Unipointer)}(window,function(e,a,n){function r(){}function i(){return!1}(r.prototype=new n).bindHandles=function(){this._bindHandles(!0)},r.prototype.unbindHandles=function(){this._bindHandles(!1)};var s=e.navigator;r.prototype._bindHandles=function(t){t=void 0===t||!!t;for(var e=s.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:s.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:function(){t&&l(o)},r=t?"bind":"unbind",n=0,i=this.handles.length;n<i;n++){var o=this.handles[n];this._bindStartEvent(o,t),e(o),a[r](o,"click",this)}};var l="attachEvent"in document.documentElement?function(e){"IMG"==e.nodeName&&(e.ondragstart=i);for(var t=0,r=(e=e.querySelectorAll("img")).length;t<r;t++)e[t].ondragstart=i}:function(){},o=r.allowTouchstartNodes={INPUT:!0,A:!0,BUTTON:!0,SELECT:!0};return r.prototype.pointerDown=function(e,t){this._dragPointerDown(e,t);var r=document.activeElement;r&&r.blur&&r.blur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])},r.prototype._dragPointerDown=function(e,t){this.pointerDownPoint=n.getPointerPoint(t);var r,t=e.target.nodeName;if((r="touchstart"==e.type)&&!(r=o[t]))e:{for(r=e.target;r!=document.body;)if("A"==(r=r.parentNode).nodeName)break e;r=void 0}r||"SELECT"==t||(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.prototype.pointerMove=function(e,t){var r=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,r]),this._dragMove(e,t,r)},r.prototype._dragPointerMove=function(e,t){var r={x:(r=n.getPointerPoint(t)).x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(r)&&this._dragStart(e,t),r},r.prototype.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},r.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},r.prototype._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},r.prototype._dragStart=function(e,t){this.isDragging=!0,this.dragStartPoint=r.getPointerPoint(t),this.isPreventingClicks=!0,this.dragStart(e,t)},r.prototype.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},r.prototype._dragMove=function(e,t,r){this.isDragging&&this.dragMove(e,t,r)},r.prototype.dragMove=function(e,t,r){this.emitEvent("dragMove",[e,t,r])},r.prototype._dragEnd=function(e,t){this.isDragging=!1;var r=this;setTimeout(function(){delete r.isPreventingClicks}),this.dragEnd(e,t)},r.prototype.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},r.prototype.onclick=function(e){this.isPreventingClicks&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.prototype._staticClick=function(e,t){"INPUT"==e.target.nodeName&&"text"==e.target.type&&e.target.focus(),this.staticClick(e,t)},r.prototype.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},r.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},r.getPointerPoint=n.getPointerPoint,r}),function(i,o){"function"==typeof define&&define.amd?define(["classie/classie","get-style-property/get-style-property","get-size/get-size","unidragger/unidragger"],function(e,t,r,n){return o(i,e,t,r,n)}):"object"==typeof exports?module.exports=o(i,require("desandro-classie"),require("desandro-get-style-property"),require("get-size"),require("unidragger")):i.Draggabilly=o(i,i.classie,i.getStyleProperty,i.getSize,i.Unidragger)}(window,function(i,n,e,r,t){function o(e,t){for(var r in t)e[r]=t[r];return e}function a(e,t){this.element="string"==typeof e?c.querySelector(e):e,x&&(this.$element=x(this.element)),this.options=o({},this.constructor.defaults),this.option(t),this._create()}function s(e,t,r){return r=r||"round",t?Math[r](e/t)*t:e}for(var l,c=i.document,p=c.defaultView,d=p&&p.getComputedStyle?function(e){return p.getComputedStyle(e,null)}:function(e){return e.currentStyle},u="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},m=0,f=["webkit","moz","ms","o"],h=i.requestAnimationFrame,v=i.cancelAnimationFrame,g=0;g<f.length&&(!h||!v);g++)l=f[g],h=h||i[l+"RequestAnimationFrame"],v=v||i[l+"CancelAnimationFrame"]||i[l+"CancelRequestAnimationFrame"];h&&v||(h=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-m)),n=i.setTimeout(function(){e(t+r)},r);return m=t+r,n},v=function(e){i.clearTimeout(e)});var b=e("transform");e=!!e("perspective");var x=i.jQuery;o(a.prototype,t.prototype),a.defaults={},a.prototype.option=function(e){o(this.options,e)},a.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=o({},this.position);var e=d(this.element);"relative"!=e.position&&"absolute"!=e.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},a.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},a.prototype.dispatchEvent=function(e,t,r){var n=[t].concat(r);this.emitEvent(e,n),(n=i.jQuery)&&this.$element&&(t?((t=n.Event(t)).type=e,this.$element.trigger(t,r)):this.$element.trigger(e,r))},a.prototype._getPosition=function(){var e=d(this.element),t=parseInt(e.left,10),r=parseInt(e.top,10);this.position.x=isNaN(t)?0:t,this.position.y=isNaN(r)?0:r,this._addTransformPosition(e)},a.prototype._addTransformPosition=function(e){var t,r;!b||0===(r=e[b]).indexOf("matrix")&&(e=r.split(","),t=0===r.indexOf("matrix3d")?12:4,r=parseInt(e[t],10),e=parseInt(e[1+t],10),this.position.x+=r,this.position.y+=e)},a.prototype.pointerDown=function(e,t){this._dragPointerDown(e,t);var r=c.activeElement;r&&r.blur&&r.blur(),this._bindPostStartEvents(e),n.add(this.element,"is-pointer-down"),this.dispatchEvent("pointerDown",e,[t])},a.prototype.pointerMove=function(e,t){var r=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,r]),this._dragMove(e,t,r)},a.prototype.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.isDragging=!0,n.add(this.element,"is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},a.prototype.measureContainment=function(){var e,t=this.options.containment;t&&(this.size=r(this.element),e=this.element.getBoundingClientRect(),t=u(t)?t:"string"==typeof t?c.querySelector(t):this.element.parentNode,this.containerSize=r(t),t=t.getBoundingClientRect(),this.relativeStartPosition={x:e.left-t.left,y:e.top-t.top})},a.prototype.dragMove=function(e,t,r){var n,i,o,a;this.isEnabled&&(o=r.x,a=r.y,n=(i=this.options.grid)&&i[0],i=i&&i[1],o=s(o,n),a=s(a,i),o=this.containDrag("x",o,n),a=this.containDrag("y",a,i),o="y"==this.options.axis?0:o,a="x"==this.options.axis?0:a,this.position.x=this.startPosition.x+o,this.position.y=this.startPosition.y+a,this.dragPoint.x=o,this.dragPoint.y=a,this.dispatchEvent("dragMove",e,[t,r]))},a.prototype.containDrag=function(e,t,r){if(!this.options.containment)return t;var n="x"==e?"width":"height",i=this.relativeStartPosition[e];return e=s(-i,r,"ceil"),n=s(this.containerSize[n]-i-this.size[n],r,"floor"),Math.min(n,Math.max(e,t))},a.prototype.pointerUp=function(e,t){n.remove(this.element,"is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},a.prototype.dragEnd=function(e,t){this.isEnabled&&(this.isDragging=!1,b&&(this.element.style[b]="",this.setLeftTop()),n.remove(this.element,"is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},a.prototype.animate=function(){var e;this.isDragging&&(this.positionDrag(),e=this,h(function(){e.animate()}))};var y=e?function(e,t){return"translate3d( "+e+"px, "+t+"px, 0)"}:function(e,t){return"translate( "+e+"px, "+t+"px)"};return a.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},a.prototype.positionDrag=b?function(){this.element.style[b]=y(this.dragPoint.x,this.dragPoint.y)}:a.prototype.setLeftTop,a.prototype.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},a.prototype.enable=function(){this.isEnabled=!0},a.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},a.prototype.destroy=function(){this.disable(),b&&(this.element.style[b]=""),this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},a.prototype._init=function(){},x&&x.bridget&&x.bridget("draggabilly",a),a}),"object"!=typeof JSON&&(JSON={}),function(){function b(e){return e<10?"0"+e:e}function V(e){return E.lastIndex=0,E.test(e)?'"'+e.replace(E,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function N(e,t){var n=h,i=t[e];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e)),"function"==typeof G&&(i=G.call(t,e,i)),typeof i){case"string":return V(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";h+=r;var o,a=[];if("[object Array]"===Object.prototype.toString.apply(i)){for(var s=i.length,l=0;l<s;l+=1)a[l]=N(l,i)||"null";var c=0===a.length?"[]":h?"[\n"+h+a.join(",\n"+h)+"\n"+n+"]":"["+a.join(",")+"]";return h=n,c}if(G&&"object"==typeof G)for(s=G.length,l=0;l<s;l+=1)"string"!=typeof G[l]||(c=N(o=G[l],i))&&a.push(V(o)+(h?": ":":")+c);else for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(c=N(o,i))&&a.push(V(o)+(h?": ":":")+c);return c=0===a.length?"{}":h?"{\n"+h+a.join(",\n"+h)+"\n"+n+"}":"{"+a.join(",")+"}",h=n,c}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var J=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,E=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,r,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},G;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(r=h="","number"==typeof n)for(i=0;i<n;i+=1)r+=" ";else"string"==typeof n&&(r=n);if((G=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return N("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(p,y){function C(e,t){var r,n,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(void 0!==(n=C(i,r))?i[r]=n:delete i[r]);return y.call(e,t,i)}if(p=String(p),J.lastIndex=0,J.test(p)&&(p=p.replace(J,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(p.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var f=eval("("+p+")");return"function"==typeof y?C({"":f},""):f}throw new SyntaxError("JSON.parse")})}();